----------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Kate S\OneDrive - Johns Hopkins\FSCI\Data team\Data Analysis Workstream\FSCI analysis datasets - Year 2 (2022)\FSCI 2022 Data Management.l
> og
  log type:  text
 opened on:   1 Dec 2022, 20:02:51

. /* 
> Food Systems Countdown to 2030 Initiative 2022 Data Management
> Created: 29 June 2022
> Last modified: 1 November 2022
> Kate Schneider, kschne29@jhu.edu
> 
> Purpose: this script ingests raw datasets and extracts, reshapes, and calculates the selected FSCI indicators. 
> Input data and metadata can be found here: [link to metadata spreadsheet]
> Output datasets can be found here: [link to Harvard Dataverse datasets]
> */
. *stop // breaks code to prevent accidental Ctrl+D running full do file
. * Date
. display "$S_DATE"
 1 Dec 2022

. 
. // HOUSEKEEPING ////////////////////////////////////////////////////////////////
. 
. ** Unique filepath to root folder: Enter your own filepath between the quotation marks
. global filepath "C:\Users\Kate S\OneDrive - Johns Hopkins\FSCI\Data team\Data Analysis Workstream" 

.                 // Note: working folder until finalized
. 
. * Relative filepaths:
. global datain "$filepath\Raw data - Year 2 (2022)"

. global saveto "$filepath\FSCI analysis datasets - Year 2 (2022)"

. global tables "C:\Users\Kate S\OneDrive - Johns Hopkins\FSCI\FSCI All Collaborators Shared Folder\2022 - Year 2\Materials for manuscript"

. cd "$saveto"
C:\Users\Kate S\OneDrive - Johns Hopkins\FSCI\Data team\Data Analysis Workstream\FSCI analysis datasets - Year 2 (2022)

. 
. 
. // CLASSIFICATION, CONTEXT, AND WEIGHTING VARIABLES ////////////////////////////
. 
. * Harmonized variables to merge datasets: 
. * country = country name
. * ISO = country code / ISO3 code
. * year = year
. 
. **# ISO3 country codes
.                 import delimited using "$datain\iso3", clear varnames(1)
(encoding automatically selected: ISO-8859-1)
(2 vars, 249 obs)

.                 ren iso3 ISO

.                 lab var ISO "ISO-alpha3 code"

.                 ren name country

.                 lab var country "Country name"

.                 
.                 // Rename countries to align with official names per https://www.un.org/en/about-us/member-states
.                         replace country = "Bahamas" if country == "Bahamas (the)" 
(1 real change made)

.                         replace country = "British Indian Ocean Territory" if country == "British Indian Ocean Territory (the)" 
(1 real change made)

.                         replace country = "Cayman Islands" if country == "Cayman Islands (the)" 
(1 real change made)

.                         replace country = "Central African Republic" if country == "Central African Republic (the)" 
(1 real change made)

.                         replace country = "Cocos (Keeling) Islands" if country == "Cocos (Keeling) Islands (the)" 
(1 real change made)

.                         replace country = "Comoros" if country == "Comoros (the)" 
(1 real change made)

.                         replace country = "Democratic Republic of the Congo" if country == "Congo (the Democratic Republic of the)" 
(1 real change made)

.                         replace country = "Congo" if country == "Congo (the)" 
(1 real change made)

.                         replace country = "Cook Islands" if country == "Cook Islands (the)" 
(1 real change made)

.                         replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire" 
(1 real change made)

.                         replace country = "Dominican Republic" if country == "Dominican Republic (the)" 
(1 real change made)

.                         replace country = "Falkland Islands (Malvinas)" if country == "Falkland Islands (the) [Malvinas]" 
(1 real change made)

.                         replace country = "Faroe Islands" if country == "Faroe Islands (the)" 
(1 real change made)

.                         replace country = "French Southern and Antarctic Territories" if country == "French Southern Territories (the)" 
(1 real change made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia (the)" 
(1 real change made)

.                         replace country = "Dem People's Rep of Korea" if country == "Korea (the Democratic People's Republic of)" 
(1 real change made)

.                         replace country = "Republic of Korea" if country == "Korea (the Republic of)" 
(1 real change made)

.                         replace country = "Lao People's Democratic Republic" if country == "Lao People's Democratic Republic (the)" 
(1 real change made)

.                         replace country = "Macau" if country == "Macao" 
(1 real change made)

.                         replace country = "Marshall Islands" if country == "Marshall Islands (the)" 
(1 real change made)

.                         replace country = "Republic of Moldova" if country == "Moldova (the Republic of)" 
(1 real change made)

.                         replace country = "Netherlands" if country == "Netherlands (the)" 
(1 real change made)

.                         replace country = "Niger" if country == "Niger (the)" 
(1 real change made)

.                         replace country = "Northern Mariana Islands" if country == "Northern Mariana Islands (the)" 
(1 real change made)

.                         replace country = "Philippines" if country == "Philippines (the)" 
(1 real change made)

.                         replace country = "Russian Federation" if country == "Russian Federation (the)" 
(1 real change made)

.                         replace country = "Reunion" if country == "Réunion" 
(1 real change made)

.                         replace country = "Saint Helena" if country == "Saint Helena, Ascension and Tristan da Cunha" 
(1 real change made)

.                         replace country = "Saint Pierre et Miquelon" if country == "Saint Pierre and Miquelon" 
(1 real change made)

.                         replace country = "Sudan" if country == "Sudan (the)" 
(1 real change made)

.                         replace country = "Svalbard and Jan Mayen Islands" if country == "Svalbard and Jan Mayen" 
(1 real change made)

.                         replace country = "Syrian Arab Republic" if country == "Syrian Arab Republic (the)" 
(1 real change made)

.                         replace country = "Taiwan" if country == "Taiwan (Province of China)" 
(1 real change made)

.                         replace country = "United Republic of Tanzania" if country == "Tanzania, the United Republic of" 
(1 real change made)

.                         replace country = "United Arab Emirates" if country == "United Arab Emirates (the)" 
(1 real change made)

.                         replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom of Great Britain and Northern I
> reland (the)" 
(1 real change made)

.                         replace country = "United States Minor Outlying Islands" if country == "United States Minor Outlying Islands (the)" 
(1 real change made)

.                         replace country = "United States of America" if country == "United States of America (the)" 
(1 real change made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)" 
(1 real change made)

.                         replace country = "British Virgin Islands" if country == "Virgin Islands (British)" 
(1 real change made)

.                         replace country = "United States Virgin Islands" if country == "Virgin Islands (U.S.)" 
(1 real change made)

.                         replace country = "Western Sahara" if country == "Western Sahara*" 
(1 real change made)

.                 
.                 // Save
.                 save iso, replace
file iso.dta saved

.                 export delimited using iso, replace
file iso.csv saved

.         
. **#UN member state classification
.                 import delimited using "$datain\g2015_2005_1.csv", clear varnames(1)
(encoding automatically selected: ISO-8859-1)
(11 vars, 3,332 obs)

.                         // Collapse to ADM0 level
.                                 collapse (first) status disp_area adm0_code, by(adm0_name)

.                                 foreach v in adm0_name status disp_area adm0_code {
  2.                                         lab var `v' ""
  3.                                 }

.                 
.                 ren adm0_name country

.                 replace status = "Occupied Palestinian Territory" if status == "Occupied Palestinan Territory"
(1 real change made)

.                 encode status, gen(UN_status_detail)

.                 lab var UN_status_detail "UN status and territorial details"

.                 tab UN_status_detail

       UN status and territorial |
                         details |      Freq.     Percent        Cum.
---------------------------------+-----------------------------------
                    AU Territory |          5        1.84        1.84
                     CN Province |          1        0.37        2.21
CN Special Administrative Region |          2        0.74        2.94
     DK Self-Governing Territory |          1        0.37        3.31
                    DK Territory |          1        0.37        3.68
 FR Non-Self-Governing Territory |          1        0.37        4.04
                    FR Territory |         14        5.15        9.19
                    Member State |        192       70.59       79.78
     NL Self-Governing Territory |          1        0.37       80.15
                    NL Territory |          1        0.37       80.51
                    NO Territory |          2        0.74       81.25
 NZ Non-Self-Governing Territory |          1        0.37       81.62
                    NZ Territory |          2        0.74       82.35
    Non-Self-Governing Territory |          1        0.37       82.72
  Occupied Palestinian Territory |          2        0.74       83.46
                    PT Territory |          2        0.74       84.19
           Sovereignty unsettled |         12        4.41       88.60
             The City of Vatican |          1        0.37       88.97
 UK Non-Self-Governing Territory |         10        3.68       92.65
                    UK Territory |          4        1.47       94.12
                    UK territory |          1        0.37       94.49
 US Non-Self-Governing Territory |          3        1.10       95.59
                    US Territory |         11        4.04       99.63
                    VE Territory |          1        0.37      100.00
---------------------------------+-----------------------------------
                           Total |        272      100.00

.                 tab UN_status_detail, nolabel

  UN status |
        and |
territorial |
    details |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          5        1.84        1.84
          2 |          1        0.37        2.21
          3 |          2        0.74        2.94
          4 |          1        0.37        3.31
          5 |          1        0.37        3.68
          6 |          1        0.37        4.04
          7 |         14        5.15        9.19
          8 |        192       70.59       79.78
          9 |          1        0.37       80.15
         10 |          1        0.37       80.51
         11 |          2        0.74       81.25
         12 |          1        0.37       81.62
         13 |          2        0.74       82.35
         14 |          1        0.37       82.72
         15 |          2        0.74       83.46
         16 |          2        0.74       84.19
         17 |         12        4.41       88.60
         18 |          1        0.37       88.97
         19 |         10        3.68       92.65
         20 |          4        1.47       94.12
         21 |          1        0.37       94.49
         22 |          3        1.10       95.59
         23 |         11        4.04       99.63
         24 |          1        0.37      100.00
------------+-----------------------------------
      Total |        272      100.00

.                 gen UNmemberstate = 1 if UN_status_detail == 8
(81 missing values generated)

.                 replace UNmemberstate = 0 if UNmemberstate == .
(81 real changes made)

.                 gen UN_status = .
(273 missing values generated)

.                         replace UN_status = 1 if UNmemberstate == 1
(192 real changes made)

.                         replace UN_status = 2 if inlist(UN_status_detail,16,17)
(14 real changes made)

.                         replace UN_status = 3 if inlist(UN_status_detail,20,21)
(5 real changes made)

.                         replace UN_status = 4 if UN_status_detail == 19
(10 real changes made)

.                         replace UN_status = 5 if inlist(UN_status_detail,1,2,3,4,5,6,7,8,9)
(218 real changes made)

.                         replace UN_status = 5 if inlist(UN_status_detail,11,12,13,14,15,18,22,23,24,25)
(24 real changes made)

.                 lab def status 1 "Member state" 2 "Occupied territory" 3 "Sovereignty unsettled" 4 "Permanent observer to the UN" 5 "Territory, region, or adm
> inistrated by a state"

.                         lab val UN_status status

.                         gen territoryof = status if UN_status == 5
(31 missing values generated)

.                         drop status adm0_code

.                         
.                         // Merge in ISO codes
.                         // Rename countries to align with official names per https://www.un.org/en/about-us/member-states
.                         tab country

                                country |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                            Afghanistan |          1        0.37        0.37
                             Aksai Chin |          1        0.37        0.73
                                Albania |          1        0.37        1.10
                                Algeria |          1        0.37        1.47
                         American Samoa |          1        0.37        1.83
                                Andorra |          1        0.37        2.20
                                 Angola |          1        0.37        2.56
                               Anguilla |          1        0.37        2.93
                             Antarctica |          1        0.37        3.30
                    Antigua and Barbuda |          1        0.37        3.66
                              Argentina |          1        0.37        4.03
                                Armenia |          1        0.37        4.40
                                  Aruba |          1        0.37        4.76
                      Arunachal Pradesh |          1        0.37        5.13
            Ashmore and Cartier Islands |          1        0.37        5.49
                              Australia |          1        0.37        5.86
                                Austria |          1        0.37        6.23
                             Azerbaijan |          1        0.37        6.59
                         Azores Islands |          1        0.37        6.96
                                Bahamas |          1        0.37        7.33
                                Bahrain |          1        0.37        7.69
                           Baker Island |          1        0.37        8.06
                             Bangladesh |          1        0.37        8.42
                               Barbados |          1        0.37        8.79
                        Bassas da India |          1        0.37        9.16
                                Belarus |          1        0.37        9.52
                                Belgium |          1        0.37        9.89
                                 Belize |          1        0.37       10.26
                                  Benin |          1        0.37       10.62
                                Bermuda |          1        0.37       10.99
                                 Bhutan |          1        0.37       11.36
                            Bird Island |          1        0.37       11.72
                                Bolivia |          1        0.37       12.09
                 Bosnia and Herzegovina |          1        0.37       12.45
                               Botswana |          1        0.37       12.82
                          Bouvet Island |          1        0.37       13.19
                                 Brazil |          1        0.37       13.55
         British Indian Ocean Territory |          1        0.37       13.92
                 British Virgin Islands |          1        0.37       14.29
                      Brunei Darussalam |          1        0.37       14.65
                               Bulgaria |          1        0.37       15.02
                           Burkina Faso |          1        0.37       15.38
                                Burundi |          1        0.37       15.75
                               Cambodia |          1        0.37       16.12
                               Cameroon |          1        0.37       16.48
                                 Canada |          1        0.37       16.85
                             Cape Verde |          1        0.37       17.22
                         Cayman Islands |          1        0.37       17.58
               Central African Republic |          1        0.37       17.95
                                   Chad |          1        0.37       18.32
                                  Chile |          1        0.37       18.68
                                  China |          1        0.37       19.05
                            China/India |          1        0.37       19.41
                       Christmas Island |          1        0.37       19.78
                      Clipperton Island |          1        0.37       20.15
                Cocos (Keeling) Islands |          1        0.37       20.51
                               Colombia |          1        0.37       20.88
                                Comoros |          1        0.37       21.25
                                  Congo |          1        0.37       21.61
                           Cook Islands |          1        0.37       21.98
                             Costa Rica |          1        0.37       22.34
                                Croatia |          1        0.37       22.71
                                   Cuba |          1        0.37       23.08
                                 Cyprus |          1        0.37       23.44
                         Czech Republic |          1        0.37       23.81
                         CÃ´te d'Ivoire |          1        0.37       24.18
              Dem People's Rep of Korea |          1        0.37       24.54
       Democratic Republic of the Congo |          1        0.37       24.91
                                Denmark |          1        0.37       25.27
                               Djibouti |          1        0.37       25.64
                               Dominica |          1        0.37       26.01
                     Dominican Republic |          1        0.37       26.37
                                Ecuador |          1        0.37       26.74
                                  Egypt |          1        0.37       27.11
                            El Salvador |          1        0.37       27.47
                      Equatorial Guinea |          1        0.37       27.84
                                Eritrea |          1        0.37       28.21
                                Estonia |          1        0.37       28.57
                               Ethiopia |          1        0.37       28.94
                          Europa Island |          1        0.37       29.30
            Falkland Islands (Malvinas) |          1        0.37       29.67
                          Faroe Islands |          1        0.37       30.04
                                   Fiji |          1        0.37       30.40
                                Finland |          1        0.37       30.77
                                 France |          1        0.37       31.14
                          French Guiana |          1        0.37       31.50
                       French Polynesia |          1        0.37       31.87
French Southern and Antarctic Territo.. |          1        0.37       32.23
                                  Gabon |          1        0.37       32.60
                                 Gambia |          1        0.37       32.97
                             Gaza Strip |          1        0.37       33.33
                                Georgia |          1        0.37       33.70
                                Germany |          1        0.37       34.07
                                  Ghana |          1        0.37       34.43
                              Gibraltar |          1        0.37       34.80
                        Glorioso Island |          1        0.37       35.16
                                 Greece |          1        0.37       35.53
                              Greenland |          1        0.37       35.90
                                Grenada |          1        0.37       36.26
                             Guadeloupe |          1        0.37       36.63
                                   Guam |          1        0.37       37.00
                              Guatemala |          1        0.37       37.36
                               Guernsey |          1        0.37       37.73
                                 Guinea |          1        0.37       38.10
                          Guinea-Bissau |          1        0.37       38.46
                                 Guyana |          1        0.37       38.83
                                  Haiti |          1        0.37       39.19
                       Hala'ib triangle |          1        0.37       39.56
      Heard Island and McDonald Islands |          1        0.37       39.93
                               Holy See |          1        0.37       40.29
                               Honduras |          1        0.37       40.66
                              Hong Kong |          1        0.37       41.03
                         Howland Island |          1        0.37       41.39
                                Hungary |          1        0.37       41.76
                                Iceland |          1        0.37       42.12
                         Ilemi triangle |          1        0.37       42.49
                                  India |          1        0.37       42.86
                              Indonesia |          1        0.37       43.22
            Iran  (Islamic Republic of) |          1        0.37       43.59
                                   Iraq |          1        0.37       43.96
                                Ireland |          1        0.37       44.32
                            Isle of Man |          1        0.37       44.69
                                 Israel |          1        0.37       45.05
                                  Italy |          1        0.37       45.42
                                Jamaica |          1        0.37       45.79
                      Jammu and Kashmir |          1        0.37       46.15
                                  Japan |          1        0.37       46.52
                          Jarvis Island |          1        0.37       46.89
                                 Jersey |          1        0.37       47.25
                         Johnston Atoll |          1        0.37       47.62
                                 Jordan |          1        0.37       47.99
                    Juan de Nova Island |          1        0.37       48.35
                             Kazakhstan |          1        0.37       48.72
                                  Kenya |          1        0.37       49.08
                           Kingman Reef |          1        0.37       49.45
                               Kiribati |          1        0.37       49.82
                          Kuril islands |          1        0.37       50.18
                                 Kuwait |          1        0.37       50.55
                             Kyrgyzstan |          1        0.37       50.92
       Lao People's Democratic Republic |          1        0.37       51.28
                                 Latvia |          1        0.37       51.65
                                Lebanon |          1        0.37       52.01
                                Lesotho |          1        0.37       52.38
                                Liberia |          1        0.37       52.75
                                  Libya |          1        0.37       53.11
                          Liechtenstein |          1        0.37       53.48
                              Lithuania |          1        0.37       53.85
                             Luxembourg |          1        0.37       54.21
                        Ma'tan al-Sarra |          1        0.37       54.58
                                  Macau |          1        0.37       54.95
                             Madagascar |          1        0.37       55.31
                        Madeira Islands |          1        0.37       55.68
                                 Malawi |          1        0.37       56.04
                               Malaysia |          1        0.37       56.41
                               Maldives |          1        0.37       56.78
                                   Mali |          1        0.37       57.14
                                  Malta |          1        0.37       57.51
                       Marshall Islands |          1        0.37       57.88
                             Martinique |          1        0.37       58.24
                             Mauritania |          1        0.37       58.61
                              Mauritius |          1        0.37       58.97
                                Mayotte |          1        0.37       59.34
                                 Mexico |          1        0.37       59.71
       Micronesia (Federated States of) |          1        0.37       60.07
                          Midway Island |          1        0.37       60.44
                   Moldova, Republic of |          1        0.37       60.81
                                 Monaco |          1        0.37       61.17
                               Mongolia |          1        0.37       61.54
                             Montserrat |          1        0.37       61.90
                                Morocco |          1        0.37       62.27
                             Mozambique |          1        0.37       62.64
                                Myanmar |          1        0.37       63.00
                                Namibia |          1        0.37       63.37
                                  Nauru |          1        0.37       63.74
                         Navassa Island |          1        0.37       64.10
                                  Nepal |          1        0.37       64.47
                            Netherlands |          1        0.37       64.84
                   Netherlands Antilles |          1        0.37       65.20
                          New Caledonia |          1        0.37       65.57
                            New Zealand |          1        0.37       65.93
                              Nicaragua |          1        0.37       66.30
                                  Niger |          1        0.37       66.67
                                Nigeria |          1        0.37       67.03
                                   Niue |          1        0.37       67.40
                         Norfolk Island |          1        0.37       67.77
               Northern Mariana Islands |          1        0.37       68.13
                                 Norway |          1        0.37       68.50
                                   Oman |          1        0.37       68.86
                               Pakistan |          1        0.37       69.23
                                  Palau |          1        0.37       69.60
                          Palmyra Atoll |          1        0.37       69.96
                                 Panama |          1        0.37       70.33
                       Papua New Guinea |          1        0.37       70.70
                        Paracel Islands |          1        0.37       71.06
                               Paraguay |          1        0.37       71.43
                                   Peru |          1        0.37       71.79
                            Philippines |          1        0.37       72.16
                               Pitcairn |          1        0.37       72.53
                                 Poland |          1        0.37       72.89
                               Portugal |          1        0.37       73.26
                            Puerto Rico |          1        0.37       73.63
                                  Qatar |          1        0.37       73.99
                      Republic of Korea |          1        0.37       74.36
                                Romania |          1        0.37       74.73
                     Russian Federation |          1        0.37       75.09
                                 Rwanda |          1        0.37       75.46
                               RÃ©union |          1        0.37       75.82
                           Saint Helena |          1        0.37       76.19
                  Saint Kitts and Nevis |          1        0.37       76.56
                            Saint Lucia |          1        0.37       76.92
               Saint Pierre et Miquelon |          1        0.37       77.29
       Saint Vincent and the Grenadines |          1        0.37       77.66
                                  Samoa |          1        0.37       78.02
                             San Marino |          1        0.37       78.39
                  Sao Tome and Principe |          1        0.37       78.75
                           Saudi Arabia |          1        0.37       79.12
                       Scarborough Reef |          1        0.37       79.49
                                Senegal |          1        0.37       79.85
                        Senkaku Islands |          1        0.37       80.22
                  Serbia and Montenegro |          1        0.37       80.59
                             Seychelles |          1        0.37       80.95
                           Sierra Leone |          1        0.37       81.32
                              Singapore |          1        0.37       81.68
                               Slovakia |          1        0.37       82.05
                               Slovenia |          1        0.37       82.42
                        Solomon Islands |          1        0.37       82.78
                                Somalia |          1        0.37       83.15
                           South Africa |          1        0.37       83.52
South Georgia and the South Sandwich .. |          1        0.37       83.88
                                  Spain |          1        0.37       84.25
                        Spratly Islands |          1        0.37       84.62
                              Sri Lanka |          1        0.37       84.98
                                  Sudan |          1        0.37       85.35
                               Suriname |          1        0.37       85.71
         Svalbard and Jan Mayen Islands |          1        0.37       86.08
                              Swaziland |          1        0.37       86.45
                                 Sweden |          1        0.37       86.81
                            Switzerland |          1        0.37       87.18
                   Syrian Arab Republic |          1        0.37       87.55
                                 Taiwan |          1        0.37       87.91
                             Tajikistan |          1        0.37       88.28
                               Thailand |          1        0.37       88.64
The former Yugoslav Republic of Maced.. |          1        0.37       89.01
                            Timor-Leste |          1        0.37       89.38
                                   Togo |          1        0.37       89.74
                                Tokelau |          1        0.37       90.11
                                  Tonga |          1        0.37       90.48
                    Trinidad and Tobago |          1        0.37       90.84
                        Tromelin Island |          1        0.37       91.21
                                Tunisia |          1        0.37       91.58
                                 Turkey |          1        0.37       91.94
                           Turkmenistan |          1        0.37       92.31
               Turks and Caicos islands |          1        0.37       92.67
                                 Tuvalu |          1        0.37       93.04
U.K. of Great Britain and Northern Ir.. |          1        0.37       93.41
                                 Uganda |          1        0.37       93.77
                                Ukraine |          1        0.37       94.14
                   United Arab Emirates |          1        0.37       94.51
            United Republic of Tanzania |          1        0.37       94.87
           United States Virgin Islands |          1        0.37       95.24
               United States of America |          1        0.37       95.60
                                Uruguay |          1        0.37       95.97
                             Uzbekistan |          1        0.37       96.34
                                Vanuatu |          1        0.37       96.70
                              Venezuela |          1        0.37       97.07
                               Viet Nam |          1        0.37       97.44
                            Wake Island |          1        0.37       97.80
                      Wallis and Futuna |          1        0.37       98.17
                              West Bank |          1        0.37       98.53
                         Western Sahara |          1        0.37       98.90
                                  Yemen |          1        0.37       99.27
                                 Zambia |          1        0.37       99.63
                               Zimbabwe |          1        0.37      100.00
----------------------------------------+-----------------------------------
                                  Total |        273      100.00

.                         replace country = "Antigua and Barbuda" if country == "Antigua & Barbuda"
(0 real changes made)

.                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(1 real change made)

.                         replace country = "Bosnia and Herzegovina" if country == "Bosnia & Herzegovina"
(0 real changes made)

.                         replace country = "Cabo Verde" if country == "Cape Verde"
(1 real change made)

.                         replace country = "Côte D'Ivoire" if country == "CÃ´te d'Ivoire"
(1 real change made)

.                         replace country = "Czechia" if country == "Czech Republic"
(1 real change made)

.                         replace country = "Eswatini" if country == "Swaziland"
(1 real change made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(1 real change made)

.                         replace country = "Libya" if country == "Libyan Arab Jamahiriya"
(0 real changes made)

.                         replace country = "North Macedonia" if country == "The former Yugoslav Republic of Macedonia"
(1 real change made)

.                         replace country = "Republic of Moldova" if country == "Moldova, Republic of"
(1 real change made)

.                         replace country = "Türkiye" if country == "Turkey"
(1 real change made)

.                         replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "U.K. of Great Britain and Northern Ireland"
variable country was str44 now str52
(1 real change made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela"
(1 real change made)

.                         replace country = "Viet Nam" if country == "Vietnam"                                    
(0 real changes made)

.                         replace country = "Reunion" if country == "RÃ©union"
(1 real change made)

.                         replace country = "Turks and Caicos Islands" if country == "Turks and Caicos islands"
(1 real change made)

.                         replace country = "Iran (Islamic Republic of)" if country == "Iran  (Islamic Republic of)"              
(1 real change made)

.                         merge 1:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            50
        from master                        37  (_merge==1)
        from using                         13  (_merge==2)

    Matched                               236  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3

.                                 drop if _merge == 2 & !inlist(country,"South Sudan", "Serbia", "Montenegro") // territories not classified by UN, except new m
> ember states since GAUL exercise
(10 observations deleted)

.                         // Correct Serbia, Montenegro, and South Sudan
.                                 browse if inlist(country,"South Sudan", "Serbia", "Montenegro", "Sudan", "Serbia and Montenegro")

.                                 replace UNmemberstate = 1 if inlist(country,"South Sudan", "Serbia", "Montenegro")
(3 real changes made)

.                                 replace UN_status_detail = 8 if inlist(country,"South Sudan", "Serbia", "Montenegro")
(3 real changes made)

.                                 replace UN_status = 1 if inlist(country,"South Sudan", "Serbia", "Montenegro")
(3 real changes made)

.                                 replace disp_area = "NO" if inlist(country,"South Sudan", "Serbia", "Montenegro")
(3 real changes made)

.                                 drop if country == "Serbia and Montenegro"
(1 observation deleted)

.                                 drop _merge

.                         sort country

. 
.                 // Save
.                 save UNStatus, replace
file UNStatus.dta saved

.                 export delimited using UNStatus, replace
file UNStatus.csv saved

. 
. **# World Bank classifications used for regional coding and country income level
.                 import excel using "$datain\CLASS.xlsx", sheet("List of economies") firstrow clear
(6 vars, 265 obs)

.                 drop Lendingcategory OtherEMUorHIPC

.                 ren Code ISO

.                 ren Region wb_region

.                 ren Incomegroup incgrp

.                 lab var wb_region "Region (World Bank)"

.                 lab var incgrp "Income Group (World Bank)"

.                         
.                         // Fix codes that do not match ISO3 classification
.                         replace ISO="_CH" if ISO=="CHI" // Channel Islands
(1 real change made)

.                         tab Economy if wb_region==""

                                Economy |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                             Arab World |          1        2.17        2.17
                 Caribbean small states |          1        2.17        4.35
         Central Europe and the Baltics |          1        2.17        6.52
             Early-demographic dividend |          1        2.17        8.70
                    East Asia & Pacific |          1        2.17       10.87
       East Asia & Pacific (IDA & IBRD) |          1        2.17       13.04
East Asia & Pacific (excluding high i.. |          1        2.17       15.22
                              Euro area |          1        2.17       17.39
                  Europe & Central Asia |          1        2.17       19.57
     Europe & Central Asia (IDA & IBRD) |          1        2.17       21.74
Europe & Central Asia (excluding high.. |          1        2.17       23.91
                         European Union |          1        2.17       26.09
Fragile and conflict affected situati.. |          1        2.17       28.26
 Heavily indebted poor countries (HIPC) |          1        2.17       30.43
                            High income |          1        2.17       32.61
                              IBRD only |          1        2.17       34.78
                       IDA & IBRD total |          1        2.17       36.96
                              IDA blend |          1        2.17       39.13
                               IDA only |          1        2.17       41.30
                              IDA total |          1        2.17       43.48
              Late-demographic dividend |          1        2.17       45.65
              Latin America & Caribbean |          1        2.17       47.83
 Latin America & Caribbean (IDA & IBRD) |          1        2.17       50.00
Latin America & Caribbean (excluding .. |          1        2.17       52.17
Least developed countries: UN classif.. |          1        2.17       54.35
                    Low & middle income |          1        2.17       56.52
                             Low income |          1        2.17       58.70
                    Lower middle income |          1        2.17       60.87
             Middle East & North Africa |          1        2.17       63.04
Middle East & North Africa (IDA & IBRD) |          1        2.17       65.22
Middle East & North Africa (excluding.. |          1        2.17       67.39
                          Middle income |          1        2.17       69.57
                          North America |          1        2.17       71.74
                           OECD members |          1        2.17       73.91
                     Other small states |          1        2.17       76.09
            Pacific island small states |          1        2.17       78.26
              Post-demographic dividend |          1        2.17       80.43
               Pre-demographic dividend |          1        2.17       82.61
                           Small states |          1        2.17       84.78
                             South Asia |          1        2.17       86.96
                South Asia (IDA & IBRD) |          1        2.17       89.13
                     Sub-Saharan Africa |          1        2.17       91.30
        Sub-Saharan Africa (IDA & IBRD) |          1        2.17       93.48
Sub-Saharan Africa (excluding high in.. |          1        2.17       95.65
                    Upper middle income |          1        2.17       97.83
                                  World |          1        2.17      100.00
----------------------------------------+-----------------------------------
                                  Total |         46      100.00

.                         drop if wb_region=="" // drops aggregate groups
(47 observations deleted)

.                         ren Economy country 

.                         ren wb_region wb_region_str

.                         encode wb_region_str, gen(wb_region)

.                         drop wb_region_str 

.                 
.                 // Save
.                 save wb_areaincomeclass, replace
file wb_areaincomeclass.dta saved

.                 export delimited using wb_areaincomeclass, replace 
file wb_areaincomeclass.csv saved

.         
.                 // Merge World Bank and UN Member states datasets
.                 use wb_areaincomeclass, clear

.                         
.                         // Replace country names with UN member official name
.                                 replace country = "Bahamas" if country == "Bahamas, The" 
(1 real change made)

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia" 
(1 real change made)

.                                 replace country = "Democratic Republic of the Congo" if country == "Congo, Dem. Rep." 
(1 real change made)

.                                 replace country = "Congo" if country == "Congo, Rep." 
(1 real change made)

.                                 replace country = "Czechia" if country == "Czech Republic" 
(1 real change made)

.                                 replace country = "Côte D'Ivoire" if ISO == "CIV"
(1 real change made)

.                                 replace country = "Egypt" if country == "Egypt, Arab Rep." 
(1 real change made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia, The" 
(1 real change made)

.                                 replace country = "Hong Kong" if country == "Hong Kong SAR, China" 
(1 real change made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Rep." 
(1 real change made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Korea, Dem. People's Rep." 
(1 real change made)

.                                 replace country = "Republic of Korea" if country == "Korea, Rep." 
(1 real change made)

.                                 replace country = "Kyrgyzstan" if country == "Kyrgyz Republic" 
(1 real change made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Lao PDR" 
(1 real change made)

.                                 replace country = "Macau" if country == "Macao SAR, China" 
(1 real change made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia, Fed. Sts." 
(1 real change made)

.                                 replace country = "Republic of Moldova" if country == "Moldova" 
(1 real change made)

.                                 replace country = "Slovakia" if country == "Slovak Republic" 
(1 real change made)

.                                 replace country = "Saint Kitts and Nevis" if country == "St. Kitts and Nevis" 
(1 real change made)

.                                 replace country = "Saint Lucia" if country == "St. Lucia" 
(1 real change made)

.                                 replace country = "Saint Vincent and the Grenadines" if country == "St. Vincent and the Grenadines" 
(1 real change made)

.                                 replace country = "Sao Tome and Principe" if country == "São Tomé and Príncipe" 
(1 real change made)

.                                 replace country = "Taiwan" if country == "Taiwan, China" 
(1 real change made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania" 
(1 real change made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom" 
variable country was str50 now str52
(1 real change made)

.                                 replace country = "United States of America" if country == "United States" 
(1 real change made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela, RB" 
(1 real change made)

.                                 replace country = "Viet Nam" if country == "Vietnam" 
(1 real change made)

.                                 replace country = "United States Virgin Islands" if country == "Virgin Islands (U.S.)" 
(1 real change made)

.                                 replace country = "Yemen" if country == "Yemen, Rep." 
(1 real change made)

.                                 replace country = "Palestine, State of" if country == "West Bank and Gaza"
(1 real change made)

. 
.                                 merge 1:1 country using UNStatus, update // replaces country names with UN country name 
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            69
        from master                         6  (_merge==1)
        from using                         63  (_merge==2)

    Matched                               212
        not updated                       212  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------

.                                 drop _merge

.                                 
.                                 // Keep aggregate and disaggregated Palestine for now, fill in classification information across datasets
.                                         browse if inlist(country,"West Bank", "Gaza Strip", "Palestine, State of")

.                                                 replace ISO = "PSE" if inlist(country,"West Bank", "Gaza Strip")
(2 real changes made)

.                                                 replace incgrp = "Lower middle income" if inlist(country,"West Bank", "Gaza Strip")
(2 real changes made)

.                                                 replace wb_region = 4 if inlist(country,"West Bank", "Gaza Strip")      
(2 real changes made)

.                                                 replace disp_area = "NO" if country == "Palestine, State of"
(1 real change made)

.                                                 replace UN_status_detail = 15 if country == "Palestine, State of"
(1 real change made)

.                                                 replace UNmemberstate = 0 if country == "Palestine, State of"                           
(1 real change made)

.                                         
.                         // Fill in governing and UN member state status for territories only in WB dataset
.                                 browse if UN_status_detail == .

.                                 gen ISO_governing = ""
(281 missing values generated)

.                                 tab UN_status_detail, sum(UN_status_detail)

  UN status |
        and |      Summary of UN status and
territorial |         territorial details
    details |        Mean   Std. dev.       Freq.
------------+------------------------------------
  AU Territ |           1           0           5
  CN Provin |           2           0           1
  CN Specia |           3           0           2
  DK Self-G |           4           0           1
  DK Territ |           5           0           1
  FR Non-Se |           6           0           1
  FR Territ |           7           0          14
  Member St |           8           0         194
  NL Self-G |           9           0           1
  NL Territ |          10           0           1
  NO Territ |          11           0           2
  NZ Non-Se |          12           0           1
  NZ Territ |          13           0           2
  Non-Self- |          14           0           1
  Occupied  |          15           0           3
  PT Territ |          16           0           2
  Sovereign |          17           0          12
  The City  |          18           0           1
  UK Non-Se |          19           0          10
  UK Territ |          20           0           4
  UK territ |          21           0           1
  US Non-Se |          22           0           3
  US Territ |          23           0          11
  VE Territ |          24           0           1
------------+------------------------------------
      Total |   9.8327273   4.7554446         275

.                                         replace ISO_governing = "AUS" if UN_status_detail == 1
variable ISO_governing was str1 now str3
(5 real changes made)

.                                         replace ISO_governing = "CHN" if UN_status_detail == 2
(1 real change made)

.                                         replace ISO_governing = "CHN" if UN_status_detail == 3
(2 real changes made)

.                                         replace ISO_governing = "DNK" if UN_status_detail == 4
(1 real change made)

.                                         replace ISO_governing = "DNK" if UN_status_detail == 5
(1 real change made)

.                                         replace ISO_governing = "FRA" if UN_status_detail == 6
(1 real change made)

.                                         replace ISO_governing = "FRA" if UN_status_detail == 7
(14 real changes made)

.                                         replace ISO_governing = "NLD" if UN_status_detail == 9
(1 real change made)

.                                         replace ISO_governing = "NLD" if UN_status_detail == 10
(1 real change made)

.                                         replace ISO_governing = "NOR" if UN_status_detail == 11
(2 real changes made)

.                                         replace ISO_governing = "NZL" if UN_status_detail == 12
(1 real change made)

.                                         replace ISO_governing = "NZL" if UN_status_detail == 13
(2 real changes made)

.                                         replace ISO_governing = "XXX" if UN_status_detail == 14
(1 real change made)

.                                         replace ISO_governing = "XXX" if UN_status_detail == 15
(3 real changes made)

.                                         replace ISO_governing = "PRT" if UN_status_detail == 16
(2 real changes made)

.                                         replace ISO_governing = "XXX" if UN_status_detail == 17
(12 real changes made)

.                                         replace ISO_governing = "VAT" if UN_status_detail == 18
(1 real change made)

.                                         replace ISO_governing = "GBR" if UN_status_detail == 19
(10 real changes made)

.                                         replace ISO_governing = "GBR" if UN_status_detail == 20
(4 real changes made)

.                                         replace ISO_governing = "GBR" if UN_status_detail == 21
(1 real change made)

.                                         replace ISO_governing = "USA" if UN_status_detail == 22
(3 real changes made)

.                                         replace ISO_governing = "USA" if UN_status_detail == 23
(11 real changes made)

.                                         replace ISO_governing = "VEN" if UN_status_detail == 24
(1 real change made)

.                         
.                         // Drop the Vatican
.                                 drop if country == "Holy See"
(1 observation deleted)

.                 // Save
.                         save countryclassification, replace
file countryclassification.dta saved

.                                 
. ** Merge in UN regional classification and M49 codes
.                 import excel using "$datain\13_M49_Annex_regional_groupings_21_Oct_22.xlsx", sheet("M49_FAO") firstrow clear cellrange(B2)
(26 vars, 863 obs)

.                 drop Geographicalgroupingsa C

.                 ren D UN_contregion_code

.                 ren E UN_continental_region

.                 ren F UN_subregion_code

.                 ren G UN_subregion

.                 ren H UN_intermedregion_code

.                 ren I UN_intermediary_region

.                 ren J m49_code

.                 ren K ISO

.                 drop Othergroupingsb-Comments

.                 ren L country // to merge with country classification even though not all are countries

.                 drop in 1/2 // drop heading rows imported as observations
(2 observations deleted)

.                 replace country = "French Southern and Antarctic Territories" if country == "French Southern Territories"
(1 real change made)

.                 replace country = "Côte D'Ivoire" if ISO == "CIV"
(1 real change made)

.                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(1 real change made)

.                 replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(1 real change made)

.                 replace country = "Macau" if country == "China, Macao"
(1 real change made)

.                 replace country = "Taiwan" if country == "Taiwan, Province of China"
(1 real change made)

.                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(1 real change made)

.                 replace country = "Palestine, State of" if country == "Palestine"
(1 real change made)

.                 replace country = "Reunion" if country == "Réunion"
(1 real change made)

.                 replace country = "Saint Pierre et Miquelon" if country == "Saint Pierre and Miquelon"
(1 real change made)

.                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(1 real change made)

.                 replace country = "Wallis and Futuna" if country == "Wallis and Futuna Islands"
(1 real change made)

.                 replace country = "St. Martin (French part)" if country == "Saint Martin (French Part)"
(1 real change made)

.                 replace country = "Kosovo" if country == "Kosovo (Serbia)"
(1 real change made)

.                 drop if country == ""
(609 observations deleted)

.                 save UN_m49_classifications, replace
file UN_m49_classifications.dta saved

.                 
.                 use countryclassification, clear

.                 merge 1:1 ISO country using UN_m49_classifications
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            46
        from master                        37  (_merge==1)
        from using                          9  (_merge==2)

    Matched                               243  (_merge==3)
    -----------------------------------------

.                 drop _merge

.                                         
.                 // Save
.                         save countryclassification, replace
file countryclassification.dta saved

.                         export delimited using countryclassification, replace
file countryclassification.csv saved

.         
. **# World Bank Population data
.                 import delimited using "$datain\API_SP.POP.TOTL_DS2_en_csv_v2_4554708", varnames(5)rowrange(5:271) clear
(encoding automatically selected: UTF-8)
(67 vars, 266 obs)

.                 ren v* totalpop#, addnumber(1960)

.                 ren countryname country

.                 ren countrycode ISO

.                 drop indicatorcode indicatorname

.                 drop totalpop2022

.                         * drop aggregations
.                         drop if inlist(ISO, "AFE", "AFW", "ARB", "CEB", "CSS", "EAP", "EAR", "EAS", "ECA")
(9 observations deleted)

.                         drop if inlist(ISO, "ECS", "EMU", "EUU", "FCS", "HIC", "HPC", "IBD", "IBT", "IDA")
(9 observations deleted)

.                         drop if inlist(ISO, "INX", "LAC", "INX", "LAC", "LCN", "LDC", "LIC", "LMC", "LMY")
(7 observations deleted)

.                         drop if inlist(ISO, "LTE", "MEA", "MIC", "MNA", "OED", "OSS", "PRE", "PSS", "PST")
(9 observations deleted)

.                         drop if inlist(ISO, "SSA", "SSF", "SST", "TEA", "TEC", "TLA", "TMN", "TSA", "TSS")
(9 observations deleted)

.                         drop if inlist(ISO, "UMC", "WLD", "IDB", "IDX", "NAC", "SAS")
(6 observations deleted)

.                 reshape long totalpop, i(country ISO) j(year)
(j = 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974 1975 1976 1977 1978 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989 1990 
> 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              217   ->   13,454      
Number of variables                  64   ->   4           
j variable (62 values)                    ->   year
xij variables:
totalpop1960 totalpop1961 ... totalpop2021->   totalpop
-----------------------------------------------------------------------------

.                 lab var totalpop "Total population (number)"

. 
.                         // Merge in country classification
.                                 replace ISO="_CH" if ISO=="CHI" // Channel Islands
(62 real changes made)

.                                 replace country = "Bahamas" if country == "Bahamas, The" 
(62 real changes made)

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia" 
(62 real changes made)

.                                 replace country = "Democratic Republic of the Congo" if country == "Congo, Dem. Rep." 
(62 real changes made)

.                                 replace country = "Congo" if country == "Congo, Rep." 
(62 real changes made)

.                                 replace country = "Czechia" if country == "Czech Republic" 
(62 real changes made)

.                                 replace country = "Côte D'Ivoire" if ISO == "CIV"
(62 real changes made)

.                                 replace country = "Egypt" if country == "Egypt, Arab Rep." 
(62 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia, The" 
(62 real changes made)

.                                 replace country = "Hong Kong" if country == "Hong Kong SAR, China" 
(62 real changes made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Rep." 
(62 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Korea, Dem. People's Rep." 
(62 real changes made)

.                                 replace country = "Republic of Korea" if country == "Korea, Rep." 
(62 real changes made)

.                                 replace country = "Kyrgyzstan" if country == "Kyrgyz Republic" 
(62 real changes made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Lao PDR" 
(62 real changes made)

.                                 replace country = "Macau" if country == "Macao SAR, China" 
(62 real changes made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia, Fed. Sts." 
(62 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova" 
(62 real changes made)

.                                 replace country = "Slovakia" if country == "Slovak Republic" 
(62 real changes made)

.                                 replace country = "Saint Kitts and Nevis" if country == "St. Kitts and Nevis" 
(62 real changes made)

.                                 replace country = "Saint Lucia" if country == "St. Lucia" 
(62 real changes made)

.                                 replace country = "Saint Vincent and the Grenadines" if country == "St. Vincent and the Grenadines" 
(62 real changes made)

.                                 replace country = "Sao Tome and Principe" if country == "São Tomé and Príncipe" 
(0 real changes made)

.                                 replace country = "Taiwan" if country == "Taiwan, China" 
(0 real changes made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania" 
(62 real changes made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom" 
(62 real changes made)

.                                 replace country = "United States of America" if country == "United States" 
(62 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela, RB" 
(62 real changes made)

.                                 replace country = "Viet Nam" if country == "Vietnam" 
(62 real changes made)

.                                 replace country = "United States Virgin Islands" if country == "Virgin Islands (U.S.)" 
(62 real changes made)

.                                 replace country = "Yemen" if country == "Yemen, Rep." 
(62 real changes made)

.                                 replace country = "Türkiye" if country == "Turkiye"
(62 real changes made)

.                                 replace country = "Palestine, State of" if country == "West Bank and Gaza"
(62 real changes made)

.                                 replace country = "Curaçao" if country == "Curacao"
(62 real changes made)

.                         merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            72
        from master                         0  (_merge==1)
        from using                         72  (_merge==2)

    Matched                            13,454  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3

.                                         /* Drop territories recorded by World Bank but not UN
>                                                 Kosovo
>                                                 Channel Islands --- only includes aggregate not individual islands as captured by UN
>                                         */
.                                 drop if _merge != 3
(72 observations deleted)

.                                 drop _merge

. 
.                 // Save
.                 save population, replace
file population.dta saved

.                 export delimited using population, replace
file population.csv saved

.                 
.                 
. **# World Bank GDP data
.         import delimited using "$datain\API_NY.GDP.MKTP.CD_DS2_en_csv_v2_4578252.csv", rowrange(5:271) varnames(5) clear 
(encoding automatically selected: UTF-8)
(67 vars, 266 obs)

.         drop indicatorcode indicatorname

.         ren v* y#, addnum(1960)

.         reshape long y, i(countrycode countryname) j(year)
(j = 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974 1975 1976 1977 1978 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989 1990 
> 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 202
> 2)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              266   ->   16,758      
Number of variables                  65   ->   4           
j variable (63 values)                    ->   year
xij variables:
                  y1960 y1961 ... y2022   ->   y
-----------------------------------------------------------------------------

.         ren y GDP

.         ren countrycode ISO

.                 
.                 // Merge in GDP per capita
.                 preserve

.                         import delimited using "$datain\API_NY.GDP.PCAP.CD_DS2_en_csv_v2_4578209", rowrange(5:271) varnames(5) clear 
(encoding automatically selected: UTF-8)
(67 vars, 266 obs)

.                         drop indicatorcode indicatorname

.                         ren v* y#, addnum(1960)

.                         reshape long y, i(countrycode countryname) j(year)
(j = 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974 1975 1976 1977 1978 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989 1990 
> 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 202
> 2)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              266   ->   16,758      
Number of variables                  65   ->   4           
j variable (63 values)                    ->   year
xij variables:
                  y1960 y1961 ... y2022   ->   y
-----------------------------------------------------------------------------

.                         ren y GDP_percap

.                         ren countrycode ISO

.                         tempfile gdppercap

.                                 save `gdppercap'
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000002.tmp saved as .dta format

.                 restore

.                 merge 1:1 ISO year using `gdppercap'

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                            16,758  (_merge==3)
    -----------------------------------------

.                 drop _merge

.                         // drop regional groupings
.                         drop if inlist(ISO, "AFE", "AFW", "ARB", "CEB", "CSS", "EAP", "EAR", "EAS")
(504 observations deleted)

.                         drop if inlist(ISO, "ECA", "ECS", "EMU", "EUU", "FCS", "HIC", "HPC", "IBD")
(504 observations deleted)

.                         drop if inlist(ISO, "IBT", "IDA", "IDX", "INX", "LAC", "LCN", "LDC", "LIC")
(504 observations deleted)

.                         drop if inlist(ISO, "LMC", "LMY", "LTE", "MEA", "MIC", "MNA", "NAC", "OED") 
(504 observations deleted)

.                         drop if inlist(ISO, "OSS", "PRE", "PSS", "PST", "SAS", "SSA", "SSF", "SST")
(504 observations deleted)

.                         drop if inlist(ISO, "TEA", "TEC", "TLA", "TMN", "TSA", "TSS", "UMC", "WLD")
(504 observations deleted)

.                         drop if ISO=="IDB"
(63 observations deleted)

.                         
.                         // Merge with region and income group - to address match issues
.                         ren countryname country

.                         // Merge in country classification
.                                 replace ISO="_CH" if ISO=="CHI" // Channel Islands
(63 real changes made)

.                                 replace country = "Bahamas" if country == "Bahamas, The" 
(63 real changes made)

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia" 
(63 real changes made)

.                                 replace country = "Democratic Republic of the Congo" if country == "Congo, Dem. Rep." 
(63 real changes made)

.                                 replace country = "Congo" if country == "Congo, Rep." 
(63 real changes made)

.                                 replace country = "Czechia" if country == "Czech Republic" 
(63 real changes made)

.                                 replace country = "Côte D'Ivoire" if ISO == "CIV"
(63 real changes made)

.                                 replace country = "Egypt" if country == "Egypt, Arab Rep." 
(63 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia, The" 
(63 real changes made)

.                                 replace country = "Hong Kong" if country == "Hong Kong SAR, China" 
(63 real changes made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Rep." 
(63 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Korea, Dem. People's Rep." 
(63 real changes made)

.                                 replace country = "Republic of Korea" if country == "Korea, Rep." 
(63 real changes made)

.                                 replace country = "Kyrgyzstan" if country == "Kyrgyz Republic" 
(63 real changes made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Lao PDR" 
(63 real changes made)

.                                 replace country = "Macau" if country == "Macao SAR, China" 
(63 real changes made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia, Fed. Sts." 
(63 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova" 
(63 real changes made)

.                                 replace country = "Slovakia" if country == "Slovak Republic" 
(63 real changes made)

.                                 replace country = "Saint Kitts and Nevis" if country == "St. Kitts and Nevis" 
(63 real changes made)

.                                 replace country = "Saint Lucia" if country == "St. Lucia" 
(63 real changes made)

.                                 replace country = "Saint Vincent and the Grenadines" if country == "St. Vincent and the Grenadines" 
(63 real changes made)

.                                 replace country = "Sao Tome and Principe" if country == "São Tomé and Príncipe" 
(0 real changes made)

.                                 replace country = "Taiwan" if country == "Taiwan, China" 
(0 real changes made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania" 
(63 real changes made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom" 
(63 real changes made)

.                                 replace country = "United States of America" if country == "United States" 
(63 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela, RB" 
(63 real changes made)

.                                 replace country = "Viet Nam" if country == "Vietnam" 
(63 real changes made)

.                                 replace country = "United States Virgin Islands" if country == "Virgin Islands (U.S.)" 
(63 real changes made)

.                                 replace country = "Yemen" if country == "Yemen, Rep." 
(63 real changes made)

.                                 replace country = "Türkiye" if country == "Turkiye"
(63 real changes made)

.                                 replace country = "Palestine, State of" if country == "West Bank and Gaza"
(63 real changes made)

.                                 replace country = "Curaçao" if country == "Curacao"
(63 real changes made)

. 
.                         merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            72
        from master                         0  (_merge==1)
        from using                         72  (_merge==2)

    Matched                            13,671  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3

.                                         /* Drop territories recorded by World Bank but not UN
>                                                 Kosovo
>                                                 Channel Islands
>                                         */
.                                 drop if _merge != 3
(72 observations deleted)

.                                 drop _merge

.                         tab country

                           Country Name |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                            Afghanistan |         63        0.46        0.46
                                Albania |         63        0.46        0.92
                                Algeria |         63        0.46        1.38
                         American Samoa |         63        0.46        1.84
                                Andorra |         63        0.46        2.30
                                 Angola |         63        0.46        2.76
                    Antigua and Barbuda |         63        0.46        3.23
                              Argentina |         63        0.46        3.69
                                Armenia |         63        0.46        4.15
                                  Aruba |         63        0.46        4.61
                              Australia |         63        0.46        5.07
                                Austria |         63        0.46        5.53
                             Azerbaijan |         63        0.46        5.99
                                Bahamas |         63        0.46        6.45
                                Bahrain |         63        0.46        6.91
                             Bangladesh |         63        0.46        7.37
                               Barbados |         63        0.46        7.83
                                Belarus |         63        0.46        8.29
                                Belgium |         63        0.46        8.76
                                 Belize |         63        0.46        9.22
                                  Benin |         63        0.46        9.68
                                Bermuda |         63        0.46       10.14
                                 Bhutan |         63        0.46       10.60
       Bolivia (Plurinational State of) |         63        0.46       11.06
                 Bosnia and Herzegovina |         63        0.46       11.52
                               Botswana |         63        0.46       11.98
                                 Brazil |         63        0.46       12.44
                 British Virgin Islands |         63        0.46       12.90
                      Brunei Darussalam |         63        0.46       13.36
                               Bulgaria |         63        0.46       13.82
                           Burkina Faso |         63        0.46       14.29
                                Burundi |         63        0.46       14.75
                             Cabo Verde |         63        0.46       15.21
                               Cambodia |         63        0.46       15.67
                               Cameroon |         63        0.46       16.13
                                 Canada |         63        0.46       16.59
                         Cayman Islands |         63        0.46       17.05
               Central African Republic |         63        0.46       17.51
                                   Chad |         63        0.46       17.97
                        Channel Islands |         63        0.46       18.43
                                  Chile |         63        0.46       18.89
                                  China |         63        0.46       19.35
                               Colombia |         63        0.46       19.82
                                Comoros |         63        0.46       20.28
                                  Congo |         63        0.46       20.74
                             Costa Rica |         63        0.46       21.20
                                Croatia |         63        0.46       21.66
                                   Cuba |         63        0.46       22.12
                                Curaçao |         63        0.46       22.58
                                 Cyprus |         63        0.46       23.04
                                Czechia |         63        0.46       23.50
                          Côte D'Ivoire |         63        0.46       23.96
              Dem People's Rep of Korea |         63        0.46       24.42
       Democratic Republic of the Congo |         63        0.46       24.88
                                Denmark |         63        0.46       25.35
                               Djibouti |         63        0.46       25.81
                               Dominica |         63        0.46       26.27
                     Dominican Republic |         63        0.46       26.73
                                Ecuador |         63        0.46       27.19
                                  Egypt |         63        0.46       27.65
                            El Salvador |         63        0.46       28.11
                      Equatorial Guinea |         63        0.46       28.57
                                Eritrea |         63        0.46       29.03
                                Estonia |         63        0.46       29.49
                               Eswatini |         63        0.46       29.95
                               Ethiopia |         63        0.46       30.41
                          Faroe Islands |         63        0.46       30.88
                                   Fiji |         63        0.46       31.34
                                Finland |         63        0.46       31.80
                                 France |         63        0.46       32.26
                       French Polynesia |         63        0.46       32.72
                                  Gabon |         63        0.46       33.18
               Gambia (Republic of The) |         63        0.46       33.64
                                Georgia |         63        0.46       34.10
                                Germany |         63        0.46       34.56
                                  Ghana |         63        0.46       35.02
                              Gibraltar |         63        0.46       35.48
                                 Greece |         63        0.46       35.94
                              Greenland |         63        0.46       36.41
                                Grenada |         63        0.46       36.87
                                   Guam |         63        0.46       37.33
                              Guatemala |         63        0.46       37.79
                                 Guinea |         63        0.46       38.25
                          Guinea-Bissau |         63        0.46       38.71
                                 Guyana |         63        0.46       39.17
                                  Haiti |         63        0.46       39.63
                               Honduras |         63        0.46       40.09
                              Hong Kong |         63        0.46       40.55
                                Hungary |         63        0.46       41.01
                                Iceland |         63        0.46       41.47
                                  India |         63        0.46       41.94
                              Indonesia |         63        0.46       42.40
             Iran (Islamic Republic of) |         63        0.46       42.86
                                   Iraq |         63        0.46       43.32
                                Ireland |         63        0.46       43.78
                            Isle of Man |         63        0.46       44.24
                                 Israel |         63        0.46       44.70
                                  Italy |         63        0.46       45.16
                                Jamaica |         63        0.46       45.62
                                  Japan |         63        0.46       46.08
                                 Jordan |         63        0.46       46.54
                             Kazakhstan |         63        0.46       47.00
                                  Kenya |         63        0.46       47.47
                               Kiribati |         63        0.46       47.93
                                 Kosovo |         63        0.46       48.39
                                 Kuwait |         63        0.46       48.85
                             Kyrgyzstan |         63        0.46       49.31
       Lao People's Democratic Republic |         63        0.46       49.77
                                 Latvia |         63        0.46       50.23
                                Lebanon |         63        0.46       50.69
                                Lesotho |         63        0.46       51.15
                                Liberia |         63        0.46       51.61
                                  Libya |         63        0.46       52.07
                          Liechtenstein |         63        0.46       52.53
                              Lithuania |         63        0.46       53.00
                             Luxembourg |         63        0.46       53.46
                                  Macau |         63        0.46       53.92
                             Madagascar |         63        0.46       54.38
                                 Malawi |         63        0.46       54.84
                               Malaysia |         63        0.46       55.30
                               Maldives |         63        0.46       55.76
                                   Mali |         63        0.46       56.22
                                  Malta |         63        0.46       56.68
                       Marshall Islands |         63        0.46       57.14
                             Mauritania |         63        0.46       57.60
                              Mauritius |         63        0.46       58.06
                                 Mexico |         63        0.46       58.53
       Micronesia (Federated States of) |         63        0.46       58.99
                                 Monaco |         63        0.46       59.45
                               Mongolia |         63        0.46       59.91
                             Montenegro |         63        0.46       60.37
                                Morocco |         63        0.46       60.83
                             Mozambique |         63        0.46       61.29
                                Myanmar |         63        0.46       61.75
                                Namibia |         63        0.46       62.21
                                  Nauru |         63        0.46       62.67
                                  Nepal |         63        0.46       63.13
                            Netherlands |         63        0.46       63.59
                          New Caledonia |         63        0.46       64.06
                            New Zealand |         63        0.46       64.52
                              Nicaragua |         63        0.46       64.98
                                  Niger |         63        0.46       65.44
                                Nigeria |         63        0.46       65.90
                        North Macedonia |         63        0.46       66.36
               Northern Mariana Islands |         63        0.46       66.82
                                 Norway |         63        0.46       67.28
                                   Oman |         63        0.46       67.74
                               Pakistan |         63        0.46       68.20
                                  Palau |         63        0.46       68.66
                    Palestine, State of |         63        0.46       69.12
                                 Panama |         63        0.46       69.59
                       Papua New Guinea |         63        0.46       70.05
                               Paraguay |         63        0.46       70.51
                                   Peru |         63        0.46       70.97
                            Philippines |         63        0.46       71.43
                                 Poland |         63        0.46       71.89
                               Portugal |         63        0.46       72.35
                            Puerto Rico |         63        0.46       72.81
                                  Qatar |         63        0.46       73.27
                      Republic of Korea |         63        0.46       73.73
                    Republic of Moldova |         63        0.46       74.19
                                Romania |         63        0.46       74.65
                     Russian Federation |         63        0.46       75.12
                                 Rwanda |         63        0.46       75.58
                  Saint Kitts and Nevis |         63        0.46       76.04
                            Saint Lucia |         63        0.46       76.50
       Saint Vincent and the Grenadines |         63        0.46       76.96
                                  Samoa |         63        0.46       77.42
                             San Marino |         63        0.46       77.88
                  Sao Tome and Principe |         63        0.46       78.34
                           Saudi Arabia |         63        0.46       78.80
                                Senegal |         63        0.46       79.26
                                 Serbia |         63        0.46       79.72
                             Seychelles |         63        0.46       80.18
                           Sierra Leone |         63        0.46       80.65
                              Singapore |         63        0.46       81.11
              Sint Maarten (Dutch part) |         63        0.46       81.57
                               Slovakia |         63        0.46       82.03
                               Slovenia |         63        0.46       82.49
                        Solomon Islands |         63        0.46       82.95
                                Somalia |         63        0.46       83.41
                           South Africa |         63        0.46       83.87
                            South Sudan |         63        0.46       84.33
                                  Spain |         63        0.46       84.79
                              Sri Lanka |         63        0.46       85.25
               St. Martin (French part) |         63        0.46       85.71
                                  Sudan |         63        0.46       86.18
                               Suriname |         63        0.46       86.64
                                 Sweden |         63        0.46       87.10
                            Switzerland |         63        0.46       87.56
                   Syrian Arab Republic |         63        0.46       88.02
                             Tajikistan |         63        0.46       88.48
                               Thailand |         63        0.46       88.94
                            Timor-Leste |         63        0.46       89.40
                                   Togo |         63        0.46       89.86
                                  Tonga |         63        0.46       90.32
                    Trinidad and Tobago |         63        0.46       90.78
                                Tunisia |         63        0.46       91.24
                           Turkmenistan |         63        0.46       91.71
               Turks and Caicos Islands |         63        0.46       92.17
                                 Tuvalu |         63        0.46       92.63
                                Türkiye |         63        0.46       93.09
                                 Uganda |         63        0.46       93.55
                                Ukraine |         63        0.46       94.01
                   United Arab Emirates |         63        0.46       94.47
United Kingdom of Great Britain and N.. |         63        0.46       94.93
            United Republic of Tanzania |         63        0.46       95.39
           United States Virgin Islands |         63        0.46       95.85
               United States of America |         63        0.46       96.31
                                Uruguay |         63        0.46       96.77
                             Uzbekistan |         63        0.46       97.24
                                Vanuatu |         63        0.46       97.70
      Venezuela, Bolivarian Republic of |         63        0.46       98.16
                               Viet Nam |         63        0.46       98.62
                                  Yemen |         63        0.46       99.08
                                 Zambia |         63        0.46       99.54
                               Zimbabwe |         63        0.46      100.00
----------------------------------------+-----------------------------------
                                  Total |     13,671      100.00

.                         lab var GDP "Gross domestic product (current US$)"

.                         lab var GDP_percap "Gross domestic product per capita (current US$ / capita)"

.                 
.                 // Save
.                 save GDP, replace
file GDP.dta saved

.                 export delimited using GDP, replace
file GDP.csv saved

. 
.                 
. **# World Bank land area data (sq. km)
.                 import delimited using "$datain\API_AG.LND.TOTL.K2_DS2_en_csv_v2_4570511.csv", rowrange(5:271) varnames(5)  clear
(encoding automatically selected: UTF-8)
(67 vars, 266 obs)

.                 drop indicatorcode indicatorname

.                 ren v* y#, addnum(1960)

.                 reshape long y, i(countrycode countryname) j(year)
(j = 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974 1975 1976 1977 1978 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989 1990 
> 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 202
> 2)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              266   ->   16,758      
Number of variables                  65   ->   4           
j variable (63 values)                    ->   year
xij variables:
                  y1960 y1961 ... y2022   ->   y
-----------------------------------------------------------------------------

.                 ren y landarea

.                 sum landarea

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
    landarea |     15,608     5250933    1.51e+07      2.027   1.30e+08

.                 ren countrycode ISO

.                         // drop regional groupings
.                         drop if inlist(ISO, "AFE", "AFW", "ARB", "CEB", "CSS", "EAP", "EAR", "EAS")
(504 observations deleted)

.                         drop if inlist(ISO, "ECA", "ECS", "EMU", "EUU", "FCS", "HIC", "HPC", "IBD")
(504 observations deleted)

.                         drop if inlist(ISO, "IBT", "IDA", "IDX", "INX", "LAC", "LCN", "LDC", "LIC")
(504 observations deleted)

.                         drop if inlist(ISO, "LMC", "LMY", "LTE", "MEA", "MIC", "MNA", "NAC", "OED") 
(504 observations deleted)

.                         drop if inlist(ISO, "OSS", "PRE", "PSS", "PST", "SAS", "SSA", "SSF", "SST")
(504 observations deleted)

.                         drop if inlist(ISO, "TEA", "TEC", "TLA", "TMN", "TSA", "TSS", "UMC", "WLD")
(504 observations deleted)

.                         drop if ISO=="IDB"
(63 observations deleted)

.                         
.                         // merge with region and income group - to address match issues
.                         ren countryname country

.                                 replace ISO="_CH" if ISO=="CHI" // Channel Islands
(63 real changes made)

.                                 replace country = "Bahamas" if country == "Bahamas, The" 
(63 real changes made)

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia" 
(63 real changes made)

.                                 replace country = "Democratic Republic of the Congo" if country == "Congo, Dem. Rep." 
(63 real changes made)

.                                 replace country = "Congo" if country == "Congo, Rep." 
(63 real changes made)

.                                 replace country = "Czechia" if country == "Czech Republic" 
(63 real changes made)

.                                 replace country = "Côte D'Ivoire" if ISO == "CIV"
(63 real changes made)

.                                 replace country = "Egypt" if country == "Egypt, Arab Rep." 
(63 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia, The" 
(63 real changes made)

.                                 replace country = "Hong Kong" if country == "Hong Kong SAR, China" 
(63 real changes made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Rep." 
(63 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Korea, Dem. People's Rep." 
(63 real changes made)

.                                 replace country = "Republic of Korea" if country == "Korea, Rep." 
(63 real changes made)

.                                 replace country = "Kyrgyzstan" if country == "Kyrgyz Republic" 
(63 real changes made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Lao PDR" 
(63 real changes made)

.                                 replace country = "Macau" if country == "Macao SAR, China" 
(63 real changes made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia, Fed. Sts." 
(63 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova" 
(63 real changes made)

.                                 replace country = "Slovakia" if country == "Slovak Republic" 
(63 real changes made)

.                                 replace country = "Saint Kitts and Nevis" if country == "St. Kitts and Nevis" 
(63 real changes made)

.                                 replace country = "Saint Lucia" if country == "St. Lucia" 
(63 real changes made)

.                                 replace country = "Saint Vincent and the Grenadines" if country == "St. Vincent and the Grenadines" 
(63 real changes made)

.                                 replace country = "Sao Tome and Principe" if country == "São Tomé and Príncipe" 
(0 real changes made)

.                                 replace country = "Taiwan" if country == "Taiwan, China" 
(0 real changes made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania" 
(63 real changes made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom" 
(63 real changes made)

.                                 replace country = "United States of America" if country == "United States" 
(63 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela, RB" 
(63 real changes made)

.                                 replace country = "Viet Nam" if country == "Vietnam" 
(63 real changes made)

.                                 replace country = "United States Virgin Islands" if country == "Virgin Islands (U.S.)" 
(63 real changes made)

.                                 replace country = "Yemen" if country == "Yemen, Rep." 
(63 real changes made)

.                                 replace country = "Türkiye" if country == "Turkiye"                    
(63 real changes made)

.                                 replace country = "Palestine, State of" if country == "West Bank and Gaza"
(63 real changes made)

.                                 replace country = "Curaçao" if country == "Curacao"
(63 real changes made)

.                         merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            72
        from master                         0  (_merge==1)
        from using                         72  (_merge==2)

    Matched                            13,671  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3

.                                         /* Drop territories recorded by World Bank but not UN
>                                                 Kosovo
>                                                 Channel Islands
>                                         */
.                                 drop if _merge != 3
(72 observations deleted)

.                                 drop _merge             

.         
.                 // Save
.                 save landarea, replace
file landarea.dta saved

.                 export delimited using landarea, replace
file landarea.csv saved

. 
.                 
. // DIETS, NUTRITION, & HEALTH //////////////////////////////////////////////////
. 
. ** Manage main DQQ dataset
.                 import excel using "$datain\DQQ Indicators for FSCI.xlsx", firstrow clear
(9 vars, 287 obs)

.                 tab Variable

   Variable |      Freq.     Percent        Cum.
------------+-----------------------------------
       All5 |         41       14.29       14.29
GDR_H_score |         41       14.29       28.57
GDR_L_score |         41       14.29       42.86
  GDR_score |         41       14.29       57.14
      MDD_W |         41       14.29       71.43
       NoFV |         41       14.29       85.71
        SSB |         41       14.29      100.00
------------+-----------------------------------
      Total |        287      100.00

.                 tab Variable_label 

                     Variable_label |      Freq.     Percent        Cum.
------------------------------------+-----------------------------------
                          All-5 (%) |         41       14.29       14.29
                   GDR Score (0-18) |         41       14.29       28.57
            GDR-Healthy Score (0-9) |         41       14.29       42.86
              GDR-Limit Score (0-9) |         41       14.29       57.14
Minimum Dietary Diversity-Women (%) |         41       14.29       71.43
          Sugar-sweetened beverages |         41       14.29       85.71
           Zero fruit or vegetables |         41       14.29      100.00
------------------------------------+-----------------------------------
                              Total |        287      100.00

.                         tempfile DQQlong

.                         save `DQQlong', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000003.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000003.tmp saved as .dta format

.                 drop Variable_label LCI UCI Income_group Region 

.                 ren Country country

.                 reshape wide Mean_Prevalence, i(ISO3 country) j(Variable) string
(j = All5 GDR_H_score GDR_L_score GDR_score MDD_W NoFV SSB)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations              287   ->   41          
Number of variables                   4   ->   9           
j variable (7 values)          Variable   ->   (dropped)
xij variables:
                        Mean_Prevalence   ->   Mean_PrevalenceAll5 Mean_PrevalenceGDR_H_score ... Mean_PrevalenceSSB
-----------------------------------------------------------------------------

.                 ren Mean_Prevalence* *

.                         tempfile DQQmean

.                         save `DQQmean', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000004.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000004.tmp saved as .dta format

.                 use `DQQlong', clear 

.                 drop Variable_label Mean_Prevalence UCI Income_group Region Country

.                 reshape wide LCI, i(ISO3) j(Variable) string
(j = All5 GDR_H_score GDR_L_score GDR_score MDD_W NoFV SSB)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations              287   ->   41          
Number of variables                   3   ->   8           
j variable (7 values)          Variable   ->   (dropped)
xij variables:
                                    LCI   ->   LCIAll5 LCIGDR_H_score ... LCISSB
-----------------------------------------------------------------------------

.                 ren LCI* *_LCI

.                         tempfile DQQLCI

.                         save `DQQLCI', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000005.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000005.tmp saved as .dta format

.                 use `DQQlong', clear 

.                 drop Variable_label Mean_Prevalence LCI Income_group Region Country

.                 reshape wide UCI, i(ISO3) j(Variable) string
(j = All5 GDR_H_score GDR_L_score GDR_score MDD_W NoFV SSB)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations              287   ->   41          
Number of variables                   3   ->   8           
j variable (7 values)          Variable   ->   (dropped)
xij variables:
                                    UCI   ->   UCIAll5 UCIGDR_H_score ... UCISSB
-----------------------------------------------------------------------------

.                 ren UCI* *_UCI

.                         tempfile DQQUCI

.                         save `DQQUCI', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000006.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000006.tmp saved as .dta format

.                 use `DQQmean', clear

.                 merge 1:1 ISO3 using `DQQLCI'

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                                41  (_merge==3)
    -----------------------------------------

.                 drop _merge

.                 merge 1:1 ISO3 using `DQQUCI'

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                                41  (_merge==3)
    -----------------------------------------

.                         drop _merge

.                         order ISO3 All5* GDR_H* GDR_L* GDR_score* NoFV* SSB* MDD*

.                         ren GDR_H* NCD_P* // Rename to NCD-Protect

.                         ren GDR_L* NCD_R* // Rename to NCD-Risk

.                         lab var All5 "All-5 (%)" 

.                         lab var NCD_P_score "NCD-Protect Score (0-9)"

.                         lab var NCD_R_score "NCD-Risk Score (0-9)"

.                         lab var GDR_score "GDR Score (0-18)"

.                         lab var NoFV "Zero fruit or vegetables (%)"

.                         lab var SSB "Sugar-sweetened beverages (%)"

.                         lab var MDD_W "Minimum Dietary Diversity-Women (%)"

.                         tab NoFV

 Zero fruit |
         or |
 vegetables |
        (%) |      Freq.     Percent        Cum.
------------+-----------------------------------
      .0185 |          1        2.44        2.44
      .0192 |          1        2.44        4.88
      .0294 |          1        2.44        7.32
      .0296 |          1        2.44        9.76
      .0341 |          1        2.44       12.20
      .0357 |          1        2.44       14.63
      .0375 |          1        2.44       17.07
      .0376 |          1        2.44       19.51
      .0393 |          1        2.44       21.95
      .0445 |          1        2.44       24.39
      .0458 |          1        2.44       26.83
      .0511 |          1        2.44       29.27
      .0528 |          1        2.44       31.71
      .0559 |          1        2.44       34.15
      .0562 |          1        2.44       36.59
      .0583 |          1        2.44       39.02
      .0594 |          1        2.44       41.46
      .0605 |          1        2.44       43.90
      .0706 |          1        2.44       46.34
      .0792 |          1        2.44       48.78
      .0835 |          1        2.44       51.22
      .0847 |          1        2.44       53.66
      .0886 |          1        2.44       56.10
      .0958 |          1        2.44       58.54
      .0968 |          1        2.44       60.98
      .1045 |          1        2.44       63.41
       .106 |          1        2.44       65.85
      .1094 |          1        2.44       68.29
      .1106 |          1        2.44       70.73
      .1207 |          1        2.44       73.17
      .1223 |          1        2.44       75.61
      .1263 |          1        2.44       78.05
       .127 |          1        2.44       80.49
      .1325 |          1        2.44       82.93
      .1405 |          1        2.44       85.37
      .1412 |          1        2.44       87.80
      .1485 |          1        2.44       90.24
      .1543 |          1        2.44       92.68
      .1742 |          1        2.44       95.12
      .1837 |          1        2.44       97.56
       .223 |          1        2.44      100.00
------------+-----------------------------------
      Total |         41      100.00

.                         tab SSB

Sugar-sweet |
       ened |
  beverages |
        (%) |      Freq.     Percent        Cum.
------------+-----------------------------------
       .277 |          1        2.44        2.44
      .2868 |          1        2.44        4.88
      .3618 |          1        2.44        7.32
      .4696 |          1        2.44        9.76
      .5132 |          1        2.44       12.20
      .5162 |          1        2.44       14.63
      .5239 |          1        2.44       17.07
      .5468 |          1        2.44       19.51
      .5493 |          1        2.44       21.95
      .5681 |          1        2.44       24.39
      .5686 |          1        2.44       26.83
      .5789 |          1        2.44       29.27
      .6222 |          1        2.44       31.71
      .6341 |          1        2.44       34.15
      .6434 |          1        2.44       36.59
       .669 |          1        2.44       39.02
      .6771 |          1        2.44       41.46
      .6787 |          1        2.44       43.90
      .7119 |          1        2.44       46.34
       .723 |          2        4.88       51.22
      .7337 |          1        2.44       53.66
      .7401 |          1        2.44       56.10
      .7457 |          1        2.44       58.54
      .7577 |          1        2.44       60.98
      .7629 |          1        2.44       63.41
      .7944 |          1        2.44       65.85
       .842 |          1        2.44       68.29
      .8461 |          1        2.44       70.73
      .8511 |          1        2.44       73.17
      .8605 |          1        2.44       75.61
      .8659 |          1        2.44       78.05
      .8777 |          1        2.44       80.49
      .8879 |          1        2.44       82.93
      .8891 |          1        2.44       85.37
      .8972 |          1        2.44       87.80
      .8991 |          1        2.44       90.24
      .9053 |          1        2.44       92.68
      .9077 |          1        2.44       95.12
      .9229 |          1        2.44       97.56
      .9269 |          1        2.44      100.00
------------+-----------------------------------
      Total |         41      100.00

.                         ren ISO3 ISO

.                         gen year=2021

.                         replace country = "Lao People's Democratic Republic" if country == "Laos"
variable country was str13 now str32
(1 real change made)

.                         replace country = "Russian Federation" if country == "Russia"
(1 real change made)

.                         replace country = "United Republic of Tanzania" if country == "Tanzania"
(1 real change made)

.                         replace country = "United States of America" if country == "United States"
(1 real change made)

.                         replace country = "Türkiye" if country == "Turkey"
(1 real change made)

.                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(1 real change made)

.                         replace country = "Viet Nam" if country == "Vietnam"
(1 real change made)

.                         merge 1:1 ISO country using countryclassification
(variable country was str32, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           248
        from master                         0  (_merge==1)
        from using                        248  (_merge==2)

    Matched                                41  (_merge==3)
    -----------------------------------------

.                         drop if _merge==2
(248 observations deleted)

.                         drop _merge

.                         destring, replace
ISO: contains nonnumeric characters; no replace
All5 already numeric; no replace
All5_LCI already numeric; no replace
All5_UCI already numeric; no replace
NCD_P_score already numeric; no replace
NCD_P_score_LCI already numeric; no replace
NCD_P_score_UCI already numeric; no replace
NCD_R_score already numeric; no replace
NCD_R_score_LCI already numeric; no replace
NCD_R_score_UCI already numeric; no replace
GDR_score already numeric; no replace
GDR_score_LCI already numeric; no replace
GDR_score_UCI already numeric; no replace
NoFV already numeric; no replace
NoFV_LCI already numeric; no replace
NoFV_UCI already numeric; no replace
SSB already numeric; no replace
SSB_LCI already numeric; no replace
SSB_UCI already numeric; no replace
MDD_W already numeric; no replace
MDD_W_LCI already numeric; no replace
MDD_W_UCI already numeric; no replace
country: contains nonnumeric characters; no replace
year already numeric; no replace
incgrp: contains nonnumeric characters; no replace
wb_region already numeric; no replace
disp_area: contains nonnumeric characters; no replace
UN_status_detail already numeric; no replace
UNmemberstate already numeric; no replace
UN_status already numeric; no replace
territoryof: contains nonnumeric characters; no replace
ISO_governing: all characters numeric; replaced as byte
(41 missing values generated)
UN_contregion_code: all characters numeric; replaced as int
UN_continental_region: contains nonnumeric characters; no replace
UN_subregion_code: all characters numeric; replaced as int
UN_subregion: contains nonnumeric characters; no replace
UN_intermedregion_code: all characters numeric; replaced as byte
(22 missing values generated)
UN_intermediary_region: contains nonnumeric characters; no replace
m49_code: all characters numeric; replaced as int

.                         ren No* zero* // rename NoFV to match IYCF ZeroFV indicator

.                         * convert all percentage variables to a 0-100 scale
.                         sum

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
         ISO |          0
        All5 |         41    .3445512    .1302088      .1589      .6339
    All5_LCI |         41    .3058561    .1259122      .1219      .5776
    All5_UCI |         41    .3843805    .1337688      .1998      .6885
 NCD_P_score |         41    3.573659    .6294869       2.48       4.86
-------------+---------------------------------------------------------
NCD_P_sc~LCI |         41    3.402683    .6228243       2.31       4.71
NCD_P_sc~UCI |         41    3.743171    .6383981       2.64       5.02
 NCD_R_score |         41    2.141463    .7733452        .94       3.89
NCD_R_sc~LCI |         41    1.972195    .7445821        .78       3.68
NCD_R_sc~UCI |         41        2.31    .8064955       1.05        4.1
-------------+---------------------------------------------------------
   GDR_score |         41    10.43244     .684583       8.63      11.65
GDR_scor~LCI |         41     10.2539    .6921412       8.44      11.45
GDR_scor~UCI |         41    10.60951      .67751       8.82      11.84
      zeroFV |         41    .0875439    .0495124      .0185       .223
  zeroFV_LCI |         41    .0659707    .0443144       .009      .2022
-------------+---------------------------------------------------------
  zeroFV_UCI |         41    .1123512    .0547532      .0313      .2444
         SSB |         41     .701378    .1757316       .277      .9269
     SSB_LCI |         41    .6644463    .1810666      .2517      .9086
     SSB_UCI |         41    .7367829    .1696179      .2989      .9445
       MDD_W |         41    .6807171    .1661922      .3585      .8883
-------------+---------------------------------------------------------
   MDD_W_LCI |         41    .6240439    .1691834      .3025      .8459
   MDD_W_UCI |         41    .7339902    .1608341      .4164      .9296
     country |          0
        year |         41        2021           0       2021       2021
      incgrp |          0
-------------+---------------------------------------------------------
   wb_region |         41    4.390244    2.300848          1          7
   disp_area |          0
UN_status_~l |         41           8           0          8          8
UNmemberst~e |         41           1           0          1          1
   UN_status |         41           5           0          5          5
-------------+---------------------------------------------------------
 territoryof |          0
ISO_govern~g |          0
UN_contreg~e |         41    70.17073    68.64652          2        150
UN_contine~n |          0
UN_subregi~e |         41    161.5122     130.125         15        419
-------------+---------------------------------------------------------
UN_subregion |          0
UN_interme~e |         19    11.57895    4.100349          5         18
UN_interme~n |          0
    m49_code |         41    460.0244    244.9035         50        854

.                 foreach v of varlist All* zero* SSB* MDD* {
  2.                         replace `v'=`v'*100
  3.                         }
(41 real changes made)
(41 real changes made)
(41 real changes made)
(41 real changes made)
(41 real changes made)
(41 real changes made)
(41 real changes made)
(41 real changes made)
(41 real changes made)
(41 real changes made)
(41 real changes made)
(41 real changes made)

.                         sum

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
         ISO |          0
        All5 |         41    34.45512    13.02088      15.89      63.39
    All5_LCI |         41    30.58561    12.59122      12.19      57.76
    All5_UCI |         41    38.43805    13.37688      19.98      68.85
 NCD_P_score |         41    3.573659    .6294869       2.48       4.86
-------------+---------------------------------------------------------
NCD_P_sc~LCI |         41    3.402683    .6228243       2.31       4.71
NCD_P_sc~UCI |         41    3.743171    .6383981       2.64       5.02
 NCD_R_score |         41    2.141463    .7733452        .94       3.89
NCD_R_sc~LCI |         41    1.972195    .7445821        .78       3.68
NCD_R_sc~UCI |         41        2.31    .8064955       1.05        4.1
-------------+---------------------------------------------------------
   GDR_score |         41    10.43244     .684583       8.63      11.65
GDR_scor~LCI |         41     10.2539    .6921412       8.44      11.45
GDR_scor~UCI |         41    10.60951      .67751       8.82      11.84
      zeroFV |         41     8.75439    4.951242       1.85       22.3
  zeroFV_LCI |         41    6.597073    4.431437         .9      20.22
-------------+---------------------------------------------------------
  zeroFV_UCI |         41    11.23512    5.475324       3.13      24.44
         SSB |         41     70.1378    17.57316       27.7      92.69
     SSB_LCI |         41    66.44463    18.10666      25.17      90.86
     SSB_UCI |         41    73.67829    16.96179      29.89      94.45
       MDD_W |         41    68.07171    16.61922      35.85      88.83
-------------+---------------------------------------------------------
   MDD_W_LCI |         41    62.40439    16.91834      30.25      84.59
   MDD_W_UCI |         41    73.39902    16.08341      41.64      92.96
     country |          0
        year |         41        2021           0       2021       2021
      incgrp |          0
-------------+---------------------------------------------------------
   wb_region |         41    4.390244    2.300848          1          7
   disp_area |          0
UN_status_~l |         41           8           0          8          8
UNmemberst~e |         41           1           0          1          1
   UN_status |         41           5           0          5          5
-------------+---------------------------------------------------------
 territoryof |          0
ISO_govern~g |          0
UN_contreg~e |         41    70.17073    68.64652          2        150
UN_contine~n |          0
UN_subregi~e |         41    161.5122     130.125         15        419
-------------+---------------------------------------------------------
UN_subregion |          0
UN_interme~e |         19    11.57895    4.100349          5         18
UN_interme~n |          0
    m49_code |         41    460.0244    244.9035         50        854

.                 save DQQ_2021, replace
file DQQ_2021.dta saved

. 
.         
. ** FOOD ENVIRONMENTS ***********************************************************
. 
. **# Cost of a healthy diet (FAO/Food Prices for Nutrition)
.                 import delimited using "$datain\d5cf1901-7116-4f10-b757-295fbb525e00_Data.csv", clear
(encoding automatically selected: UTF-8)
(9 vars, 749 obs)

.                         ren countryname country

.                         ren countrycode ISO

.                         ren time year

.                         drop classificationname classificationcode timecode

.                         ren percentofthepopulationwhocannota pctcantafford

.                         ren millionsofpeoplewhocannotafforda ncantafford

.                         ren costofahealthydietcohd cohd

.                         preserve

.                                 
.                                 // Load metadata 
.                                 import delimited using "$datain\d5cf1901-7116-4f10-b757-295fbb525e00_Series - Metadata.csv", clear
(encoding automatically selected: UTF-8)
(4 vars, 4 obs)

.                                 describe

Contains data
 Observations:             4                  
    Variables:             4                  
----------------------------------------------------------------------------------------------------------------------------------------------------------------
Variable      Storage   Display    Value
    name         type    format    label      Variable label
----------------------------------------------------------------------------------------------------------------------------------------------------------------
v1              str15   %15s                  
v2              str76   %76s                  
v3              strL    %9s                   
v4              strL    %9s                   
----------------------------------------------------------------------------------------------------------------------------------------------------------------
Sorted by: 
     Note: Dataset has changed since last saved.

.                                 restore

.                                 lab var pctcantafford "Percent of the population who cannot afford a healthy diet at 52% of income"

.                                 lab var ncantafford "Number of people who cannot afford a healthy diet at 52% of income, millions"

.                                 lab var cohd "Cost of a healthy diet (current PPP$/cap/day)"

.                                 drop in 745/749 // heading material imported
(5 observations deleted)

.                                 
.                                 // Merge in country classification
.                                 drop if inlist(country, "World", "Upper middle income", "North America", "Middle East & North Africa", "Lower middle income")
(20 observations deleted)

.                                 drop if inlist(country,"Low income", "Latin America & Caribbean", "High income", "Europe & Central Asia", "East Asia & Pacific
> ", "South Asia", "Sub-Saharan Africa")
(28 observations deleted)

.                                 replace country = "Bahamas" if country == "Bahamas, The" 
(4 real changes made)

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia" 
(4 real changes made)

.                                 replace country = "Democratic Republic of the Congo" if country == "Congo, Dem. Rep." 
(4 real changes made)

.                                 replace country = "Congo" if country == "Congo, Rep." 
(4 real changes made)

.                                 replace country = "Czechia" if country == "Czech Republic" 
(4 real changes made)

.                                 replace country = "Côte D'Ivoire" if ISO == "CIV"
(4 real changes made)

.                                 replace country = "Egypt" if country == "Egypt, Arab Rep." 
(4 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia, The" 
(4 real changes made)

.                                 replace country = "Hong Kong" if country == "Hong Kong SAR, China" 
(4 real changes made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Rep." 
(4 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Korea, Dem. People's Rep." 
(0 real changes made)

.                                 replace country = "Republic of Korea" if country == "Korea, Rep." 
(4 real changes made)

.                                 replace country = "Kyrgyzstan" if country == "Kyrgyz Republic" 
(4 real changes made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Lao PDR" 
(4 real changes made)

.                                 replace country = "Macau" if country == "Macao SAR, China" 
(0 real changes made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia, Fed. Sts." 
(0 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova" 
(4 real changes made)

.                                 replace country = "Slovakia" if country == "Slovak Republic" 
(4 real changes made)

.                                 replace country = "Saint Kitts and Nevis" if country == "St. Kitts and Nevis" 
(4 real changes made)

.                                 replace country = "Saint Lucia" if country == "St. Lucia" 
(4 real changes made)

.                                 replace country = "Saint Vincent and the Grenadines" if country == "St. Vincent and the Grenadines" 
(4 real changes made)

.                                 replace country = "Sao Tome and Principe" if country == "São Tomé and Príncipe" 
(0 real changes made)

.                                 replace country = "Taiwan" if country == "Taiwan, China" 
(4 real changes made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania" 
(4 real changes made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom" 
variable country was str45 now str52
(4 real changes made)

.                                 replace country = "United States of America" if country == "United States" 
(4 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela, RB" 
(0 real changes made)

.                                 replace country = "Viet Nam" if country == "Vietnam" 
(4 real changes made)

.                                 replace country = "United States Virgin Islands" if country == "Virgin Islands (U.S.)" 
(0 real changes made)

.                                 replace country = "Yemen" if country == "Yemen, Rep." 
(0 real changes made)

.                                 replace country = "Türkiye" if country == "Turkiye"                    
(0 real changes made)

.                                 replace country = "Palestine, State of" if country == "West Bank and Gaza"
(4 real changes made)

.                                 replace country = "Curaçao" if country == "Curacao"
(4 real changes made)

.                         merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           120
        from master                         4  (_merge==1)
        from using                        116  (_merge==2)

    Matched                               692  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3

.                                         /* Drop territories recorded by World Bank but not UN
>                                                 Bonaire - only in aggregate with neighboring islands in UN dataset
>                                         */
.                                 drop if _merge != 3
(120 observations deleted)

.                                 drop _merge                                             

.                                         * replace string characters of missing to allow destringing numbers
.                                         foreach v in pctcantafford ncantafford cohd {
  2.                                                 replace `v' = "" if `v' == ".."
  3.                                         }
(129 real changes made)
(129 real changes made)
(31 real changes made)

.                                 destring, replace
country: contains nonnumeric characters; no replace
ISO: contains nonnumeric characters; no replace
year already numeric; no replace
pctcantafford: all characters numeric; replaced as double
(129 missing values generated)
ncantafford: all characters numeric; replaced as double
(129 missing values generated)
cohd: all characters numeric; replaced as double
(31 missing values generated)
incgrp: contains nonnumeric characters; no replace
wb_region already numeric; no replace
disp_area: contains nonnumeric characters; no replace
UN_status_detail already numeric; no replace
UNmemberstate already numeric; no replace
UN_status already numeric; no replace
territoryof: contains nonnumeric characters; no replace
ISO_governing: contains nonnumeric characters; no replace
UN_contregion_code: all characters numeric; replaced as int
(4 missing values generated)
UN_continental_region: contains nonnumeric characters; no replace
UN_subregion_code: all characters numeric; replaced as int
UN_subregion: contains nonnumeric characters; no replace
UN_intermedregion_code: all characters numeric; replaced as byte
(360 missing values generated)
UN_intermediary_region: contains nonnumeric characters; no replace
m49_code: all characters numeric; replaced as int

. 
.                                 drop if pctcantafford == . & ncantafford == . & UNmemberstate == 0
(35 observations deleted)

.                 // Save
.                 save costofdiet, replace
file costofdiet.dta saved

.                 export delimited using costofdiet, replace
file costofdiet.csv saved

.                 
. **# Availability of fruits and vegetables (kg/capita) (FAO)
.                 import delimited using "$datain\FAOSTAT_FruitVegetableAvailability_2010-2019.csv", clear
(encoding automatically selected: UTF-8)
(14 vars, 3,740 obs)

.                 ren area country

.                 drop if country == "China" // drop aggregate China value to avoid double counting
(20 observations deleted)

.                 ren value availability 

.                 lab var availability "Availability (kg/capita/yr)"

.                 drop domaincode domain areacode elementcode element itemcode yearcode flag flagdescription

.                 encode item, gen(item2)

.                 tab item2

                   Item |      Freq.     Percent        Cum.
------------------------+-----------------------------------
Fruits - Excluding Wine |      1,860       50.00       50.00
             Vegetables |      1,860       50.00      100.00
------------------------+-----------------------------------
                  Total |      3,720      100.00

.                 tab item2, nolabel

       Item |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      1,860       50.00       50.00
          2 |      1,860       50.00      100.00
------------+-----------------------------------
      Total |      3,720      100.00

.                 drop item

.                 reshape wide availability, i(country year) j(item2)
(j = 1 2)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations            3,720   ->   1,860       
Number of variables                   5   ->   5           
j variable (2 values)             item2   ->   (dropped)
xij variables:
                           availability   ->   availability1 availability2
-----------------------------------------------------------------------------

.                 ren availability1 avail_fruits

.                 ren availability2 avail_veg

.                 lab var avail_fruits "Fruits availability (kg/capita/yr)"

.                 lab var avail_veg "Vegetables availability (kg/capita/yr)"

.                         
.                         // Merge in country classification
.                         replace country="Côte D'Ivoire" if country=="Côte d'Ivoire"
(10 real changes made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(10 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(10 real changes made)

.                         replace country = "China" if country == "China, mainland"
(10 real changes made)

.                         replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(10 real changes made)

.                         replace country = "Taiwan" if country == "China, Taiwan Province of"
(10 real changes made)

.                         replace country = "Macau" if country == "China, Macao SAR"
(10 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(10 real changes made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           140
        from master                        70  (_merge==1)
        from using                         70  (_merge==2)

    Matched                             1,790  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(140 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           110
        from master                         0  (_merge==1)
        from using                        110  (_merge==2)

    Matched                             1,790  (_merge==3)
    -----------------------------------------

.                         drop if _merge!=3
(110 observations deleted)

.                         drop _merge

.                         merge m:1 country ISO using     countryclassification
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           110
        from master                         0  (_merge==1)
        from using                        110  (_merge==2)

    Matched                             1,790  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                         drop if _merge!=3 // historical country names have no data
(110 observations deleted)

.                         drop _merge unit

.                         sort ISO year

.                                 tab country

                                   Area |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                            Afghanistan |         10        0.56        0.56
                                Albania |         10        0.56        1.12
                                Algeria |         10        0.56        1.68
                                 Angola |         10        0.56        2.23
                    Antigua and Barbuda |         10        0.56        2.79
                              Argentina |         10        0.56        3.35
                                Armenia |         10        0.56        3.91
                              Australia |         10        0.56        4.47
                                Austria |         10        0.56        5.03
                             Azerbaijan |         10        0.56        5.59
                                Bahamas |         10        0.56        6.15
                             Bangladesh |         10        0.56        6.70
                               Barbados |         10        0.56        7.26
                                Belarus |         10        0.56        7.82
                                Belgium |         10        0.56        8.38
                                 Belize |         10        0.56        8.94
                                  Benin |         10        0.56        9.50
       Bolivia (Plurinational State of) |         10        0.56       10.06
                 Bosnia and Herzegovina |         10        0.56       10.61
                               Botswana |         10        0.56       11.17
                                 Brazil |         10        0.56       11.73
                               Bulgaria |         10        0.56       12.29
                           Burkina Faso |         10        0.56       12.85
                                Burundi |         10        0.56       13.41
                             Cabo Verde |         10        0.56       13.97
                               Cambodia |         10        0.56       14.53
                               Cameroon |         10        0.56       15.08
                                 Canada |         10        0.56       15.64
               Central African Republic |         10        0.56       16.20
                                   Chad |         10        0.56       16.76
                                  Chile |         10        0.56       17.32
                                  China |         10        0.56       17.88
                               Colombia |         10        0.56       18.44
                                Comoros |         10        0.56       18.99
                                  Congo |         10        0.56       19.55
                             Costa Rica |         10        0.56       20.11
                                Croatia |         10        0.56       20.67
                                   Cuba |         10        0.56       21.23
                                 Cyprus |         10        0.56       21.79
                                Czechia |         10        0.56       22.35
                          Côte D'Ivoire |         10        0.56       22.91
              Dem People's Rep of Korea |         10        0.56       23.46
       Democratic Republic of the Congo |         10        0.56       24.02
                                Denmark |         10        0.56       24.58
                               Djibouti |         10        0.56       25.14
                               Dominica |         10        0.56       25.70
                     Dominican Republic |         10        0.56       26.26
                                Ecuador |         10        0.56       26.82
                                  Egypt |         10        0.56       27.37
                            El Salvador |         10        0.56       27.93
                                Estonia |         10        0.56       28.49
                               Eswatini |         10        0.56       29.05
                               Ethiopia |         10        0.56       29.61
                                   Fiji |         10        0.56       30.17
                                Finland |         10        0.56       30.73
                                 France |         10        0.56       31.28
                       French Polynesia |         10        0.56       31.84
                                  Gabon |         10        0.56       32.40
               Gambia (Republic of The) |         10        0.56       32.96
                                Georgia |         10        0.56       33.52
                                Germany |         10        0.56       34.08
                                  Ghana |         10        0.56       34.64
                                 Greece |         10        0.56       35.20
                                Grenada |         10        0.56       35.75
                              Guatemala |         10        0.56       36.31
                                 Guinea |         10        0.56       36.87
                          Guinea-Bissau |         10        0.56       37.43
                                 Guyana |         10        0.56       37.99
                                  Haiti |         10        0.56       38.55
                               Honduras |         10        0.56       39.11
                              Hong Kong |         10        0.56       39.66
                                Hungary |         10        0.56       40.22
                                Iceland |         10        0.56       40.78
                                  India |         10        0.56       41.34
                              Indonesia |         10        0.56       41.90
             Iran (Islamic Republic of) |         10        0.56       42.46
                                   Iraq |         10        0.56       43.02
                                Ireland |         10        0.56       43.58
                                 Israel |         10        0.56       44.13
                                  Italy |         10        0.56       44.69
                                Jamaica |         10        0.56       45.25
                                  Japan |         10        0.56       45.81
                                 Jordan |         10        0.56       46.37
                             Kazakhstan |         10        0.56       46.93
                                  Kenya |         10        0.56       47.49
                               Kiribati |         10        0.56       48.04
                                 Kuwait |         10        0.56       48.60
                             Kyrgyzstan |         10        0.56       49.16
       Lao People's Democratic Republic |         10        0.56       49.72
                                 Latvia |         10        0.56       50.28
                                Lebanon |         10        0.56       50.84
                                Lesotho |         10        0.56       51.40
                                Liberia |         10        0.56       51.96
                                  Libya |         10        0.56       52.51
                              Lithuania |         10        0.56       53.07
                             Luxembourg |         10        0.56       53.63
                                  Macau |         10        0.56       54.19
                             Madagascar |         10        0.56       54.75
                                 Malawi |         10        0.56       55.31
                               Malaysia |         10        0.56       55.87
                               Maldives |         10        0.56       56.42
                                   Mali |         10        0.56       56.98
                                  Malta |         10        0.56       57.54
                             Mauritania |         10        0.56       58.10
                              Mauritius |         10        0.56       58.66
                                 Mexico |         10        0.56       59.22
                               Mongolia |         10        0.56       59.78
                             Montenegro |         10        0.56       60.34
                                Morocco |         10        0.56       60.89
                             Mozambique |         10        0.56       61.45
                                Myanmar |         10        0.56       62.01
                                Namibia |         10        0.56       62.57
                                  Nepal |         10        0.56       63.13
                            Netherlands |         10        0.56       63.69
                          New Caledonia |         10        0.56       64.25
                            New Zealand |         10        0.56       64.80
                              Nicaragua |         10        0.56       65.36
                                  Niger |         10        0.56       65.92
                                Nigeria |         10        0.56       66.48
                        North Macedonia |         10        0.56       67.04
                                 Norway |         10        0.56       67.60
                                   Oman |         10        0.56       68.16
                               Pakistan |         10        0.56       68.72
                                 Panama |         10        0.56       69.27
                       Papua New Guinea |         10        0.56       69.83
                               Paraguay |         10        0.56       70.39
                                   Peru |         10        0.56       70.95
                            Philippines |         10        0.56       71.51
                                 Poland |         10        0.56       72.07
                               Portugal |         10        0.56       72.63
                      Republic of Korea |         10        0.56       73.18
                    Republic of Moldova |         10        0.56       73.74
                                Romania |         10        0.56       74.30
                     Russian Federation |         10        0.56       74.86
                                 Rwanda |         10        0.56       75.42
                  Saint Kitts and Nevis |         10        0.56       75.98
                            Saint Lucia |         10        0.56       76.54
       Saint Vincent and the Grenadines |         10        0.56       77.09
                                  Samoa |         10        0.56       77.65
                  Sao Tome and Principe |         10        0.56       78.21
                           Saudi Arabia |         10        0.56       78.77
                                Senegal |         10        0.56       79.33
                                 Serbia |         10        0.56       79.89
                             Seychelles |         10        0.56       80.45
                           Sierra Leone |         10        0.56       81.01
                               Slovakia |         10        0.56       81.56
                               Slovenia |         10        0.56       82.12
                        Solomon Islands |         10        0.56       82.68
                           South Africa |         10        0.56       83.24
                                  Spain |         10        0.56       83.80
                              Sri Lanka |         10        0.56       84.36
                                  Sudan |         10        0.56       84.92
                               Suriname |         10        0.56       85.47
                                 Sweden |         10        0.56       86.03
                            Switzerland |         10        0.56       86.59
                   Syrian Arab Republic |         10        0.56       87.15
                                 Taiwan |         10        0.56       87.71
                             Tajikistan |         10        0.56       88.27
                               Thailand |         10        0.56       88.83
                            Timor-Leste |         10        0.56       89.39
                                   Togo |         10        0.56       89.94
                    Trinidad and Tobago |         10        0.56       90.50
                                Tunisia |         10        0.56       91.06
                           Turkmenistan |         10        0.56       91.62
                                Türkiye |         10        0.56       92.18
                                 Uganda |         10        0.56       92.74
                                Ukraine |         10        0.56       93.30
                   United Arab Emirates |         10        0.56       93.85
United Kingdom of Great Britain and N.. |         10        0.56       94.41
            United Republic of Tanzania |         10        0.56       94.97
               United States of America |         10        0.56       95.53
                                Uruguay |         10        0.56       96.09
                             Uzbekistan |         10        0.56       96.65
                                Vanuatu |         10        0.56       97.21
      Venezuela, Bolivarian Republic of |         10        0.56       97.77
                               Viet Nam |         10        0.56       98.32
                                  Yemen |         10        0.56       98.88
                                 Zambia |         10        0.56       99.44
                               Zimbabwe |         10        0.56      100.00
----------------------------------------+-----------------------------------
                                  Total |      1,790      100.00

.                         
.                         // Convert from kg/capita/year to grams per person per day
.                         replace avail_fruits = avail_fruits * 1000 / 365
(1,784 real changes made)

.                         replace avail_veg = avail_veg * 1000 / 365
(1,784 real changes made)

.                         lab var avail_fruits "Fruits availability (grams/capita/day)"

.                         lab var avail_veg "Vegetables availability (grams/capita/day)"

. 
.                 // Save
.                 save fruitveg_availability, replace
file fruitveg_availability.dta saved

.                 export delimited using fruitveg_availability, replace
file fruitveg_availability.csv saved

. 
. **# Retail value of ultra-processed foods (Euromonitor)
.                 import excel using "$datain\Euromonitor Datasets for GAIN_07-07-21 v3.xlsx", clear sheet("Ultraprocessedfood US$") firstrow
(15 vars, 210 obs)

.                         * Note currency is in nominal US$
.                 ren G UPFretailval2017

.                 ren H UPFretailval2018

.                 ren I UPFretailval2019

.                 drop J-O

.                 ren Geography country

.                 drop if country == ""
(0 observations deleted)

.                 reshape long UPFretailval, i(country Category DataType Unit CurrencyConversion CurrentConstant) j(year)
(j = 2017 2018 2019)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              210   ->   630         
Number of variables                   9   ->   8           
j variable (3 values)                     ->   year
xij variables:
UPFretailval2017 UPFretailval2018 UPFretailval2019->UPFretailval
-----------------------------------------------------------------------------

.                 foreach v in Category DataType Unit CurrencyConversion CurrentConstant {
  2.                         tab `v'
  3.                 }

                       Category |      Freq.     Percent        Cum.
--------------------------------+-----------------------------------
           Ultraprocessed Foods |        162       25.71       25.71
Ultraprocessed Foods - modelled |        468       74.29      100.00
--------------------------------+-----------------------------------
                          Total |        630      100.00

       Data Type |      Freq.     Percent        Cum.
-----------------+-----------------------------------
Retail Value RSP |        630      100.00      100.00
-----------------+-----------------------------------
           Total |        630      100.00

       Unit |      Freq.     Percent        Cum.
------------+-----------------------------------
USD million |        630      100.00      100.00
------------+-----------------------------------
      Total |        630      100.00

      Currency |
    Conversion |      Freq.     Percent        Cum.
---------------+-----------------------------------
y-o-y ex rates |        630      100.00      100.00
---------------+-----------------------------------
         Total |        630      100.00

       Current |
      Constant |      Freq.     Percent        Cum.
---------------+-----------------------------------
Current Prices |        630      100.00      100.00
---------------+-----------------------------------
         Total |        630      100.00

.                 lab var UPFretailval "Retail value of ultra-processed foods, US$ millions (current dollars)"

.                         * Note currency converted from local currency to US$ value using year on year exchange rates
.                 drop Category DataType Unit CurrencyConversion CurrentConstant

.                         
.                         // Merge in ISO and WB income and region classification
.                         replace country = "Democratic Republic of the Congo" if country == "Congo, Democratic Republic"
variable country was str29 now str32
(3 real changes made)

.                         replace country = "Iran (Islamic Republic of)" if country == "Iran"
(3 real changes made)

.                         replace country = "Congo" if country == "Congo-Brazzaville"
(3 real changes made)

.                         replace country = "Lao People's Democratic Republic" if country == "Laos"
(3 real changes made)

.                         replace country = "Republic of Moldova" if country == "Moldova"
(3 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "North Korea"
(3 real changes made)

.                         replace country = "Russian Federation" if country == "Russia"
(3 real changes made)

.                         replace country = "Sao Tome and Principe" if country == "Sao Tomé e Príncipe"
(3 real changes made)

.                         replace country = "Saint Kitts and Nevis" if country == "St Kitts and Nevis"
(3 real changes made)

.                         replace country = "Saint Lucia" if country == "St Lucia"
(3 real changes made)

.                         replace country = "Saint Vincent and the Grenadines" if country == "St Vincent and the Grenadines"
(3 real changes made)

.                         replace country = "Republic of Korea" if country == "South Korea"
(3 real changes made)

.                         replace country = "Syrian Arab Republic" if country == "Syria"
(3 real changes made)

.                         replace country = "United Republic of Tanzania" if country == "Tanzania"
(3 real changes made)

.                         replace country = "United States Virgin Islands" if country == "US Virgin Islands"
(3 real changes made)

.                         replace country = "United States of America" if country == "USA"
(3 real changes made)

.                         replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom"
variable country was str32 now str52
(3 real changes made)

.                         replace country = "Hong Kong" if country == "Hong Kong, China"
(3 real changes made)

.                         replace country = "Macau" if country == "Macau, China"
(3 real changes made)

.                         replace country = "Reunion" if country == "Réunion"
(3 real changes made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela"
(3 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(3 real changes made)

.                         replace country = "Türkiye" if country == "Turkey"
(3 real changes made)

.                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(3 real changes made)

.                         replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(3 real changes made)

.                         replace country = "Czechia" if country == "Czech Republic"
(3 real changes made)

.                         replace country = "Viet Nam" if country == "Vietnam"
(3 real changes made)

.                         replace country = "Curaçao" if country == "Curacao"
(3 real changes made)

.                         replace country = "Sint Maarten (Dutch part)" if country == "Sint Maarten"
(3 real changes made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            43
        from master                         3  (_merge==1)
        from using                         40  (_merge==2)

    Matched                               627  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(43 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            80
        from master                         0  (_merge==1)
        from using                         80  (_merge==2)

    Matched                               627  (_merge==3)
    -----------------------------------------

.                                 browse if _merge != 3

.                                         /* Drop territories not classified in GAUL                              
>                                                 Kosovo
>                                         */
.                                 drop if _merge !=3
(80 observations deleted)

.                                 drop _merge

.                                 sort ISO year

.                                 order ISO country year wb_region incgrp UPFretailval

. *Note: China value reflects mainland China only         
. 
.                 // Merge in population to calculate per capita metric
.                         merge 1:1 ISO country year using population
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        12,863
        from master                        18  (_merge==1)
        from using                     12,845  (_merge==2)

    Matched                               609  (_merge==3)
    -----------------------------------------

.                         drop if _merge!=3
(12,863 observations deleted)

.                         drop _merge

.                         
.                 // Generate per capita
.                         gen UPFretailval_percap = UPFretailval / totalpop
(3 missing values generated)

.                         
.                 // Change units from millions to dollars
.                         replace UPFretailval_percap = UPFretailval_percap * 1000000
(606 real changes made)

.                         lab var UPFretailval_percap "Retail value of ultra-processed foods per capita, US$ (current dollars)"

. 
.                 // Save
.                 save UPFretailval, replace
file UPFretailval.dta saved

.                 export delimited using UPFretailval, replace
file UPFretailval.csv saved

. 
. **# % population using safely managed drinking water services (SDG 6.1.1) (WHO/UNICEF Joint Monitoring Programme)
.                 import excel using "$datain\JMP_2021_WLD.xlsx", sheet("Water") cellrange(A3:AA4917) firstrow clear
(27 vars, 4,914 obs)

.                         ren A country

.                         ren ISO3 ISO

.                         ren C year

.                         drop D-T

.                         ren (Safelymanaged Accessibleonpremises Availablewhenneeded Freefromcontamination Piped Nonpiped) (safeh20 onpremise whenneeded uncont
> aminated piped nonpiped)

.                         lab var safeh20 "Proportion of population using safely managed drinking water source (SDG 6.1.1)"

.                         replace country = "Faroe Islands" if country == "Faeroe Islands"
(21 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(21 real changes made)

.                         replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom"
variable country was str37 now str52
(21 real changes made)

.                         replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(21 real changes made)

.                         replace country = "Macau" if country == "China, Macao SAR"
(21 real changes made)

.                         replace country = "Reunion" if country == "Réunion"
(21 real changes made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(21 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(21 real changes made)

.                         replace country = "Türkiye" if country == "Turkey"
(21 real changes made)

.                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(0 real changes made)

.                         replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(21 real changes made)

.                         replace country = "Czechia" if country == "Czech Republic"
(21 real changes made)

.                         replace country = "Viet Nam" if country == "Vietnam"
(0 real changes made)

.                         replace country = "Wallis and Futuna" if country == "Wallis and Futuna Islands"
(21 real changes made)

.                         replace country = "Saint Pierre et Miquelon" if country == "Saint Pierre and Miquelon"
(21 real changes made)

.                         replace country = "Palestine, State of" if country == "State of Palestine"
(21 real changes made)

.                         replace country = "Saint Martin (French Part)" if country == "Saint Martin (French part)"
(21 real changes made)

.                         replace country = "Bonaire, Sint Eustatius and Saba" if country == "Caribbean Netherlands"
(21 real changes made)

.                         replace country = "Saint Barthélemy" if country == "Saint Barthelemy"
(21 real changes made)

.                         merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            99
        from master                        42  (_merge==1)
        from using                         57  (_merge==2)

    Matched                             4,872  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3

.                                 drop if _merge != 3 
(99 observations deleted)

.                                 /* Territories with data that are dropped:
>                                                 Channel Islands
>                                 */
.                         drop _merge

.                         sort ISO year

.                         destring, replace
country: contains nonnumeric characters; no replace
ISO: contains nonnumeric characters; no replace
year already numeric; no replace
safeh20: contains nonnumeric characters; no replace
onpremise: contains nonnumeric characters; no replace
whenneeded: contains nonnumeric characters; no replace
uncontaminated: contains nonnumeric characters; no replace
Annualrateofchangeinsafely: contains nonnumeric characters; no replace
piped: contains nonnumeric characters; no replace
nonpiped: contains nonnumeric characters; no replace
incgrp: contains nonnumeric characters; no replace
wb_region already numeric; no replace
disp_area: contains nonnumeric characters; no replace
UN_status_detail already numeric; no replace
UNmemberstate already numeric; no replace
UN_status already numeric; no replace
territoryof: contains nonnumeric characters; no replace
ISO_governing: contains nonnumeric characters; no replace
UN_contregion_code: all characters numeric; replaced as int
(21 missing values generated)
UN_continental_region: contains nonnumeric characters; no replace
UN_subregion_code: all characters numeric; replaced as int
UN_subregion: contains nonnumeric characters; no replace
UN_intermedregion_code: all characters numeric; replaced as byte
(2772 missing values generated)
UN_intermediary_region: contains nonnumeric characters; no replace
m49_code: all characters numeric; replaced as int

.                         foreach v in safeh20 onpremise whenneeded uncontaminated Annualrateofchangeinsafely piped nonpiped {
  2.                                 replace `v'="" if `v'=="-"
  3.                                 replace `v'="0.1" if `v'=="<1"
  4.                                 replace `v'="99.9" if `v'==">99"
  5.                         }
(2,013 real changes made)
(0 real changes made)
(484 real changes made)
(202 real changes made)
(4 real changes made)
(842 real changes made)
(2,207 real changes made)
(0 real changes made)
(276 real changes made)
(2,013 real changes made)
(0 real changes made)
(599 real changes made)
(2,205 real changes made)
(0 real changes made)
(0 real changes made)
(324 real changes made)
(0 real changes made)
(846 real changes made)
(329 real changes made)
(1,081 real changes made)
(0 real changes made)

.                         destring, replace
country: contains nonnumeric characters; no replace
ISO: contains nonnumeric characters; no replace
year already numeric; no replace
safeh20: all characters numeric; replaced as double
(2013 missing values generated)
onpremise: all characters numeric; replaced as double
(202 missing values generated)
whenneeded: all characters numeric; replaced as double
(2207 missing values generated)
uncontaminated: all characters numeric; replaced as double
(2013 missing values generated)
Annualrateofchangeinsafely: all characters numeric; replaced as double
(2205 missing values generated)
piped: all characters numeric; replaced as double
(324 missing values generated)
nonpiped: all characters numeric; replaced as double
(329 missing values generated)
incgrp: contains nonnumeric characters; no replace
wb_region already numeric; no replace
disp_area: contains nonnumeric characters; no replace
UN_status_detail already numeric; no replace
UNmemberstate already numeric; no replace
UN_status already numeric; no replace
territoryof: contains nonnumeric characters; no replace
ISO_governing: contains nonnumeric characters; no replace
UN_contregion_code already numeric; no replace
UN_continental_region: contains nonnumeric characters; no replace
UN_subregion_code already numeric; no replace
UN_subregion: contains nonnumeric characters; no replace
UN_intermedregion_code already numeric; no replace
UN_intermediary_region: contains nonnumeric characters; no replace
m49_code already numeric; no replace

.                         drop onpremise whenneeded uncontaminated Annualrateofchangeinsafely piped nonpiped

. *Note: China value reflects mainland China only                 
. 
.                 // Save
.                 save safewater, replace
file safewater.dta saved

.                 export delimited using safewater, replace
file safewater.csv saved

. 
.                 
. ** FOOD SECURITY ***************************************************************
. 
. **# % population experiencing moderate or severe food insecurity (FAO)
.                 import delimited using "$datain\FAOSTAT_FoodInsecurity.csv", clear
(encoding automatically selected: UTF-8)
(15 vars, 3,672 obs)

.                         destring, replace
domaincode: contains nonnumeric characters; no replace
domain: contains nonnumeric characters; no replace
areacodem49 already numeric; no replace
area: contains nonnumeric characters; no replace
elementcode already numeric; no replace
element: contains nonnumeric characters; no replace
itemcode: contains nonnumeric characters; no replace
item: contains nonnumeric characters; no replace
yearcode already numeric; no replace
year: contains nonnumeric characters; no replace
unit: contains nonnumeric characters; no replace
value already numeric; no replace
flag: contains nonnumeric characters; no replace
flagdescription: contains nonnumeric characters; no replace
note: contains nonnumeric characters; no replace

.                         drop if value==. // most observations are rows with no data - see original excel, these are not meaningful missing values
(1,618 observations deleted)

.                         ren area country

.                         tab year

       Year |      Freq.     Percent        Cum.
------------+-----------------------------------
  2014-2016 |        307       14.95       14.95
  2015-2017 |        307       14.95       29.89
  2016-2018 |        332       16.16       46.06
  2017-2019 |        349       16.99       63.05
  2018-2020 |        365       17.77       80.82
  2019-2021 |        394       19.18      100.00
------------+-----------------------------------
      Total |      2,054      100.00

.                         ren year fies_yearrange

.                         lab var fies_yearrange "FIES 3-year period"

.                         encode fies_yearrange, gen(year)

.                         tab year

FIES 3-year |
     period |      Freq.     Percent        Cum.
------------+-----------------------------------
  2014-2016 |        307       14.95       14.95
  2015-2017 |        307       14.95       29.89
  2016-2018 |        332       16.16       46.06
  2017-2019 |        349       16.99       63.05
  2018-2020 |        365       17.77       80.82
  2019-2021 |        394       19.18      100.00
------------+-----------------------------------
      Total |      2,054      100.00

.                         tab year, nolabel

FIES 3-year |
     period |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        307       14.95       14.95
          2 |        307       14.95       29.89
          3 |        332       16.16       46.06
          4 |        349       16.99       63.05
          5 |        365       17.77       80.82
          6 |        394       19.18      100.00
------------+-----------------------------------
      Total |      2,054      100.00

.                         recode year (1=2015) (2=2016) (3=2017) (4=2018) (5=2019) (6=2020) // when merging with other datasets, observation identified by the m
> iddle year of the 3-year average (e.g., 2015 takes the value of the 2014-2016 average, 2016 takes the value of the 2015-2017 average)
(2054 changes made to year)

.                         drop domaincode domain areacodem49 elementcode element itemcode item yearcode flag flagdescription note

.                         ren value fies_modsev

.                         lab var fies_modsev "Prevalence of experiencing moderate or severe food insecurity (FIES-based; % population)"
note: label truncated to 80 characters

.                                 
.                         // Merge in ISO codes
.                         replace country="Côte D'Ivoire" if country=="Côte d'Ivoire"
(6 real changes made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(0 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(15 real changes made)

.                         replace country = "China" if country == "China, mainland"
(0 real changes made)

.                         replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(0 real changes made)

.                         replace country = "Taiwan" if country == "China, Taiwan Province of"
(0 real changes made)

.                         replace country = "Macau" if country == "China, Macao SAR"
(0 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(0 real changes made)

.                         replace country = "Palestine, State of" if country == "Palestine"
(4 real changes made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           100
        from master                         0  (_merge==1)
        from using                        100  (_merge==2)

    Matched                             2,054  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(100 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           140
        from master                         0  (_merge==1)
        from using                        140  (_merge==2)

    Matched                             2,054  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                         drop if _merge != 3 
(140 observations deleted)

.                         drop _merge

.                         order ISO country year fies_yearrange fies_modsev wb_region incgrp

. *Note: no China data            
.                 // Save 
.                         save FIES_modsev, replace 
file FIES_modsev.dta saved

.                         export delimited using FIES_modsev, replace
file FIES_modsev.csv saved

. 
. **# % population who cannot afford a healthy diet (at 52% of income) (FAO/ Food Prices for Nutrition)
. **# Number of people who cannot afford a healthy diet 9at 52% of income), millions (FAO/World Bank/Food Prices for Nutrition)
.                 use costofdiet, clear

. 
. **# PoU: Prevalence of Undernourishment (FAO)
.                 import delimited using "$datain\FAOSTAT_POUndernourishment.csv", clear
(encoding automatically selected: UTF-8)
(15 vars, 4,102 obs)

.                         ren area country

.                         tab year

       Year |      Freq.     Percent        Cum.
------------+-----------------------------------
       2000 |          1        0.02        0.02
  2000-2002 |        204        4.97        5.00
       2001 |          1        0.02        5.02
  2001-2003 |        204        4.97       10.00
       2002 |          1        0.02       10.02
  2002-2004 |        204        4.97       14.99
       2003 |          1        0.02       15.02
  2003-2005 |        204        4.97       19.99
       2004 |          1        0.02       20.01
  2004-2006 |        204        4.97       24.99
       2005 |          1        0.02       25.01
  2005-2007 |        204        4.97       29.99
       2006 |          1        0.02       30.01
  2006-2008 |        204        4.97       34.98
       2007 |          1        0.02       35.01
  2007-2009 |        204        4.97       39.98
       2008 |          1        0.02       40.00
  2008-2010 |        204        4.97       44.98
       2009 |          1        0.02       45.00
  2009-2011 |        204        4.97       49.98
       2010 |          1        0.02       50.00
  2010-2012 |        204        4.97       54.97
       2011 |          1        0.02       55.00
  2011-2013 |        204        4.97       59.97
       2012 |          1        0.02       60.00
  2012-2014 |        204        4.97       64.97
       2013 |          1        0.02       64.99
  2013-2015 |        204        4.97       69.97
       2014 |          1        0.02       69.99
  2014-2016 |        204        4.97       74.96
       2015 |          1        0.02       74.99
  2015-2017 |        204        4.97       79.96
       2016 |          1        0.02       79.99
  2016-2018 |        204        4.97       84.96
       2017 |          1        0.02       84.98
  2017-2019 |        204        4.97       89.96
       2018 |          1        0.02       89.98
  2018-2020 |        204        4.97       94.95
       2019 |          1        0.02       94.98
  2019-2021 |        204        4.97       99.95
       2020 |          1        0.02       99.98
       2021 |          1        0.02      100.00
------------+-----------------------------------
      Total |      4,102      100.00

.                         drop if value == "" // eliminates the single year observations - have no data for the indicator
(762 observations deleted)

.                         tab year

       Year |      Freq.     Percent        Cum.
------------+-----------------------------------
  2000-2002 |        167        5.00        5.00
  2001-2003 |        167        5.00       10.00
  2002-2004 |        167        5.00       15.00
  2003-2005 |        167        5.00       20.00
  2004-2006 |        167        5.00       25.00
  2005-2007 |        167        5.00       30.00
  2006-2008 |        167        5.00       35.00
  2007-2009 |        167        5.00       40.00
  2008-2010 |        167        5.00       45.00
  2009-2011 |        167        5.00       50.00
  2010-2012 |        167        5.00       55.00
  2011-2013 |        167        5.00       60.00
  2012-2014 |        167        5.00       65.00
  2013-2015 |        167        5.00       70.00
  2014-2016 |        167        5.00       75.00
  2015-2017 |        167        5.00       80.00
  2016-2018 |        167        5.00       85.00
  2017-2019 |        167        5.00       90.00
  2018-2020 |        167        5.00       95.00
  2019-2021 |        167        5.00      100.00
------------+-----------------------------------
      Total |      3,340      100.00

.                         ren year pou_yearrange

.                         lab var pou_yearrange "POU 3-year period"

.                         encode pou_yearrange, gen(year)

.                         tab year

 POU 3-year |
     period |      Freq.     Percent        Cum.
------------+-----------------------------------
  2000-2002 |        167        5.00        5.00
  2001-2003 |        167        5.00       10.00
  2002-2004 |        167        5.00       15.00
  2003-2005 |        167        5.00       20.00
  2004-2006 |        167        5.00       25.00
  2005-2007 |        167        5.00       30.00
  2006-2008 |        167        5.00       35.00
  2007-2009 |        167        5.00       40.00
  2008-2010 |        167        5.00       45.00
  2009-2011 |        167        5.00       50.00
  2010-2012 |        167        5.00       55.00
  2011-2013 |        167        5.00       60.00
  2012-2014 |        167        5.00       65.00
  2013-2015 |        167        5.00       70.00
  2014-2016 |        167        5.00       75.00
  2015-2017 |        167        5.00       80.00
  2016-2018 |        167        5.00       85.00
  2017-2019 |        167        5.00       90.00
  2018-2020 |        167        5.00       95.00
  2019-2021 |        167        5.00      100.00
------------+-----------------------------------
      Total |      3,340      100.00

.                         tab year, nolabel

 POU 3-year |
     period |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        167        5.00        5.00
          2 |        167        5.00       10.00
          3 |        167        5.00       15.00
          4 |        167        5.00       20.00
          5 |        167        5.00       25.00
          6 |        167        5.00       30.00
          7 |        167        5.00       35.00
          8 |        167        5.00       40.00
          9 |        167        5.00       45.00
         10 |        167        5.00       50.00
         11 |        167        5.00       55.00
         12 |        167        5.00       60.00
         13 |        167        5.00       65.00
         14 |        167        5.00       70.00
         15 |        167        5.00       75.00
         16 |        167        5.00       80.00
         17 |        167        5.00       85.00
         18 |        167        5.00       90.00
         19 |        167        5.00       95.00
         20 |        167        5.00      100.00
------------+-----------------------------------
      Total |      3,340      100.00

.                         forval i=1/20 { 
  2.                                         local n=2000+(`i')
  3.                                         recode year (`i'=`n')
  4.                                 }
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)
(167 changes made to year)

.                         tab year

 POU 3-year |
     period |      Freq.     Percent        Cum.
------------+-----------------------------------
       2001 |        167        5.00        5.00
       2002 |        167        5.00       10.00
       2003 |        167        5.00       15.00
       2004 |        167        5.00       20.00
       2005 |        167        5.00       25.00
       2006 |        167        5.00       30.00
       2007 |        167        5.00       35.00
       2008 |        167        5.00       40.00
       2009 |        167        5.00       45.00
       2010 |        167        5.00       50.00
       2011 |        167        5.00       55.00
       2012 |        167        5.00       60.00
       2013 |        167        5.00       65.00
       2014 |        167        5.00       70.00
       2015 |        167        5.00       75.00
       2016 |        167        5.00       80.00
       2017 |        167        5.00       85.00
       2018 |        167        5.00       90.00
       2019 |        167        5.00       95.00
       2020 |        167        5.00      100.00
------------+-----------------------------------
      Total |      3,340      100.00

.                         tab year, nolabel

 POU 3-year |
     period |      Freq.     Percent        Cum.
------------+-----------------------------------
       2001 |        167        5.00        5.00
       2002 |        167        5.00       10.00
       2003 |        167        5.00       15.00
       2004 |        167        5.00       20.00
       2005 |        167        5.00       25.00
       2006 |        167        5.00       30.00
       2007 |        167        5.00       35.00
       2008 |        167        5.00       40.00
       2009 |        167        5.00       45.00
       2010 |        167        5.00       50.00
       2011 |        167        5.00       55.00
       2012 |        167        5.00       60.00
       2013 |        167        5.00       65.00
       2014 |        167        5.00       70.00
       2015 |        167        5.00       75.00
       2016 |        167        5.00       80.00
       2017 |        167        5.00       85.00
       2018 |        167        5.00       90.00
       2019 |        167        5.00       95.00
       2020 |        167        5.00      100.00
------------+-----------------------------------
      Total |      3,340      100.00

.                                 * when merging with other datasets, observation identified by the middle year of the 3-year average (e.g., 2015 takes the valu
> e of the 2014-2016 average, 2016 takes the value of the 2015-2017 average)
.                         drop domaincode domain areacodem49 elementcode element itemcode item yearcode flag flagdescription note

.                         ren value pou

.                         lab var pou "Prevalence of undernourishment (% population)"

.                         drop if country == "China" // Drop aggregated China to avoid double counting
(20 observations deleted)

.                                 
.                                 // Merge in ISO codes
.                                         replace country="Côte D'Ivoire" if country=="Côte d'Ivoire"
(20 real changes made)

.                                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(20 real changes made)

.                                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(20 real changes made)

.                                         replace country = "China" if country == "China, mainland"
(20 real changes made)

.                                         replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(20 real changes made)

.                                         replace country = "Taiwan" if country == "China, Taiwan Province of"
(20 real changes made)

.                                         replace country = "Macau" if country == "China, Macao SAR"
(20 real changes made)

.                                         replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(20 real changes made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            83
        from master                         0  (_merge==1)
        from using                         83  (_merge==2)

    Matched                             3,320  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(83 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           123
        from master                         0  (_merge==1)
        from using                        123  (_merge==2)

    Matched                             3,320  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                                         drop if _merge != 3 
(123 observations deleted)

.                                         drop _merge

.                                         // Convert POU to numeric 
.                                         tab pou

 Prevalence |
         of |
undernouris |
   hment (% |
population) |      Freq.     Percent        Cum.
------------+-----------------------------------
         10 |          6        0.18        0.18
       10.1 |          6        0.18        0.36
       10.2 |          5        0.15        0.51
       10.3 |          3        0.09        0.60
       10.4 |          4        0.12        0.72
       10.5 |          7        0.21        0.93
       10.6 |          6        0.18        1.11
       10.7 |         11        0.33        1.45
       10.8 |          2        0.06        1.51
       10.9 |          8        0.24        1.75
         11 |          9        0.27        2.02
       11.1 |          7        0.21        2.23
       11.2 |         10        0.30        2.53
       11.3 |          7        0.21        2.74
       11.4 |          5        0.15        2.89
       11.5 |          6        0.18        3.07
       11.6 |          6        0.18        3.25
       11.7 |          4        0.12        3.37
       11.8 |          9        0.27        3.64
       11.9 |          8        0.24        3.89
         12 |          5        0.15        4.04
       12.1 |          7        0.21        4.25
       12.2 |          4        0.12        4.37
       12.3 |          9        0.27        4.64
       12.4 |          9        0.27        4.91
       12.5 |          5        0.15        5.06
       12.6 |          7        0.21        5.27
       12.7 |          4        0.12        5.39
       12.8 |         11        0.33        5.72
       12.9 |          8        0.24        5.96
         13 |          9        0.27        6.23
       13.1 |          9        0.27        6.51
       13.2 |          7        0.21        6.72
       13.3 |         10        0.30        7.02
       13.4 |          6        0.18        7.20
       13.5 |          7        0.21        7.41
       13.6 |          4        0.12        7.53
       13.7 |          8        0.24        7.77
       13.8 |          3        0.09        7.86
       13.9 |          7        0.21        8.07
         14 |          3        0.09        8.16
       14.1 |         11        0.33        8.49
       14.2 |          6        0.18        8.67
       14.3 |          5        0.15        8.83
       14.4 |          5        0.15        8.98
       14.5 |          8        0.24        9.22
       14.6 |          4        0.12        9.34
       14.7 |          5        0.15        9.49
       14.8 |          8        0.24        9.73
       14.9 |          7        0.21        9.94
         15 |          6        0.18       10.12
       15.1 |          8        0.24       10.36
       15.2 |          5        0.15       10.51
       15.3 |          4        0.12       10.63
       15.4 |          9        0.27       10.90
       15.5 |          4        0.12       11.02
       15.6 |          4        0.12       11.14
       15.7 |          7        0.21       11.36
       15.8 |          7        0.21       11.57
       15.9 |          9        0.27       11.84
         16 |          8        0.24       12.08
       16.1 |          3        0.09       12.17
       16.2 |          8        0.24       12.41
       16.3 |         11        0.33       12.74
       16.4 |          9        0.27       13.01
       16.5 |          6        0.18       13.19
       16.6 |          7        0.21       13.40
       16.7 |          3        0.09       13.49
       16.8 |          9        0.27       13.77
       16.9 |          2        0.06       13.83
         17 |          8        0.24       14.07
       17.1 |          3        0.09       14.16
       17.2 |          3        0.09       14.25
       17.3 |          5        0.15       14.40
       17.4 |          3        0.09       14.49
       17.5 |          4        0.12       14.61
       17.6 |         10        0.30       14.91
       17.7 |          6        0.18       15.09
       17.8 |          7        0.21       15.30
       17.9 |          5        0.15       15.45
         18 |          8        0.24       15.69
       18.1 |          5        0.15       15.84
       18.2 |          5        0.15       15.99
       18.3 |          4        0.12       16.11
       18.4 |          6        0.18       16.30
       18.5 |          6        0.18       16.48
       18.6 |          2        0.06       16.54
       18.7 |          5        0.15       16.69
       18.8 |          3        0.09       16.78
       18.9 |          5        0.15       16.93
         19 |          7        0.21       17.14
       19.1 |          5        0.15       17.29
       19.2 |          5        0.15       17.44
       19.3 |          8        0.24       17.68
       19.4 |          7        0.21       17.89
       19.5 |          1        0.03       17.92
       19.6 |          7        0.21       18.13
       19.7 |          4        0.12       18.25
       19.8 |          5        0.15       18.40
       19.9 |          4        0.12       18.52
        2.5 |          6        0.18       18.70
        2.6 |         18        0.54       19.25
        2.7 |          9        0.27       19.52
        2.8 |         19        0.57       20.09
        2.9 |          7        0.21       20.30
         20 |          6        0.18       20.48
       20.1 |          5        0.15       20.63
       20.2 |          6        0.18       20.81
       20.3 |          3        0.09       20.90
       20.4 |          4        0.12       21.02
       20.5 |          5        0.15       21.17
       20.6 |          5        0.15       21.33
       20.7 |          7        0.21       21.54
       20.8 |          5        0.15       21.69
       20.9 |          1        0.03       21.72
         21 |          9        0.27       21.99
       21.1 |          3        0.09       22.08
       21.2 |          8        0.24       22.32
       21.3 |          4        0.12       22.44
       21.4 |          4        0.12       22.56
       21.5 |          9        0.27       22.83
       21.6 |          5        0.15       22.98
       21.7 |          4        0.12       23.10
       21.8 |          2        0.06       23.16
       21.9 |          6        0.18       23.34
         22 |          1        0.03       23.37
       22.1 |          4        0.12       23.49
       22.2 |          8        0.24       23.73
       22.3 |          5        0.15       23.89
       22.4 |          3        0.09       23.98
       22.5 |          3        0.09       24.07
       22.6 |          5        0.15       24.22
       22.7 |          6        0.18       24.40
       22.8 |          1        0.03       24.43
       22.9 |          5        0.15       24.58
         23 |          6        0.18       24.76
       23.1 |          4        0.12       24.88
       23.2 |          2        0.06       24.94
       23.3 |          5        0.15       25.09
       23.4 |          3        0.09       25.18
       23.5 |          3        0.09       25.27
       23.6 |          4        0.12       25.39
       23.7 |          2        0.06       25.45
       23.8 |          1        0.03       25.48
       23.9 |          2        0.06       25.54
         24 |          4        0.12       25.66
       24.1 |          3        0.09       25.75
       24.2 |          3        0.09       25.84
       24.3 |          1        0.03       25.87
       24.4 |          1        0.03       25.90
       24.5 |          5        0.15       26.05
       24.6 |          4        0.12       26.17
       24.7 |          4        0.12       26.30
       24.9 |          2        0.06       26.36
         25 |          4        0.12       26.48
       25.1 |          4        0.12       26.60
       25.2 |          3        0.09       26.69
       25.3 |          3        0.09       26.78
       25.4 |          2        0.06       26.84
       25.5 |          3        0.09       26.93
       25.6 |          3        0.09       27.02
       25.7 |          1        0.03       27.05
       25.8 |          1        0.03       27.08
       25.9 |          3        0.09       27.17
         26 |          3        0.09       27.26
       26.1 |          4        0.12       27.38
       26.2 |          3        0.09       27.47
       26.3 |          1        0.03       27.50
       26.4 |          3        0.09       27.59
       26.5 |          2        0.06       27.65
       26.6 |          4        0.12       27.77
       26.7 |          4        0.12       27.89
       26.8 |          1        0.03       27.92
       26.9 |          6        0.18       28.10
         27 |          4        0.12       28.22
       27.1 |          2        0.06       28.28
       27.2 |          2        0.06       28.34
       27.3 |          3        0.09       28.43
       27.4 |          4        0.12       28.55
       27.5 |          1        0.03       28.58
       27.6 |          2        0.06       28.64
       27.7 |          5        0.15       28.80
       27.8 |          2        0.06       28.86
       27.9 |          2        0.06       28.92
         28 |          2        0.06       28.98
       28.2 |          2        0.06       29.04
       28.3 |          3        0.09       29.13
       28.4 |          1        0.03       29.16
       28.5 |          3        0.09       29.25
       28.6 |          1        0.03       29.28
       28.7 |          3        0.09       29.37
       28.8 |          1        0.03       29.40
       28.9 |          1        0.03       29.43
       29.1 |          3        0.09       29.52
       29.3 |          2        0.06       29.58
       29.4 |          1        0.03       29.61
       29.5 |          4        0.12       29.73
       29.6 |          2        0.06       29.79
       29.7 |          1        0.03       29.82
       29.8 |          3        0.09       29.91
       29.9 |          2        0.06       29.97
          3 |         14        0.42       30.39
        3.1 |         21        0.63       31.02
        3.2 |         20        0.60       31.63
        3.3 |         18        0.54       32.17
        3.4 |         25        0.75       32.92
        3.5 |         21        0.63       33.55
        3.6 |         24        0.72       34.28
        3.7 |         33        0.99       35.27
        3.8 |         23        0.69       35.96
        3.9 |         20        0.60       36.57
       30.2 |          1        0.03       36.60
       30.3 |          4        0.12       36.72
       30.4 |          1        0.03       36.75
       30.5 |          1        0.03       36.78
       30.6 |          1        0.03       36.81
       30.7 |          2        0.06       36.87
       30.8 |          1        0.03       36.90
       30.9 |          2        0.06       36.96
         31 |          1        0.03       36.99
       31.1 |          2        0.06       37.05
       31.2 |          3        0.09       37.14
       31.3 |          2        0.06       37.20
       31.4 |          2        0.06       37.26
       31.6 |          2        0.06       37.32
       31.7 |          5        0.15       37.47
       31.8 |          1        0.03       37.50
       31.9 |          2        0.06       37.56
         32 |          1        0.03       37.59
       32.1 |          1        0.03       37.62
       32.2 |          3        0.09       37.71
       32.3 |          2        0.06       37.77
       32.4 |          2        0.06       37.83
       32.5 |          2        0.06       37.89
       32.6 |          3        0.09       37.98
       32.7 |          1        0.03       38.01
       32.9 |          2        0.06       38.07
         33 |          3        0.09       38.16
       33.1 |          4        0.12       38.28
       33.3 |          4        0.12       38.40
       33.4 |          1        0.03       38.43
       33.5 |          1        0.03       38.46
       33.6 |          1        0.03       38.49
       33.7 |          2        0.06       38.55
       33.8 |          2        0.06       38.61
         34 |          2        0.06       38.67
       34.1 |          1        0.03       38.70
       34.2 |          1        0.03       38.73
       34.3 |          3        0.09       38.83
       34.4 |          1        0.03       38.86
       34.5 |          7        0.21       39.07
       34.6 |          3        0.09       39.16
       34.7 |          5        0.15       39.31
       34.8 |          3        0.09       39.40
       34.9 |          3        0.09       39.49
         35 |          2        0.06       39.55
       35.1 |          4        0.12       39.67
       35.2 |          3        0.09       39.76
       35.3 |          4        0.12       39.88
       35.4 |          1        0.03       39.91
       35.5 |          2        0.06       39.97
       35.6 |          1        0.03       40.00
       35.7 |          5        0.15       40.15
       35.8 |          2        0.06       40.21
       35.9 |          2        0.06       40.27
         36 |          2        0.06       40.33
       36.1 |          3        0.09       40.42
       36.2 |          2        0.06       40.48
       36.3 |          2        0.06       40.54
       36.4 |          2        0.06       40.60
       36.5 |          4        0.12       40.72
       36.6 |          3        0.09       40.81
       36.8 |          2        0.06       40.87
       37.1 |          2        0.06       40.93
       37.5 |          1        0.03       40.96
       37.6 |          4        0.12       41.08
       37.7 |          3        0.09       41.17
       37.8 |          1        0.03       41.20
         38 |          2        0.06       41.27
       38.1 |          2        0.06       41.33
       38.2 |          3        0.09       41.42
       38.3 |          1        0.03       41.45
       38.4 |          1        0.03       41.48
       38.5 |          1        0.03       41.51
       38.6 |          2        0.06       41.57
       38.7 |          1        0.03       41.60
       38.8 |          1        0.03       41.63
         39 |          1        0.03       41.66
       39.1 |          1        0.03       41.69
       39.2 |          3        0.09       41.78
       39.6 |          4        0.12       41.90
       39.7 |          1        0.03       41.93
       39.8 |          1        0.03       41.96
          4 |         21        0.63       42.59
        4.1 |         23        0.69       43.28
        4.2 |         17        0.51       43.80
        4.3 |         20        0.60       44.40
        4.4 |         23        0.69       45.09
        4.5 |         17        0.51       45.60
        4.6 |         15        0.45       46.05
        4.7 |         17        0.51       46.57
        4.8 |         13        0.39       46.96
        4.9 |         19        0.57       47.53
       40.1 |          2        0.06       47.59
       40.2 |          2        0.06       47.65
       40.3 |          2        0.06       47.71
       40.5 |          1        0.03       47.74
       40.6 |          2        0.06       47.80
       40.7 |          1        0.03       47.83
       40.8 |          1        0.03       47.86
       40.9 |          1        0.03       47.89
       41.2 |          1        0.03       47.92
       41.4 |          1        0.03       47.95
       41.5 |          1        0.03       47.98
       41.6 |          2        0.06       48.04
       41.7 |          2        0.06       48.10
         42 |          2        0.06       48.16
       42.3 |          1        0.03       48.19
       42.4 |          1        0.03       48.22
       42.6 |          4        0.12       48.34
       42.8 |          1        0.03       48.37
       42.9 |          2        0.06       48.43
         43 |          1        0.03       48.46
       43.2 |          1        0.03       48.49
       43.4 |          1        0.03       48.52
       43.5 |          1        0.03       48.55
       43.7 |          2        0.06       48.61
         44 |          1        0.03       48.64
       44.2 |          1        0.03       48.67
       44.3 |          1        0.03       48.70
       44.4 |          1        0.03       48.73
       44.6 |          1        0.03       48.77
       44.7 |          2        0.06       48.83
       45.4 |          1        0.03       48.86
       45.6 |          1        0.03       48.89
       45.8 |          1        0.03       48.92
       46.1 |          3        0.09       49.01
       46.4 |          1        0.03       49.04
       46.6 |          1        0.03       49.07
       46.7 |          2        0.06       49.13
       46.8 |          1        0.03       49.16
         47 |          1        0.03       49.19
       47.2 |          1        0.03       49.22
       47.4 |          1        0.03       49.25
       47.8 |          1        0.03       49.28
       47.9 |          1        0.03       49.31
       48.5 |          1        0.03       49.34
       48.6 |          2        0.06       49.40
       48.8 |          1        0.03       49.43
       49.2 |          1        0.03       49.46
       49.3 |          1        0.03       49.49
       49.4 |          1        0.03       49.52
       49.8 |          1        0.03       49.55
       49.9 |          1        0.03       49.58
          5 |         24        0.72       50.30
        5.1 |         16        0.48       50.78
        5.2 |         18        0.54       51.33
        5.3 |         10        0.30       51.63
        5.4 |         23        0.69       52.32
        5.5 |         23        0.69       53.01
        5.6 |         21        0.63       53.64
        5.7 |         15        0.45       54.10
        5.8 |         17        0.51       54.61
        5.9 |         15        0.45       55.06
       50.1 |          1        0.03       55.09
       50.7 |          2        0.06       55.15
       50.8 |          1        0.03       55.18
       51.3 |          1        0.03       55.21
       51.5 |          1        0.03       55.24
       51.6 |          1        0.03       55.27
       51.7 |          1        0.03       55.30
       51.9 |          1        0.03       55.33
       52.2 |          2        0.06       55.39
       52.5 |          1        0.03       55.42
       52.6 |          1        0.03       55.45
       52.9 |          1        0.03       55.48
         53 |          1        0.03       55.51
       53.7 |          1        0.03       55.54
       54.1 |          1        0.03       55.57
       54.6 |          1        0.03       55.60
       55.1 |          1        0.03       55.63
       55.5 |          1        0.03       55.66
       58.7 |          1        0.03       55.69
          6 |         19        0.57       56.27
        6.1 |         22        0.66       56.93
        6.2 |         21        0.63       57.56
        6.3 |         16        0.48       58.04
        6.4 |         15        0.45       58.49
        6.5 |         15        0.45       58.95
        6.6 |         17        0.51       59.46
        6.7 |         16        0.48       59.94
        6.8 |         20        0.60       60.54
        6.9 |         16        0.48       61.02
       63.2 |          1        0.03       61.05
       67.5 |          1        0.03       61.08
          7 |         10        0.30       61.39
        7.1 |         18        0.54       61.93
        7.2 |         12        0.36       62.29
        7.3 |         11        0.33       62.62
        7.4 |         20        0.60       63.22
        7.5 |         15        0.45       63.67
        7.6 |         10        0.30       63.98
        7.7 |         17        0.51       64.49
        7.8 |         16        0.48       64.97
        7.9 |         14        0.42       65.39
          8 |         11        0.33       65.72
        8.1 |         12        0.36       66.08
        8.2 |         15        0.45       66.54
        8.3 |         16        0.48       67.02
        8.4 |         14        0.42       67.44
        8.5 |          7        0.21       67.65
        8.6 |          9        0.27       67.92
        8.7 |         10        0.30       68.22
        8.8 |         21        0.63       68.86
        8.9 |          6        0.18       69.04
          9 |          9        0.27       69.31
        9.1 |         10        0.30       69.61
        9.2 |         11        0.33       69.94
        9.3 |          6        0.18       70.12
        9.4 |          9        0.27       70.39
        9.5 |          7        0.21       70.60
        9.6 |         10        0.30       70.90
        9.7 |         15        0.45       71.36
        9.8 |          9        0.27       71.63
        9.9 |          9        0.27       71.90
       <2.5 |        933       28.10      100.00
------------+-----------------------------------
      Total |      3,320      100.00

.                                         tab country if pou=="<2.5"

                                   Area |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                                Algeria |          3        0.32        0.32
                              Argentina |          2        0.21        0.54
                              Australia |         20        2.14        2.68
                                Austria |         20        2.14        4.82
                             Azerbaijan |         14        1.50        6.32
                                Belarus |         17        1.82        8.15
                                Belgium |         20        2.14       10.29
                 Bosnia and Herzegovina |         17        1.82       12.11
                                 Brazil |          4        0.43       12.54
                                 Canada |         20        2.14       14.68
                                  China |         11        1.18       15.86
                                Croatia |         16        1.71       17.58
                                   Cuba |         20        2.14       19.72
                                 Cyprus |         10        1.07       20.79
                                Czechia |         20        2.14       22.94
                                Denmark |         20        2.14       25.08
                                Estonia |         16        1.71       26.80
                                Finland |         20        2.14       28.94
                                 France |         20        2.14       31.08
                                Germany |         20        2.14       33.23
                                 Greece |         20        2.14       35.37
                              Hong Kong |         20        2.14       37.51
                                Hungary |         20        2.14       39.66
                                Iceland |         20        2.14       41.80
                                Ireland |         20        2.14       43.94
                                 Israel |         20        2.14       46.09
                                  Italy |         20        2.14       48.23
                                  Japan |         16        1.71       49.95
                             Kazakhstan |          9        0.96       50.91
                                 Kuwait |         18        1.93       52.84
                                 Latvia |         17        1.82       54.66
                              Lithuania |         20        2.14       56.81
                             Luxembourg |         20        2.14       58.95
                               Malaysia |          1        0.11       59.06
                                  Malta |         20        2.14       61.20
                             Montenegro |         14        1.50       62.70
                                Myanmar |          1        0.11       62.81
                            Netherlands |         20        2.14       64.95
                            New Zealand |         20        2.14       67.10
                                 Norway |         20        2.14       69.24
                                 Poland |         20        2.14       71.38
                               Portugal |         20        2.14       73.53
                      Republic of Korea |         17        1.82       75.35
                                Romania |         20        2.14       77.49
                     Russian Federation |         17        1.82       79.31
                                 Serbia |          7        0.75       80.06
                               Slovenia |         20        2.14       82.21
                                  Spain |         20        2.14       84.35
                                 Sweden |         20        2.14       86.50
                            Switzerland |         20        2.14       88.64
                                Tunisia |          3        0.32       88.96
                                Türkiye |         20        2.14       91.10
                                Ukraine |         17        1.82       92.93
United Kingdom of Great Britain and N.. |         20        2.14       95.07
               United States of America |         20        2.14       97.21
                                Uruguay |         12        1.29       98.50
                             Uzbekistan |         10        1.07       99.57
      Venezuela, Bolivarian Republic of |          4        0.43      100.00
----------------------------------------+-----------------------------------
                                  Total |        933      100.00

.                                         ren pou pou_string

.                                         gen pou=pou_string

.                                         replace pou="2.5" if pou=="<2.5" // NOTE: Observations of less than 2.5 have been recoded as 2.5 to allow for quantita
> tive analysis, however the value name should be corrected in all visualizations
(933 real changes made)

.                                         destring pou, replace
pou: all characters numeric; replaced as double

.                                         lab var pou "Prevalence of undernourishment (% population)"

.                                         drop unit 

.                                         sort ISO year

.                                         tab country

                                   Area |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                            Afghanistan |         20        0.60        0.60
                                Albania |         20        0.60        1.20
                                Algeria |         20        0.60        1.81
                                 Angola |         20        0.60        2.41
                              Argentina |         20        0.60        3.01
                                Armenia |         20        0.60        3.61
                              Australia |         20        0.60        4.22
                                Austria |         20        0.60        4.82
                             Azerbaijan |         20        0.60        5.42
                             Bangladesh |         20        0.60        6.02
                               Barbados |         20        0.60        6.63
                                Belarus |         20        0.60        7.23
                                Belgium |         20        0.60        7.83
                                 Belize |         20        0.60        8.43
                                  Benin |         20        0.60        9.04
       Bolivia (Plurinational State of) |         20        0.60        9.64
                 Bosnia and Herzegovina |         20        0.60       10.24
                               Botswana |         20        0.60       10.84
                                 Brazil |         20        0.60       11.45
                      Brunei Darussalam |         20        0.60       12.05
                               Bulgaria |         20        0.60       12.65
                           Burkina Faso |         20        0.60       13.25
                             Cabo Verde |         20        0.60       13.86
                               Cambodia |         20        0.60       14.46
                               Cameroon |         20        0.60       15.06
                                 Canada |         20        0.60       15.66
               Central African Republic |         20        0.60       16.27
                                   Chad |         20        0.60       16.87
                                  Chile |         20        0.60       17.47
                                  China |         20        0.60       18.07
                               Colombia |         20        0.60       18.67
                                Comoros |         20        0.60       19.28
                                  Congo |         20        0.60       19.88
                             Costa Rica |         20        0.60       20.48
                                Croatia |         20        0.60       21.08
                                   Cuba |         20        0.60       21.69
                                 Cyprus |         20        0.60       22.29
                                Czechia |         20        0.60       22.89
                          Côte D'Ivoire |         20        0.60       23.49
              Dem People's Rep of Korea |         20        0.60       24.10
       Democratic Republic of the Congo |         20        0.60       24.70
                                Denmark |         20        0.60       25.30
                               Djibouti |         20        0.60       25.90
                               Dominica |         20        0.60       26.51
                     Dominican Republic |         20        0.60       27.11
                                Ecuador |         20        0.60       27.71
                                  Egypt |         20        0.60       28.31
                            El Salvador |         20        0.60       28.92
                                Estonia |         20        0.60       29.52
                               Eswatini |         20        0.60       30.12
                               Ethiopia |         20        0.60       30.72
                                   Fiji |         20        0.60       31.33
                                Finland |         20        0.60       31.93
                                 France |         20        0.60       32.53
                       French Polynesia |         20        0.60       33.13
                                  Gabon |         20        0.60       33.73
               Gambia (Republic of The) |         20        0.60       34.34
                                Georgia |         20        0.60       34.94
                                Germany |         20        0.60       35.54
                                  Ghana |         20        0.60       36.14
                                 Greece |         20        0.60       36.75
                              Guatemala |         20        0.60       37.35
                          Guinea-Bissau |         20        0.60       37.95
                                 Guyana |         20        0.60       38.55
                                  Haiti |         20        0.60       39.16
                               Honduras |         20        0.60       39.76
                              Hong Kong |         20        0.60       40.36
                                Hungary |         20        0.60       40.96
                                Iceland |         20        0.60       41.57
                                  India |         20        0.60       42.17
                              Indonesia |         20        0.60       42.77
             Iran (Islamic Republic of) |         20        0.60       43.37
                                   Iraq |         20        0.60       43.98
                                Ireland |         20        0.60       44.58
                                 Israel |         20        0.60       45.18
                                  Italy |         20        0.60       45.78
                                Jamaica |         20        0.60       46.39
                                  Japan |         20        0.60       46.99
                                 Jordan |         20        0.60       47.59
                             Kazakhstan |         20        0.60       48.19
                                  Kenya |         20        0.60       48.80
                               Kiribati |         20        0.60       49.40
                                 Kuwait |         20        0.60       50.00
                             Kyrgyzstan |         20        0.60       50.60
       Lao People's Democratic Republic |         20        0.60       51.20
                                 Latvia |         20        0.60       51.81
                                Lebanon |         20        0.60       52.41
                                Lesotho |         20        0.60       53.01
                                Liberia |         20        0.60       53.61
                              Lithuania |         20        0.60       54.22
                             Luxembourg |         20        0.60       54.82
                                  Macau |         20        0.60       55.42
                             Madagascar |         20        0.60       56.02
                                 Malawi |         20        0.60       56.63
                               Malaysia |         20        0.60       57.23
                                   Mali |         20        0.60       57.83
                                  Malta |         20        0.60       58.43
                             Mauritania |         20        0.60       59.04
                              Mauritius |         20        0.60       59.64
                                 Mexico |         20        0.60       60.24
                               Mongolia |         20        0.60       60.84
                             Montenegro |         20        0.60       61.45
                                Morocco |         20        0.60       62.05
                                Myanmar |         20        0.60       62.65
                                Namibia |         20        0.60       63.25
                                  Nepal |         20        0.60       63.86
                            Netherlands |         20        0.60       64.46
                          New Caledonia |         20        0.60       65.06
                            New Zealand |         20        0.60       65.66
                              Nicaragua |         20        0.60       66.27
                                  Niger |         20        0.60       66.87
                                Nigeria |         20        0.60       67.47
                        North Macedonia |         20        0.60       68.07
                                 Norway |         20        0.60       68.67
                                   Oman |         20        0.60       69.28
                               Pakistan |         20        0.60       69.88
                                 Panama |         20        0.60       70.48
                       Papua New Guinea |         20        0.60       71.08
                               Paraguay |         20        0.60       71.69
                                   Peru |         20        0.60       72.29
                            Philippines |         20        0.60       72.89
                                 Poland |         20        0.60       73.49
                               Portugal |         20        0.60       74.10
                      Republic of Korea |         20        0.60       74.70
                    Republic of Moldova |         20        0.60       75.30
                                Romania |         20        0.60       75.90
                     Russian Federation |         20        0.60       76.51
                                 Rwanda |         20        0.60       77.11
       Saint Vincent and the Grenadines |         20        0.60       77.71
                                  Samoa |         20        0.60       78.31
                  Sao Tome and Principe |         20        0.60       78.92
                           Saudi Arabia |         20        0.60       79.52
                                Senegal |         20        0.60       80.12
                                 Serbia |         20        0.60       80.72
                           Sierra Leone |         20        0.60       81.33
                               Slovakia |         20        0.60       81.93
                               Slovenia |         20        0.60       82.53
                        Solomon Islands |         20        0.60       83.13
                           South Africa |         20        0.60       83.73
                                  Spain |         20        0.60       84.34
                              Sri Lanka |         20        0.60       84.94
                                  Sudan |         20        0.60       85.54
                               Suriname |         20        0.60       86.14
                                 Sweden |         20        0.60       86.75
                            Switzerland |         20        0.60       87.35
                                 Taiwan |         20        0.60       87.95
                             Tajikistan |         20        0.60       88.55
                               Thailand |         20        0.60       89.16
                            Timor-Leste |         20        0.60       89.76
                                   Togo |         20        0.60       90.36
                    Trinidad and Tobago |         20        0.60       90.96
                                Tunisia |         20        0.60       91.57
                           Turkmenistan |         20        0.60       92.17
                                Türkiye |         20        0.60       92.77
                                Ukraine |         20        0.60       93.37
                   United Arab Emirates |         20        0.60       93.98
United Kingdom of Great Britain and N.. |         20        0.60       94.58
            United Republic of Tanzania |         20        0.60       95.18
               United States of America |         20        0.60       95.78
                                Uruguay |         20        0.60       96.39
                             Uzbekistan |         20        0.60       96.99
                                Vanuatu |         20        0.60       97.59
      Venezuela, Bolivarian Republic of |         20        0.60       98.19
                               Viet Nam |         20        0.60       98.80
                                  Yemen |         20        0.60       99.40
                                 Zambia |         20        0.60      100.00
----------------------------------------+-----------------------------------
                                  Total |      3,320      100.00

. 
.                 // Save 
.                         save POU, replace 
file POU.dta saved

.                         export delimited using POU, replace
file POU.csv saved

. 
.                 
. ** DIET QUALITY ****************************************************************
. 
. **# MDD-W: % women age 15-49 years meeting minimum dietary diversity (Gallup World Poll)
.                 use DQQ_2021, clear

.                 keep ISO MDD_W* country year incgrp wb_region ISO_governing UN_status_detail UNmemberstate UN_status territoryof m49_code UN_continental_regio
> n UN_subregion UN_intermediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code

.                 sort ISO

.                 order ISO country year MDD* wb_region incgrp

.                         
.                 // Save
.                         save MDD_W_2021, replace
file MDD_W_2021.dta saved

.                         export delimited using MDD_W_2021, replace
file MDD_W_2021.csv saved

. 
. **# MDD (IYCF): % children 6-23 months meeting minimum dietary diversity (UNICEF)
.                 import excel using "$datain\UNICEF_Expanded_Global_Databases_Diets_6_23months_2021.xlsx", sheet("MDD trends") cellrange(A7) clear
(547 vars, 221 obs)

.                         keep B C G H I J M R W AB AG // Total values (point estimate) and disaggregations by sex and urban-rural retained (age groups, wealth 
> quintile, and maternal education are not preserved in our dataset at this point)

.                         ren B ISO

.                         ren C country

.                         ren G datasource_year

.                         ren H year

.                         ren I source1   

.                         ren J source2

.                         ren M MDD_iycf

.                                 lab var MDD_iycf "MDD, children 6-23 months (%)"

.                         ren R MDD_iycf_m

.                                 lab var MDD_iycf_m "MDD, children 6-23 months (male, % male population)"

.                         ren W MDD_iycf_f

.                                 lab var MDD_iycf_f "MDD, children 6-23 months (female, % female population)"

.                         ren AB MDD_iycf_u

.                                 lab var MDD_iycf_u "MDD, children 6-23 months (urban, % urban population)"

.                         ren AG MDD_iycf_r

.                                 lab var MDD_iycf_r "MDD, children 6-23 months (rural, % rural population)"

.                         drop in 1/3 // excel multiline headers
(3 observations deleted)

.                         sort ISO year

.                         tab2 datasource_year year

-> tabulation of datasource_year by year  

                  |                                                           year
  datasource_year |      2005       2006       2007       2008       2009       2010       2011       2012       2013       2014       2015 |     Total
------------------+-------------------------------------------------------------------------------------------------------------------------+----------
             2005 |         4          0          0          0          0          0          0          0          0          0          0 |         4 
          2005-06 |         2          3          0          0          0          0          0          0          0          0          0 |         5 
             2006 |         0          3          0          0          0          0          0          0          0          0          0 |         3 
          2006-07 |         0          1          2          0          0          0          0          0          0          0          0 |         3 
             2007 |         0          0          3          0          0          0          0          0          0          0          0 |         3 
          2007-08 |         0          0          1          0          0          0          0          0          0          0          0 |         1 
             2008 |         0          0          0          6          0          0          0          0          0          0          0 |         6 
          2008-09 |         0          0          0          1          2          0          0          0          0          0          0 |         3 
             2009 |         0          0          0          0          4          0          0          0          0          0          0 |         4 
          2009-10 |         0          0          0          0          2          3          0          0          0          0          0 |         5 
             2010 |         0          0          0          0          0          4          0          0          0          0          0 |         4 
          2010-11 |         0          0          0          0          0          5          2          0          0          0          0 |         7 
             2011 |         0          0          0          0          0          0          7          0          0          0          0 |         7 
          2011-12 |         0          0          0          0          0          0          1          3          0          0          0 |         4 
             2012 |         0          0          0          0          0          0          0         10          0          0          0 |        10 
          2012-13 |         0          0          0          0          0          0          0          0          2          0          0 |         2 
             2013 |         0          0          0          0          0          0          0          0         10          0          0 |        10 
          2013-14 |         0          0          0          0          0          0          0          0          2          3          0 |         5 
             2014 |         0          0          0          0          0          0          0          0          0         23          0 |        23 
          2014-15 |         0          0          0          0          0          0          0          0          0          1          3 |         4 
             2015 |         0          0          0          0          0          0          0          0          0          0          8 |         8 
          2015-16 |         0          0          0          0          0          0          0          0          0          0          7 |        11 
             2016 |         0          0          0          0          0          0          0          0          0          0          0 |        12 
          2016-17 |         0          0          0          0          0          0          0          0          0          0          0 |         5 
          2016-18 |         0          0          0          0          0          0          0          0          0          0          0 |         2 
             2017 |         0          0          0          0          0          0          0          0          0          0          0 |        10 
          2017-18 |         0          0          0          0          0          0          0          0          0          0          0 |         7 
             2018 |         0          0          0          0          0          0          0          0          0          0          0 |        18 
          2018-19 |         0          0          0          0          0          0          0          0          0          0          0 |         8 
             2019 |         0          0          0          0          0          0          0          0          0          0          0 |        19 
          2019-20 |         0          0          0          0          0          0          0          0          0          0          0 |         3 
             2020 |         0          0          0          0          0          0          0          0          0          0          0 |         2 
------------------+-------------------------------------------------------------------------------------------------------------------------+----------
            Total |         6          7          6          7          8         12         10         13         14         27         18 |       218 


                  |                          year
  datasource_year |      2016       2017       2018       2019       2020 |     Total
------------------+-------------------------------------------------------+----------
             2005 |         0          0          0          0          0 |         4 
          2005-06 |         0          0          0          0          0 |         5 
             2006 |         0          0          0          0          0 |         3 
          2006-07 |         0          0          0          0          0 |         3 
             2007 |         0          0          0          0          0 |         3 
          2007-08 |         0          0          0          0          0 |         1 
             2008 |         0          0          0          0          0 |         6 
          2008-09 |         0          0          0          0          0 |         3 
             2009 |         0          0          0          0          0 |         4 
          2009-10 |         0          0          0          0          0 |         5 
             2010 |         0          0          0          0          0 |         4 
          2010-11 |         0          0          0          0          0 |         7 
             2011 |         0          0          0          0          0 |         7 
          2011-12 |         0          0          0          0          0 |         4 
             2012 |         0          0          0          0          0 |        10 
          2012-13 |         0          0          0          0          0 |         2 
             2013 |         0          0          0          0          0 |        10 
          2013-14 |         0          0          0          0          0 |         5 
             2014 |         0          0          0          0          0 |        23 
          2014-15 |         0          0          0          0          0 |         4 
             2015 |         0          0          0          0          0 |         8 
          2015-16 |         4          0          0          0          0 |        11 
             2016 |        12          0          0          0          0 |        12 
          2016-17 |         3          2          0          0          0 |         5 
          2016-18 |         0          2          0          0          0 |         2 
             2017 |         0         10          0          0          0 |        10 
          2017-18 |         0          4          3          0          0 |         7 
             2018 |         0          0         18          0          0 |        18 
          2018-19 |         0          0          4          4          0 |         8 
             2019 |         0          0          0         19          0 |        19 
          2019-20 |         0          0          0          1          2 |         3 
             2020 |         0          0          0          0          2 |         2 
------------------+-------------------------------------------------------+----------
            Total |        19         18         25         24          4 |       218 

.                         destring, replace
ISO: contains nonnumeric characters; no replace
country: contains nonnumeric characters; no replace
datasource_year: contains nonnumeric characters; no replace
year: all characters numeric; replaced as int
source1: contains nonnumeric characters; no replace
source2: contains nonnumeric characters; no replace
MDD_iycf: all characters numeric; replaced as double
MDD_iycf_m: all characters numeric; replaced as double
MDD_iycf_f: all characters numeric; replaced as double
MDD_iycf_u: all characters numeric; replaced as double
(6 missing values generated)
MDD_iycf_r: all characters numeric; replaced as double
(6 missing values generated)

.                         duplicates tag ISO year, gen(dup)

Duplicates in terms of ISO year

.                         tab dup

        dup |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        216       99.08       99.08
          1 |          2        0.92      100.00
------------+-----------------------------------
      Total |        218      100.00

.                         browse if dup == 1 // Chad has 2 values for 2019, one from MICS that is complete and one from SMART that does not have urban-rural dis
> aggregation - decision to keep MICS source only

.                         drop if dup == 1 & year == 2019 & source1 == "SMART"
(1 observation deleted)

.                         drop dup

.                                 
.                         // Merge in classifications
.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(2 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(3 real changes made)

.                                 replace country = "Palestine, State of" if country == "State of Palestine"
(2 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(1 real change made)

.                                 merge m:1 ISO country using countryclassification
(variable country was str37, now str58 to accommodate using data's values)
(variable ISO was str8, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           188
        from master                         0  (_merge==1)
        from using                        188  (_merge==2)

    Matched                               217  (_merge==3)
    -----------------------------------------

.                                         browse if _merge !=3

.                                         drop if _merge!=3 
(188 observations deleted)

.                                         drop _merge

.                         
.                         // Save
.                         save MDD_youngchild, replace
file MDD_youngchild.dta saved

.                         
.                         // Keep only latest data point per country
.                                 unique country
Number of unique values of country is  101
Number of records is  217

.                                 // Save labels
.                                         foreach v of var * {
  2.                                         local l`v' : variable label `v'
  3.                                                 if `"`l`v''"' == "" {
  4.                                                 local l`v' "`v'"
  5.                                                 }
  6.                                         }

.                                         collapse (last) year source1 source2 MDD_iycf MDD_iycf_m MDD_iycf_f MDD_iycf_u MDD_iycf_r, by(ISO country)

.                                         // Relabel
.                                                 foreach v of var * {
  2.                                                 label var `v' "`l`v''"
  3.                                                         }

.                                         unique country
Number of unique values of country is  101
Number of records is  101

.                                 export delimited using MDD_youngchild_latestyear, replace
file MDD_youngchild_latestyear.csv saved

.                                 
.                         // Merge MDD-W and MDD-IYCF for joint visualization - data on children are from different years, so joint viz with v=caveats
.                                 use MDD_youngchild, clear

.                                 drop source*

.                                 merge m:1 ISO country using MDD_W_2021, force
(note: variable ISO_governing was byte in the using data, but will be str3 now)
(note: variable UN_contregion_code was int in the using data, but will be str11 now)
(note: variable UN_subregion_code was int in the using data, but will be str15 now)
(note: variable UN_intermedregion_code was byte in the using data, but will be str24 now)
(note: variable m49_code was int in the using data, but will be str20 now)
(variable year was int, now float to accommodate using data's values)
(label status already defined)
(label UN_status_detail already defined)
(label wb_region already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           150
        from master                       141  (_merge==1)
        from using                          9  (_merge==2)

    Matched                                76  (_merge==3)
    -----------------------------------------

.                                 tab country if _merge==2 // GQQ countries with no UNICEF data on children

                                country |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                                  Chile |          1       11.11       11.11
                                 Greece |          1       11.11       22.22
                                 Israel |          1       11.11       33.33
                                Lebanon |          1       11.11       44.44
                                Morocco |          1       11.11       55.56
                              Nicaragua |          1       11.11       66.67
                     Russian Federation |          1       11.11       77.78
                                Türkiye |          1       11.11       88.89
               United States of America |          1       11.11      100.00
----------------------------------------+-----------------------------------
                                  Total |          9      100.00

.                                 browse if _merge!=3

.                                 keep if _merge==3
(150 observations deleted)

.                                 drop _merge

.                                 tab country

                                country |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                             Bangladesh |          4        5.26        5.26
                                  Benin |          3        3.95        9.21
       Bolivia (Plurinational State of) |          2        2.63       11.84
                           Burkina Faso |          2        2.63       14.47
                               Cambodia |          3        3.95       18.42
                               Cameroon |          3        3.95       22.37
                                  China |          1        1.32       23.68
                               Colombia |          2        2.63       26.32
                                Ecuador |          1        1.32       27.63
                                  Egypt |          3        3.95       31.58
                                  Gabon |          1        1.32       32.89
                                  Ghana |          4        5.26       38.16
                                  India |          3        3.95       42.11
                              Indonesia |          2        2.63       44.74
                                 Jordan |          3        3.95       48.68
                             Kazakhstan |          1        1.32       50.00
                                  Kenya |          1        1.32       51.32
       Lao People's Democratic Republic |          1        1.32       52.63
                                 Mexico |          1        1.32       53.95
                             Mozambique |          1        1.32       55.26
                                  Nepal |          5        6.58       61.84
                                Nigeria |          4        5.26       67.11
                               Pakistan |          2        2.63       69.74
                            Philippines |          1        1.32       71.05
                                Senegal |          8       10.53       81.58
                           Sierra Leone |          4        5.26       86.84
                           South Africa |          1        1.32       88.16
                              Sri Lanka |          1        1.32       89.47
                             Tajikistan |          2        2.63       92.11
                                 Uganda |          3        3.95       96.05
            United Republic of Tanzania |          2        2.63       98.68
                               Viet Nam |          1        1.32      100.00
----------------------------------------+-----------------------------------
                                  Total |         76      100.00

.                                 keep ISO country year MDD_iycf MDD_W wb_region incgrp ISO_governing UN_status_detail UNmemberstate UN_status territoryof

.                                 by ISO, sort: egen mostrecent=max(cond(MDD_iycf!=., year, .))

.                                 keep if year==mostrecent
(44 observations deleted)

.                                 drop mostrecent 

.                                 tab year

       year |      Freq.     Percent        Cum.
------------+-----------------------------------
       2008 |          1        3.13        3.13
       2011 |          1        3.13        6.25
       2012 |          1        3.13        9.38
       2013 |          1        3.13       12.50
       2014 |          4       12.50       25.00
       2015 |          3        9.38       34.38
       2016 |          5       15.63       50.00
       2017 |          6       18.75       68.75
       2018 |          4       12.50       81.25
       2019 |          6       18.75      100.00
------------+-----------------------------------
      Total |         32      100.00

.                                 lab var MDD_W "Minimum Dietary Diversity-Women, 2021 (%)" 

.                                 tab country, sum(year)

                                  |           Summary of year
                          country |        Mean   Std. dev.       Freq.
----------------------------------+------------------------------------
                       Bangladesh |        2019           0           1
                            Benin |        2018           0           1
 Bolivia (Plurinational State of) |        2016           0           1
                     Burkina Faso |        2019           0           1
                         Cambodia |        2014           0           1
                         Cameroon |        2018           0           1
                            China |        2013           0           1
                         Colombia |        2016           0           1
                          Ecuador |        2019           0           1
                            Egypt |        2014           0           1
                            Gabon |        2012           0           1
                            Ghana |        2017           0           1
                            India |        2017           0           1
                        Indonesia |        2017           0           1
                           Jordan |        2017           0           1
                       Kazakhstan |        2015           0           1
                            Kenya |        2014           0           1
 Lao People's Democratic Republic |        2017           0           1
                           Mexico |        2015           0           1
                       Mozambique |        2011           0           1
                            Nepal |        2019           0           1
                          Nigeria |        2018           0           1
                         Pakistan |        2018           0           1
                      Philippines |        2008           0           1
                          Senegal |        2019           0           1
                     Sierra Leone |        2019           0           1
                     South Africa |        2016           0           1
                        Sri Lanka |        2016           0           1
                       Tajikistan |        2017           0           1
                           Uganda |        2016           0           1
      United Republic of Tanzania |        2015           0           1
                         Viet Nam |        2014           0           1
----------------------------------+------------------------------------
                            Total |   2016.0313   2.5963296          32

.                                 ren year IYCF_year

.                                 lab var IYCF_year "Year of MDD-IYCF data collection"

.                 
.                 // Save
.                 export delimited using MDD_combined, replace
file MDD_combined.csv saved

.         
. **# All-5: % adult population consuming all 5 food groups (Gallup World Poll)
.                 use DQQ_2021, clear

.                 keep ISO All* year wb_region incgrp country ISO_governing UN_status_detail UNmemberstate UN_status territoryof m49_code UN_continental_region 
> UN_subregion UN_intermediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code

.                 sort ISO

.                 order ISO country year All* wb_region incgrp

.                 
.                 // Save
.                 save All5_2021, replace
file All5_2021.dta saved

.                 export delimited using All5_2021, replace
file All5_2021.csv saved

. 
. **# % adult population consuming zero fruits or vegetables  (Gallup World Poll)
.                 use DQQ_2021, clear

.                 keep ISO zero* year wb_region incgrp country ISO_governing UN_status_detail UNmemberstate UN_status territoryof m49_code UN_continental_region
>  UN_subregion UN_intermediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code

.                 sort ISO

.                 order ISO country year zero* wb_region incgrp

.                 
.                 // Save
.                 save ZeroFV_adult_2021, replace
file ZeroFV_adult_2021.dta saved

.                 export delimited using ZeroFV_adult_2021, replace
file ZeroFV_adult_2021.csv saved

. 
. **# % children 6-23 month consuming zero fruits or vegetables (UNICEF)
.                 import excel using "$datain\UNICEF_Expanded_Global_Databases_Unhealthy_practices_2021.xlsx", sheet("Zero Fruits and Vegetables") cellrange(A7)
>  clear
(547 vars, 1,210 obs)

.                         keep B C G H I J M R W AB AG // Total values (point estimate) and disaggregations by sex and urban-rural retained (age groups, wealth 
> quintile, and maternal education are not preserved in our dataset at this point)

.                         ren B ISO

.                         ren C country

.                         ren G datasource_year

.                         ren H year

.                         ren I source1   

.                         ren J source2

.                         ren M zeroFV_iycf

.                                 lab var zeroFV_iycf "Zero fruits and vegetables, children 6-23 months (%)"

.                         ren R zeroFV_iycf_m

.                                 lab var zeroFV_iycf_m "Zero fruits and vegetables, children 6-23 months (male, % male population)"

.                         ren W zeroFV_iycf_f

.                                 lab var zeroFV_iycf_f "Zero fruits and vegetables, children 6-23 months (female, % female population)"

.                         ren AB zeroFV_icyf_u

.                                 lab var zeroFV_icyf_u "Zero fruits and vegetables, children 6-23 months (urban, % urban population)"

.                         ren AG zeroFV_icyf_r

.                                 lab var zeroFV_icyf_r "Zero fruits and vegetables, children 6-23 months (rural, % rural population)"

.                         drop in 1/3 // excel multiline headers
(3 observations deleted)

.                         sort ISO year

.                         destring, replace
ISO: contains nonnumeric characters; no replace
country: contains nonnumeric characters; no replace
datasource_year: contains nonnumeric characters; no replace
year: all characters numeric; replaced as int
(991 missing values generated)
source1: contains nonnumeric characters; no replace
source2: contains nonnumeric characters; no replace
zeroFV_iycf: all characters numeric; replaced as double
(991 missing values generated)
zeroFV_iycf_m: all characters numeric; replaced as double
(991 missing values generated)
zeroFV_iycf_f: all characters numeric; replaced as double
(991 missing values generated)
zeroFV_icyf_u: all characters numeric; replaced as double
(997 missing values generated)
zeroFV_icyf_r: all characters numeric; replaced as double
(997 missing values generated)

.                         drop if ISO=="" & zeroFV_iycf==. & year==.
(991 observations deleted)

.                         duplicates tag ISO year, gen(dup)

Duplicates in terms of ISO year

.                         tab dup

        dup |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        214       99.07       99.07
          1 |          2        0.93      100.00
------------+-----------------------------------
      Total |        216      100.00

.                         browse if dup == 1 // Chad has 2 values for 2019, one from MICS that is complete and one from SMART that does not have urban-rural dis
> aggregation - decision to keep MICS source only

.                         drop if dup == 1 & year == 2019 & source1 == "SMART"
(1 observation deleted)

.                         drop dup

.                         
.                         // Merge in classifications
.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(2 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(3 real changes made)

.                                 replace country = "Palestine, State of" if country == "State of Palestine"
(2 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(0 real changes made)

.                                 merge m:1 ISO country using countryclassification
(variable country was str32, now str58 to accommodate using data's values)
(variable ISO was str8, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           189
        from master                         0  (_merge==1)
        from using                        189  (_merge==2)

    Matched                               215  (_merge==3)
    -----------------------------------------

.                                         browse if _merge != 3

.                                         drop if _merge!=3 
(189 observations deleted)

.                                         drop _merge

.                 
.                 // Save
.                 save ZeroFV_youngchild, replace
file ZeroFV_youngchild.dta saved

.         
.                 // Keep latest data point per country
.                 unique country
Number of unique values of country is  100
Number of records is  215

.                 // Save labels
.                         foreach v of var * {
  2.                         local l`v' : variable label `v'
  3.                                 if `"`l`v''"' == "" {
  4.                                 local l`v' "`v'"
  5.                                 }
  6.                         }

.                         collapse (last) datasource_year year source1 source2 zeroFV_iycf zeroFV_iycf_m zeroFV_iycf_f zeroFV_icyf_u zeroFV_icyf_r, by(ISO count
> ry)

.                         // Relabel
.                                 foreach v of var * {
  2.                                 label var `v' "`l`v''"
  3.                                         }

.                 unique country
Number of unique values of country is  100
Number of records is  100

.                 export delimited using ZeroFV_youngchild_latestyear, replace
file ZeroFV_youngchild_latestyear.csv saved

.         
.                 // Merge zero FV for adults and young children for joint visualization - data on children are from different years, so joint viz with caveats
.                 use ZeroFV_youngchild, clear

.                         drop source*

.                         merge m:1 ISO using ZeroFV_adult_2021, force
(note: variable ISO_governing was byte in the using data, but will be str3 now)
(note: variable UN_contregion_code was int in the using data, but will be str11 now)
(note: variable UN_subregion_code was int in the using data, but will be str15 now)
(note: variable UN_intermedregion_code was byte in the using data, but will be str24 now)
(note: variable m49_code was int in the using data, but will be str20 now)
(variable year was int, now float to accommodate using data's values)
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           148
        from master                       139  (_merge==1)
        from using                          9  (_merge==2)

    Matched                                76  (_merge==3)
    -----------------------------------------

.                         tab country if _merge==2 // GQQ countries with no UNICEF data on children

                                country |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                                  Chile |          1       11.11       11.11
                                 Greece |          1       11.11       22.22
                                 Israel |          1       11.11       33.33
                                Lebanon |          1       11.11       44.44
                                Morocco |          1       11.11       55.56
                              Nicaragua |          1       11.11       66.67
                     Russian Federation |          1       11.11       77.78
                                Türkiye |          1       11.11       88.89
               United States of America |          1       11.11      100.00
----------------------------------------+-----------------------------------
                                  Total |          9      100.00

.                         browse if _merge!=3

.                         keep if _merge==3
(148 observations deleted)

.                         drop _merge

.                         tab country

                                country |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                             Bangladesh |          4        5.26        5.26
                                  Benin |          3        3.95        9.21
       Bolivia (Plurinational State of) |          2        2.63       11.84
                           Burkina Faso |          2        2.63       14.47
                               Cambodia |          3        3.95       18.42
                               Cameroon |          3        3.95       22.37
                                  China |          1        1.32       23.68
                               Colombia |          2        2.63       26.32
                                Ecuador |          1        1.32       27.63
                                  Egypt |          3        3.95       31.58
                                  Gabon |          1        1.32       32.89
                                  Ghana |          4        5.26       38.16
                                  India |          3        3.95       42.11
                              Indonesia |          2        2.63       44.74
                                 Jordan |          3        3.95       48.68
                             Kazakhstan |          1        1.32       50.00
                                  Kenya |          1        1.32       51.32
       Lao People's Democratic Republic |          1        1.32       52.63
                                 Mexico |          1        1.32       53.95
                             Mozambique |          1        1.32       55.26
                                  Nepal |          5        6.58       61.84
                                Nigeria |          4        5.26       67.11
                               Pakistan |          2        2.63       69.74
                            Philippines |          1        1.32       71.05
                                Senegal |          8       10.53       81.58
                           Sierra Leone |          4        5.26       86.84
                           South Africa |          1        1.32       88.16
                              Sri Lanka |          1        1.32       89.47
                             Tajikistan |          2        2.63       92.11
                                 Uganda |          3        3.95       96.05
            United Republic of Tanzania |          2        2.63       98.68
                               Viet Nam |          1        1.32      100.00
----------------------------------------+-----------------------------------
                                  Total |         76      100.00

.                         keep ISO country year zeroFV_iycf zeroFV wb_region incgrp ISO_governing UN_status_detail UNmemberstate UN_status territoryof

.                         by ISO, sort: egen mostrecent=max(cond(zeroFV_iycf!=., year, .))

.                         keep if year==mostrecent
(44 observations deleted)

.                         drop mostrecent 

.                         tab year

       year |      Freq.     Percent        Cum.
------------+-----------------------------------
       2008 |          1        3.13        3.13
       2011 |          1        3.13        6.25
       2012 |          1        3.13        9.38
       2013 |          1        3.13       12.50
       2014 |          4       12.50       25.00
       2015 |          3        9.38       34.38
       2016 |          5       15.63       50.00
       2017 |          6       18.75       68.75
       2018 |          4       12.50       81.25
       2019 |          6       18.75      100.00
------------+-----------------------------------
      Total |         32      100.00

.                         lab var zeroFV "Zero fruit or vegetables (adults), 2021 (%)" 

.                         tab country, sum(year)

                                  |           Summary of year
                          country |        Mean   Std. dev.       Freq.
----------------------------------+------------------------------------
                       Bangladesh |        2019           0           1
                            Benin |        2018           0           1
 Bolivia (Plurinational State of) |        2016           0           1
                     Burkina Faso |        2019           0           1
                         Cambodia |        2014           0           1
                         Cameroon |        2018           0           1
                            China |        2013           0           1
                         Colombia |        2016           0           1
                          Ecuador |        2019           0           1
                            Egypt |        2014           0           1
                            Gabon |        2012           0           1
                            Ghana |        2017           0           1
                            India |        2017           0           1
                        Indonesia |        2017           0           1
                           Jordan |        2017           0           1
                       Kazakhstan |        2015           0           1
                            Kenya |        2014           0           1
 Lao People's Democratic Republic |        2017           0           1
                           Mexico |        2015           0           1
                       Mozambique |        2011           0           1
                            Nepal |        2019           0           1
                          Nigeria |        2018           0           1
                         Pakistan |        2018           0           1
                      Philippines |        2008           0           1
                          Senegal |        2019           0           1
                     Sierra Leone |        2019           0           1
                     South Africa |        2016           0           1
                        Sri Lanka |        2016           0           1
                       Tajikistan |        2017           0           1
                           Uganda |        2016           0           1
      United Republic of Tanzania |        2015           0           1
                         Viet Nam |        2014           0           1
----------------------------------+------------------------------------
                            Total |   2016.0313   2.5963296          32

.                         ren year IYCF_year

.                         lab var IYCF_year "Year of MDD-IYCF data collection"

.                         
.                 // Save
.                 export delimited using ZeroFV_combined, replace
file ZeroFV_combined.csv saved

. 
. **# NCD-Protect and NCD-Risk (Gallup World Poll)
.                 use DQQ_2021, clear

.                         keep ISO NCD* GDR* year wb_region incgrp country ISO_governing UN_status_detail UNmemberstate UN_status territoryof m49_code UN_contin
> ental_region UN_subregion UN_intermediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code

.                         sort ISO

.                         order ISO country year NCD* GDR* wb_region incgrp

.                         drop GDR_score*

.                 
.                 // Save
.                 save NCDP-NCDR_adult_2021, replace
file NCDP-NCDR_adult_2021.dta saved

.                 export delimited using NCDP-NCDR_adult_2021, replace
file NCDP-NCDR_adult_2021.csv saved

.                 
. **# Sugar-sweetened soft drink consumption (Gallup World Poll)
.                 use DQQ_2021, clear

.                         keep ISO SSB* year wb_region incgrp country ISO_governing UN_status_detail UNmemberstate UN_status territoryof m49_code UN_continental
> _region UN_subregion UN_intermediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code

.                         sort ISO

.                         order ISO country year SSB* wb_region incgrp

.                 
.                 // Save
.                 save SSB_adult_2021, replace
file SSB_adult_2021.dta saved

.                 export delimited using SSB_adult_2021, replace
file SSB_adult_2021.csv saved

.         
.         
. // ENVIRONMENT, NATURAL RESOURCES, & PRODUCTION ////////////////////////////////
. 
. ** GHG EMISSIONS ***************************************************************
. 
. **# Greenhous gas emissions (total)
.                 import delimited using "$datain\FAOSTAT_EmissionsFS.csv", clear 
(encoding automatically selected: UTF-8)
(17 vars, 7,192 obs)

.                 ren value fs_emissions

.                 lab var fs_emissions "Agri-food systems greenhouse gas emissions (kT CO2eq) (AR5)"

.                 drop domaincode domain areacodem49 elementcode element itemcode item yearcode unit flag flagdescription sourcecode source note

.                 ren area country

. 
.                 // Replace ISO codes for historic states to harmonize with WB dataset
.                         drop if country == "China" // drop aggregate China value to avoid double counting
(31 observations deleted)

.                         replace country="Côte D'Ivoire" if country=="Côte d'Ivoire"
(31 real changes made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(31 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(31 real changes made)

.                         replace country = "China" if country == "China, mainland"
(31 real changes made)

.                         replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(31 real changes made)

.                         replace country = "Taiwan" if country == "China, Taiwan Province of"
(31 real changes made)

.                         replace country = "Macau" if country == "China, Macao SAR"
(31 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(31 real changes made)

.                         replace country = "Palestine, State of" if country == "Palestine"
(31 real changes made)

.                         replace country = "Reunion" if country == "Réunion"
(31 real changes made)

.                         replace country = "Saint Pierre et Miquelon" if country == "Saint Pierre and Miquelon"
(31 real changes made)

.                         replace country = "Wallis and Futuna" if country == "Wallis and Futuna Islands"
(31 real changes made)

.                         replace country = "French Guiana" if country == "French Guyana"
(31 real changes made)

. 
.                 
.                 // Merge in region and income group
.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           232
        from master                       212  (_merge==1)
        from using                         20  (_merge==2)

    Matched                             6,949  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(232 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            60
        from master                         0  (_merge==1)
        from using                         60  (_merge==2)

    Matched                             6,949  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                                         /* Territories with non-zero data dropped: Channel Islands,
>                                         Saint Helena et al      */
.                                 drop if _merge != 3 // Historic states and territories named above
(60 observations deleted)

.                                 drop _merge

. 
.         // Save
.                 save fsemissions, replace
file fsemissions.dta saved

.                 export delimited using fsemissions, replace
file fsemissions.csv saved

. 
. **# Greenhouse gas emissions intensity
.                 import delimited using "$datain\FAOSTAT_EmissionsIntensities.csv", clear
(encoding automatically selected: UTF-8)
(14 vars, 211,698 obs)

.                         ren item product

.                         drop domaincode domain areacodem49 elementcode itemcode yearcode unit flag flagdescription

.                         ren area country

.                         encode product, gen(product2)

.                         drop product

.                         tab product2

                                   Item |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                 Cereals excluding rice |     29,870       14.11       14.11
               Hen eggs in shell, fresh |     33,381       15.77       29.88
Meat of cattle with the bone, fresh or  |     32,909       15.55       45.42
     Meat of chickens, fresh or chilled |     33,450       15.80       61.22
Meat of pig with the bone, fresh or chi |     29,777       14.07       75.29
                     Raw milk of cattle |     31,652       14.95       90.24
                                   Rice |     20,659        9.76      100.00
----------------------------------------+-----------------------------------
                                  Total |    211,698      100.00

.                         encode element, gen(variable)

.                         drop element

.                         reshape wide value, i(country year product2) j(variable)        
(j = 1 2 3)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations          211,698   ->   70,721      
Number of variables                   5   ->   6           
j variable (3 values)          variable   ->   (dropped)
xij variables:
                                  value   ->   value1 value2 value3
-----------------------------------------------------------------------------

.                         ren value1 emiss_ 

.                         ren value2 emint_

.                         ren value3 prod_        

.                         reshape wide emiss_ emint_  prod_, i(country year) j(product2)
(j = 1 2 3 4 5 6 7)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations           70,721   ->   11,464      
Number of variables                   6   ->   23          
j variable (7 values)          product2   ->   (dropped)
xij variables:
                                 emiss_   ->   emiss_1 emiss_2 ... emiss_7
                                 emint_   ->   emint_1 emint_2 ... emint_7
                                  prod_   ->   prod_1 prod_2 ... prod_7
-----------------------------------------------------------------------------

.                         foreach v of varlist emint_* {
  2.                                 lab var `v' "Emissions intensity, kg Co2eq/kg product"
  3.                         }

.                         foreach v of varlist prod_* {
  2.                                 lab var `v' "Total production (tonnes)"
  3.                         }

.                         foreach v of varlist emiss_* {
  2.                                 lab var `v' "Total emissions (CO2 eq) (AR5)"
  3.                         }

.                 
.                 // Merge in region and income group
.                 drop if country == "China" // drop aggregate China value to avoid double counting
(60 observations deleted)

.                         replace country="Côte D'Ivoire" if country=="Côte d'Ivoire"
(60 real changes made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(60 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(60 real changes made)

.                         replace country = "China" if country == "China, mainland"
(60 real changes made)

.                         replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(60 real changes made)

.                         replace country = "Taiwan" if country == "China, Taiwan Province of"
(60 real changes made)

.                         replace country = "Macau" if country == "China, Macao SAR"
(60 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(60 real changes made)

.                         replace country = "Palestine, State of" if country == "Palestine"
(27 real changes made)

.                         replace country = "Reunion" if country == "Réunion"
(59 real changes made)

.                         replace country = "Saint Pierre et Miquelon" if country == "Saint Pierre and Miquelon"
(0 real changes made)

.                         replace country = "Wallis and Futuna" if country == "Wallis and Futuna Islands"
(0 real changes made)

.                         replace country = "French Guiana" if country == "French Guyana"
(59 real changes made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           304
        from master                       260  (_merge==1)
        from using                         44  (_merge==2)

    Matched                            11,144  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(304 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            84
        from master                         0  (_merge==1)
        from using                         84  (_merge==2)

    Matched                            11,144  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                                 drop if _merge !=3 // historic states
(84 observations deleted)

.                                 drop _merge

.                 
.                 // Further clean
.                         *(names can be confirmed based on tabulation of product variable before first reshaping)
.                         ren (emiss_#) (emiss_cerealsnorice emiss_eggs emiss_beef emiss_chickenmeat emiss_pork emiss_cowmilk emiss_rice)

.                         ren (emint_#) (emint_cerealsnorice emint_eggs emint_beef emint_chickenmeat emint_pork eemint_cowmilk emint_rice)

.                         ren (prod_#) (prod_cerealsnorice prod_eggs  prod_beef prod_chickenmeat prod_pork prod_cowmilk prod_rice)

.                         foreach v of varlist emint_* {
  2.                                 lab var `v' "Emissions intensity, kg Co2eq/kg product"
  3.                         }

.                         foreach v of varlist prod_* {
  2.                                 lab var `v' "Total production (tonnes)"
  3.                         } 

.                 * Drop production variables that will be duplicated in yield dataset
.                 drop prod_eggs prod_beef prod_chickenmeat prod_pork prod_cowmilk

.                         
.                 // Save
.                 save emissions_intensity, replace
file emissions_intensity.dta saved

.                 export delimited using emissions_intensity, replace
file emissions_intensity.csv saved

. 
.                 
. ** PRODUCTION ******************************************************************
. 
. **# Food product yield per food group (FAO)
.                 * Import total product to add products not included in emissions intensity series
.                 import delimited using "$datain\FAOSTAT_Production_1961-2020.csv", clear
(encoding automatically selected: UTF-8)
(14 vars, 127,104 obs)

.                         tempfile prod

.                         save `prod'
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000008.tmp saved as .dta format

.                 import delimited using "$datain\FAOSTAT_Yields_1961-2020.csv", clear
(encoding automatically selected: UTF-8)
(14 vars, 123,463 obs)

.                         append using `prod'
(variable flagdescription was str17, now str49 to accommodate using data's values)

.                 drop domaincode domain elementcode yearcode flag flagdescription itemcodecpc areacodem49

.                 ren area country

.                 ren item product

.                 encode product, gen(product2)

.                 drop product

.                 tab product2

                                   Item |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                         Cereals, Total |     20,264        8.09        8.09
                    Citrus Fruit, Total |     15,179        6.06       14.15
                          Fruit Primary |     21,996        8.78       22.92
               Hen eggs in shell, fresh |     33,542       13.39       36.31
Meat of cattle with the bone, fresh or  |     21,971        8.77       45.08
     Meat of chickens, fresh or chilled |     22,213        8.87       53.94
Meat of pig with the bone, fresh or chi |     20,029        7.99       61.94
                          Pulses, Total |     19,147        7.64       69.58
                     Raw milk of cattle |     21,013        8.39       77.96
                Roots and Tubers, Total |     22,078        8.81       86.78
                        Treenuts, Total |     11,018        4.40       91.17
                     Vegetables Primary |     22,117        8.83      100.00
----------------------------------------+-----------------------------------
                                  Total |    250,567      100.00

.                 encode element, gen(var)

.                 tab var

             Element |      Freq.     Percent        Cum.
---------------------+-----------------------------------
          Production |    127,104       50.73       50.73
               Yield |     91,445       36.50       87.22
Yield/Carcass Weight |     32,018       12.78      100.00
---------------------+-----------------------------------
               Total |    250,567      100.00

.                 tab var, nolabel

    Element |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |    127,104       50.73       50.73
          2 |     91,445       36.50       87.22
          3 |     32,018       12.78      100.00
------------+-----------------------------------
      Total |    250,567      100.00

.                                 replace var = 2 if var == 3 // for meat, recode element to match crops yield
(32,018 real changes made)

.                 drop element

.                 drop if value == .
(1,081 observations deleted)

.                 tab var, sum(var)

            |         Summary of Element
    Element |        Mean   Std. dev.       Freq.
------------+------------------------------------
  Productio |           1           0     126,023
      Yield |           2           0     123,463
------------+------------------------------------
      Total |   1.4948695   .49997468     249,486

.                 tab2 unit product2 if var == 1 // Production

-> tabulation of unit by product2 if var == 1 

           |                                                                Item
      Unit | Cereals,   Citrus Fr  Fruit Pri  Hen eggs   Meat of c  Meat of c  Meat of p  Pulses, T  Raw milk   Roots and  Treenuts,  Vegetable |     Total
-----------+------------------------------------------------------------------------------------------------------------------------------------+----------
   1000 No |         0          0          0      5,737          0          0          0          0          0          0          0          0 |     5,737 
    tonnes |    10,121      7,905     11,146     11,087     10,999     11,122     10,045      9,522     10,516     11,067      5,700     11,056 |   120,286 
-----------+------------------------------------------------------------------------------------------------------------------------------------+----------
     Total |    10,121      7,905     11,146     16,824     10,999     11,122     10,045      9,522     10,516     11,067      5,700     11,056 |   126,023 

.                                 * drop duplicate units
.                                 duplicates tag country year product2 var, gen(dups)

Duplicates in terms of country year product2 var

.                                 tab dups

       dups |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |    226,546       90.81       90.81
          1 |     22,940        9.19      100.00
------------+-----------------------------------
      Total |    249,486      100.00

.                                 tab2 unit product2 if dups == 1 & var == 1

-> tabulation of unit by product2 if dups == 1 & var == 1 

           |    Item
      Unit | Hen eggs  |     Total
-----------+-----------+----------
   1000 No |     5,735 |     5,735 
    tonnes |     5,735 |     5,735 
-----------+-----------+----------
     Total |    11,470 |    11,470 

.                                 drop if unit == "1000 No" & product2 == 4 & var == 1 & dups == 1
(5,735 observations deleted)

.                                 tab2 unit product2 if dups == 1 & var == 2

-> tabulation of unit by product2 if dups == 1 & var == 2 

           |    Item
      Unit | Hen eggs  |     Total
-----------+-----------+----------
  100mg/An |     5,735 |     5,735 
     No/An |     5,735 |     5,735 
-----------+-----------+----------
     Total |    11,470 |    11,470 

.                                 drop if unit == "No/An" & product2 == 4 & var == 2 & dups == 1
(5,735 observations deleted)

.                                 drop dups

.                 reshape wide value unit, i(country year product2) j(var) 
(j = 1 2)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations          238,016   ->   120,288     
Number of variables                   6   ->   7           
j variable (2 values)               var   ->   (dropped)
xij variables:
                                  value   ->   value1 value2
                                   unit   ->   unit1 unit2
-----------------------------------------------------------------------------

.                 ren value1 production

.                 ren unit1 prod_unit

.                 ren value2 yield

.                 ren unit2 yield_unit

.                 tab product2

                                   Item |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                         Cereals, Total |     10,121        8.41        8.41
                    Citrus Fruit, Total |      7,905        6.57       14.99
                          Fruit Primary |     11,146        9.27       24.25
               Hen eggs in shell, fresh |     11,089        9.22       33.47
Meat of cattle with the bone, fresh or  |     10,999        9.14       42.61
     Meat of chickens, fresh or chilled |     11,122        9.25       51.86
Meat of pig with the bone, fresh or chi |     10,045        8.35       60.21
                          Pulses, Total |      9,522        7.92       68.13
                     Raw milk of cattle |     10,516        8.74       76.87
                Roots and Tubers, Total |     11,067        9.20       86.07
                        Treenuts, Total |      5,700        4.74       90.81
                     Vegetables Primary |     11,056        9.19      100.00
----------------------------------------+-----------------------------------
                                  Total |    120,288      100.00

.                 tab product2, nolabel

       Item |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     10,121        8.41        8.41
          2 |      7,905        6.57       14.99
          3 |     11,146        9.27       24.25
          4 |     11,089        9.22       33.47
          5 |     10,999        9.14       42.61
          6 |     11,122        9.25       51.86
          7 |     10,045        8.35       60.21
          8 |      9,522        7.92       68.13
          9 |     10,516        8.74       76.87
         10 |     11,067        9.20       86.07
         11 |      5,700        4.74       90.81
         12 |     11,056        9.19      100.00
------------+-----------------------------------
      Total |    120,288      100.00

.                 tab2 product2 yield_unit

-> tabulation of product2 by yield_unit  

                      |                   2 unit
                 Item |   0.1g/An   100mg/An      hg/An      hg/ha |     Total
----------------------+--------------------------------------------+----------
       Cereals, Total |         0          0          0     10,050 |    10,050 
  Citrus Fruit, Total |         0          0          0      7,065 |     7,065 
        Fruit Primary |         0          0          0     10,815 |    10,815 
Hen eggs in shell, fr |         0     10,935          0          0 |    10,935 
Meat of cattle with t |         0          0     10,969          0 |    10,969 
Meat of chickens, fre |    11,088          0          0          0 |    11,088 
Meat of pig with the  |         0          0      9,961          0 |     9,961 
        Pulses, Total |         0          0          0      9,489 |     9,489 
   Raw milk of cattle |         0          0     10,486          0 |    10,486 
Roots and Tubers, Tot |         0          0          0     10,977 |    10,977 
      Treenuts, Total |         0          0          0      4,870 |     4,870 
   Vegetables Primary |         0          0          0     11,023 |    11,023 
----------------------+--------------------------------------------+----------
                Total |    11,088     10,935     31,416     64,289 |   117,728 

.                 tab2 product2 prod_unit

-> tabulation of product2 by prod_unit  

                      |        1 unit
                 Item |   1000 No     tonnes |     Total
----------------------+----------------------+----------
       Cereals, Total |         0     10,121 |    10,121 
  Citrus Fruit, Total |         0      7,905 |     7,905 
        Fruit Primary |         0     11,146 |    11,146 
Hen eggs in shell, fr |         2     11,087 |    11,089 
Meat of cattle with t |         0     10,999 |    10,999 
Meat of chickens, fre |         0     11,122 |    11,122 
Meat of pig with the  |         0     10,045 |    10,045 
        Pulses, Total |         0      9,522 |     9,522 
   Raw milk of cattle |         0     10,516 |    10,516 
Roots and Tubers, Tot |         0     11,067 |    11,067 
      Treenuts, Total |         0      5,700 |     5,700 
   Vegetables Primary |         0     11,056 |    11,056 
----------------------+----------------------+----------
                Total |         2    120,286 |   120,288 

.                         
.                         // Convert products in hectograms/ha to tonnes
.                         replace yield = yield / 1000 if yield_unit == "hg/ha" // note 4 values are 0 and are not replaced
variable yield was long now double
(64,285 real changes made)

.                         replace yield_unit = "tonnes/ha" if yield_unit == "hg/ha"
variable yield_unit was str8 now str9
(64,289 real changes made)

.                         
.                         // Convert products in hg/An to kg/animal
.                         replace yield = yield / 10 if yield_unit == "hg/An"
(31,416 real changes made)

.                         replace yield_unit = "kg/animal" if yield_unit == "hg/An"
(31,416 real changes made)

.                         
.                         // Convert yield from 100mg / animal to kg / animal (** Note egg yield unit in FAOSTAT changed from grams to mg in 2022)
.                         replace yield = yield / 1000000 if yield_unit == "100mg/An"
(10,935 real changes made)

.                         replace yield_unit = "kg/animal" if yield_unit == "100mg/An"
(10,935 real changes made)

.                         
.                         // Convert yield from .1g / animal to kg / animal (0.1g = 100 mg)
.                         replace yield = yield / 1000000 if yield_unit == "0.1g/An"
(11,088 real changes made)

.                         replace yield_unit = "kg/animal" if yield_unit == "0.1g/An"
(11,088 real changes made)

.                         
.                         tab2 product2 yield_unit

-> tabulation of product2 by yield_unit  

                      |        2 unit
                 Item | kg/animal  tonnes/ha |     Total
----------------------+----------------------+----------
       Cereals, Total |         0     10,050 |    10,050 
  Citrus Fruit, Total |         0      7,065 |     7,065 
        Fruit Primary |         0     10,815 |    10,815 
Hen eggs in shell, fr |    10,935          0 |    10,935 
Meat of cattle with t |    10,969          0 |    10,969 
Meat of chickens, fre |    11,088          0 |    11,088 
Meat of pig with the  |     9,961          0 |     9,961 
        Pulses, Total |         0      9,489 |     9,489 
   Raw milk of cattle |    10,486          0 |    10,486 
Roots and Tubers, Tot |         0     10,977 |    10,977 
      Treenuts, Total |         0      4,870 |     4,870 
   Vegetables Primary |         0     11,023 |    11,023 
----------------------+----------------------+----------
                Total |    53,439     64,289 |   117,728 

.                         tab2 product2 prod_unit

-> tabulation of product2 by prod_unit  

                      |        1 unit
                 Item |   1000 No     tonnes |     Total
----------------------+----------------------+----------
       Cereals, Total |         0     10,121 |    10,121 
  Citrus Fruit, Total |         0      7,905 |     7,905 
        Fruit Primary |         0     11,146 |    11,146 
Hen eggs in shell, fr |         2     11,087 |    11,089 
Meat of cattle with t |         0     10,999 |    10,999 
Meat of chickens, fre |         0     11,122 |    11,122 
Meat of pig with the  |         0     10,045 |    10,045 
        Pulses, Total |         0      9,522 |     9,522 
   Raw milk of cattle |         0     10,516 |    10,516 
Roots and Tubers, Tot |         0     11,067 |    11,067 
      Treenuts, Total |         0      5,700 |     5,700 
   Vegetables Primary |         0     11,056 |    11,056 
----------------------+----------------------+----------
                Total |         2    120,286 |   120,288 

.                         drop if prod_unit == "1000 No" // Faroe Islands, production value = 0
(2 observations deleted)

.                                 
.                         // Merge in country classification
.                                 drop if country == "China" // drop aggregate China value to avoid double counting
(720 observations deleted)

.                                 replace country = "China" if country == "China, mainland"
(720 real changes made)

.                                 replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(540 real changes made)

.                                 replace country = "Taiwan" if country == "China, Taiwan Province of"
(660 real changes made)

.                                 replace country = "French Guiana" if country == "French Guyana"
(460 real changes made)

.                                 replace country = "Macau" if country == "China, Macao SAR"
(240 real changes made)

.                                 replace country = "Côte D'Ivoire" if country=="Côte d'Ivoire"
(720 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(660 real changes made)

.                                 replace country = "Palestine, State of" if country == "Palestine"
(297 real changes made)

.                                 replace country = "Reunion" if country == "Réunion"
(506 real changes made)

.                                 replace country = "Wallis and Futuna" if country == "Wallis and Futuna Islands"
(0 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(613 real changes made)

.                                 replace country = "Türkiye" if country == "T?rkiye"
(0 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea" 
(660 real changes made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         2,605
        from master                     2,558  (_merge==1)
        from using                         47  (_merge==2)

    Matched                           117,008  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(2,605 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            87
        from master                         0  (_merge==1)
        from using                         87  (_merge==2)

    Matched                           117,008  (_merge==3)
    -----------------------------------------

.                         browse if _merge != 3

.                                         drop if _merge != 3
(87 observations deleted)

.                                         drop _merge

.                                 ren product2 product

.                                 tab product, sum(product)

            |           Summary of Item
       Item |        Mean   Std. dev.       Freq.
------------+------------------------------------
  Cereals,  |           1           0       9,831
  Citrus Fr |           2           0       7,686
  Fruit Pri |           3           0      10,856
  Hen eggs  |           4           0      10,797
  Meat of c |           5           0      10,709
  Meat of c |           6           0      10,832
  Meat of p |           7           0       9,806
  Pulses, T |           8           0       9,232
  Raw milk  |           9           0      10,226
  Roots and |          10           0      10,777
  Treenuts, |          11           0       5,490
  Vegetable |          12           0      10,766
------------+------------------------------------
      Total |   6.4216122   3.3785385     117,008

.                                 rename production prod

.                                 reshape wide prod prod_unit yield yield_unit, i(country year) j(product)
(j = 1 2 3 4 5 6 7 8 9 10 11 12)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations          117,008   ->   11,014      
Number of variables                  23   ->   66          
j variable (12 values)          product   ->   (dropped)
xij variables:
                                   prod   ->   prod1 prod2 ... prod12
                              prod_unit   ->   prod_unit1 prod_unit2 ... prod_unit12
                                  yield   ->   yield1 yield2 ... yield12
                             yield_unit   ->   yield_unit1 yield_unit2 ... yield_unit12
-----------------------------------------------------------------------------

.                                 ren (*10 *11 *12) (*_roottuber *_treenuts *_vegetables)                         

.                                 ren (*1 *2 *3 *4 *5 *6 *7 *8 *9) (*_cereals *_citrus *_fruit *_eggs *_beef *_chickenmeat *_pork  *_pulses *_cowmilk)

.                                 lab var yield_cereals "Cereal yield, total (tonnes/ha)"

.                                 lab var yield_citrus "Citrus fruit yield, total (tonnes/ha)"

.                                 lab var yield_eggs "Eggs yield, primary (kg/animal)"

.                                 lab var yield_fruit "Fruit yield, primary (tonnes/ha)"

.                                 lab var yield_cowmilk "Milk yield, total (kg/animal)"

.                                 lab var yield_pulses "Pulses yield, total (kg/ha)"

.                                 lab var yield_roottuber "Roots & tubers yield, total (kg/ha)"

.                                 lab var yield_treenuts "Treenuts yield, total (kg/ha)"

.                                 lab var yield_vegetables "Vegetables yield, primary (kg/ha)"

.                                 lab var yield_beef "Beef (meat) yield, primary (kg/animal)"

.                                 lab var yield_chickenmeat "Chicken (meat) yield, primary (kg/animal)"

.                                 lab var yield_pork "Pork (meat) yield, primary (kg/animal)"

.                                 foreach v of varlist prod_* {
  2.                                         lab var `v' "Total production (tonnes)"
  3.                                 } 

. 
.                                 drop *_unit*

. 
.                 // Save
.                 save yield, replace
file yield.dta saved

.                 export delimited using yield, replace
file yield.csv saved

.         
.         
. ** LAND ************************************************************************
. 
. **# Cropland expansion
. * NOTE: See methodology, the raw data are available in .tif format. QGIS was used to convert these data to a spreadsheet using code (Python) available here: [
> LINK GITHUB CODE]
.                 import delimited using "$datain\Global_cropland_2003", clear
(encoding automatically selected: UTF-8)
(9 vars, 256 obs)

.                         keep iso3 name _mean

.                         ren _mean croplandcov

.                         lab var croplandcov "Mean cropland cover (%)"

.                         gen year = 2003

.                                 tempfile cl2003

.                                 save `cl2003', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000009.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000009.tmp saved as .dta format

.                         import delimited using "$datain\Global_cropland_2007", clear
(encoding automatically selected: UTF-8)
(9 vars, 256 obs)

.                         keep iso3 name _mean

.                         ren _mean croplandcov

.                         lab var croplandcov "Mean cropland cover (%)"

.                         gen year = 2007

.                                 tempfile cl2007

.                                 save `cl2007', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000a.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000a.tmp saved as .dta format

.                         import delimited using "$datain\Global_cropland_2011", clear
(encoding automatically selected: UTF-8)
(9 vars, 256 obs)

.                         keep iso3 name _mean

.                         ren _mean croplandcov

.                         lab var croplandcov "Mean cropland cover (%)"

.                         gen year = 2011

.                                 tempfile cl2011

.                                 save `cl2011', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000b.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000b.tmp saved as .dta format

.                         import delimited using "$datain\Global_cropland_2015", clear
(encoding automatically selected: UTF-8)
(9 vars, 256 obs)

.                         keep iso3 name _mean

.                         ren _mean croplandcov

.                         lab var croplandcov "Mean cropland cover (%)"

.                         gen year = 2015

.                                 tempfile cl2015

.                                 save `cl2015', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000c.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000c.tmp saved as .dta format

.                         import delimited using "$datain\Global_cropland_2019", clear
(encoding automatically selected: UTF-8)
(9 vars, 256 obs)

.                         keep iso3 name _mean

.                         ren _mean croplandcov

.                         lab var croplandcov "Mean cropland cover (%)"

.                         gen year = 2019

.                                 tempfile cl2019

.                                 save `cl2019', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000d.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000d.tmp saved as .dta format

.                         use `cl2003', clear

.                         append using `cl2007'

.                         append using `cl2011'

.                         append using `cl2015'

.                         append using `cl2019'

.                         ren iso3 ISO

.                                 
.                                 // Merge in country classification
.                                 ren name country

.                                 replace ISO = "GGY" if country == "Guernsey"
(5 real changes made)

.                                 replace ISO = "JEY" if country == "Jersey"
(5 real changes made)

.                                 replace ISO = "SGS" if country == "South Georgia & the South Sandwich Islands"
(5 real changes made)

.                                 replace ISO = "IMN" if country == "Isle of Man"
(5 real changes made)

.                                 replace ISO = "" if country == "Azores Islands"
(5 real changes made)

.                                 replace ISO = "" if country == "Gaza Strip"
(5 real changes made)

.                                 replace ISO = "" if country == "Netherlands Antilles"
(5 real changes made)

.                                 replace ISO = "" if country == "West Bank"
(5 real changes made)

.                                 
.                                 replace country = "Antigua and Barbuda" if country == "Antigua & Barbuda"
(5 real changes made)

.                                 replace country = "Bosnia and Herzegovina" if country == "Bosnia & Herzegovina"
(5 real changes made)

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(5 real changes made)

.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(5 real changes made)

.                                 replace country = "Cabo Verde" if country == "Cape Verde"
(5 real changes made)

.                                 replace country = "Czechia" if country == "Czech Republic"
(5 real changes made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "U.K. of Great Britain and Northern Ire
> land"
variable country was str42 now str52
(5 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(5 real changes made)

.                                 replace country = "Libya" if country == "Libyan Arab Jamahiriya"
(5 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova, Republic of"
(5 real changes made)

.                                 replace country = "North Macedonia" if country == "The former Yugoslav Republic of Macedonia"
(5 real changes made)

.                                 replace country = "Eswatini" if country == "Swaziland"
(5 real changes made)

.                                 replace country = "Türkiye" if country == "Turkey"
(5 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela"
(5 real changes made)

.                                 replace country = "Viet Nam" if country == "Vietnam"
(5 real changes made)

.                                 replace country = "South Georgia and the South Sandwich Islands" if country == "South Georgia & the South Sandwich Islands"
(5 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(5 real changes made)

.                                 replace country = "Midway Island" if country == "Midway Is."
(5 real changes made)

.                                 replace country = "Macau" if country == "Macao"
(5 real changes made)

.                                 replace country = "Hala'ib triangle" if country == "Hala'ib Triangle"
(5 real changes made)

.                                 replace country = "Ilemi triangle" if country == "Ilemi Triangle"
(5 real changes made)

.                                 replace country = "Glorioso Island" if country == "Glorioso Islands"
(5 real changes made)

.                                 replace country = "Pitcairn" if country == "Pitcairn Island"
(5 real changes made)

.                                 replace country = "Kuril islands" if country == "Kuril Islands"
(5 real changes made)

.                                 replace country = "Jammu and Kashmir" if country == "Jammu-Kashmir"
(5 real changes made)

.                                 replace ISO = "PSE" if country == "Gaza Strip"
(5 real changes made)

.                                 replace ISO = "PSE" if country == "West Bank"
(5 real changes made)

.                                 merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            45
        from master                        10  (_merge==1)
        from using                         35  (_merge==2)

    Matched                             1,270  (_merge==3)
    -----------------------------------------

.                                         browse if _merge!=3

.                                                 * Drop Abyei, Guantanamo
.                                         drop if _merge != 3 
(45 observations deleted)

.                                 drop _merge

.                                 sort ISO year

.                                 unique ISO year
Number of unique values of ISO year is  1195
Number of records is  1270

. 
.                         // Generate relative change
.                                 reshape wide croplandcov, i(ISO country) j(year)
(j = 2003 2007 2011 2015 2019)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations            1,270   ->   254         
Number of variables                  19   ->   22          
j variable (5 values)              year   ->   (dropped)
xij variables:
                            croplandcov   ->   croplandcov2003 croplandcov2007 ... croplandcov2019
-----------------------------------------------------------------------------

.                                 gen relchange2007 = ((croplandcov2007 - croplandcov2003) / croplandcov2003)*100
(59 missing values generated)

.                                 gen relchange2011 = ((croplandcov2011 - croplandcov2007) / croplandcov2007)*100
(63 missing values generated)

.                                 gen relchange2015 = ((croplandcov2015 - croplandcov2011) / croplandcov2011)*100
(63 missing values generated)

.                                 gen relchange2019 = ((croplandcov2019 - croplandcov2015) / croplandcov2015)*100
(60 missing values generated)

.                                 reshape long croplandcov relchange, i(ISO country) j(year)
(j = 2003 2007 2011 2015 2019)
(variable relchange2003 not found)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              254   ->   1,270       
Number of variables                  26   ->   20          
j variable (5 values)                     ->   year
xij variables:
croplandcov2003 croplandcov2007 ... croplandcov2019->croplandcov
relchange2003 relchange2007 ... relchange2019->relchange
-----------------------------------------------------------------------------

.                                 gen relativeto = .
(1,270 missing values generated)

.                                 replace relativeto = 2003 if year == 2007
(254 real changes made)

.                                 replace relativeto = 2007 if year == 2011
(254 real changes made)

.                                 replace relativeto = 2011 if year == 2015
(254 real changes made)

.                                 replace relativeto = 2015 if year == 2019
(254 real changes made)

.                                 lab var relchange "Relative change from previous period (%)"

.                                 lab var relativeto "Reference year of relevant change (prior period)"

.                                 gen yearrange = "2003-2007" if year == 2007
(1,016 missing values generated)

.                                 replace yearrange = "2007-2011" if year == 2011
(254 real changes made)

.                                 replace yearrange = "2011-2015" if year == 2015
(254 real changes made)

.                                 replace yearrange = "2015-2019" if year == 2019
(254 real changes made)

.                                 preserve

.                                         keep if inlist(year,2003,2019)
(762 observations deleted)

.                                         drop relchange relativeto yearrange incgrp wb_region

.                                         reshape wide croplandcov, i(ISO country) j(year)
(j = 2003 2019)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations              508   ->   254         
Number of variables                  17   ->   17          
j variable (2 values)              year   ->   (dropped)
xij variables:
                            croplandcov   ->   croplandcov2003 croplandcov2019
-----------------------------------------------------------------------------

.                                         gen ttlcropchange = ((croplandcov2019 - croplandcov2003) / croplandcov2003)*100
(59 missing values generated)

.                                         lab var ttlcropchange "Total change in cropland cover 2003-2019 (%)"

.                                                 tempfile totalchange

.                                                 save `totalchange'
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000f.tmp saved as .dta format

.                                 restore

.                                 merge m:1 ISO country using `totalchange', keepusing(ttlcropchange)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                             1,270  (_merge==3)
    -----------------------------------------

.                                 drop _merge

.                         
.                         // Save 
.                         save croplandexpansion, replace
file croplandexpansion.dta saved

.                         export delimited croplandexpansion, replace
file croplandexpansion.csv saved

.         
.                         // Save file collapsed to one data point per country with total land change over 2003-2019 period
.                                 // Save labels
.                                         foreach v of var * {
  2.                                         local l`v' : variable label `v'
  3.                                                 if `"`l`v''"' == "" {
  4.                                                 local l`v' "`v'"
  5.                                                 }
  6.                                         }

.                                         collapse (first) ttlcropchange yearrange incgrp wb_region ISO_governing UNmemberstate m49_code UN_continental_region U
> N_subregion UN_intermediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code, by(ISO country)

.                                         // Relabel
.                                                 foreach v of var * {
  2.                                                 label var `v' "`l`v''"
  3.                                                         }

.                                         lab val wb_region wb_region

.                                         replace yearrange = "2003-2019"
(254 real changes made)

.                                         gen year = 2019

.                         
.                         // Save 
.                         save croplandexpansion_total, replace
file croplandexpansion_total.dta saved

.                         export delimited croplandexpansion_total, replace
file croplandexpansion_total.csv saved

. 
. ** WATER ***********************************************************************
. 
. **# Agricultural water withdrawal as % of total renewable resources (AQUASTAT)
.                 import delimited "$datain\AQUASTAT_WaterPressure_1982-2018.csv", clear
(encoding automatically selected: UTF-8)
(9 vars, 1,272 obs)

.                         gen ISO=substr(area,1,3)
(2 missing values generated)

.                         tab ISO

        ISO |      Freq.     Percent        Cum.
------------+-----------------------------------
            |          1        0.08        0.08
        #NA |          4        0.31        0.39
        (c) |          1        0.08        0.47
        AFG |          8        0.63        1.10
        AGO |          8        0.63        1.73
        ALB |          7        0.55        2.28
        ARE |          9        0.71        2.99
        ARG |          6        0.47        3.46
        ARM |          6        0.47        3.94
        ATG |          7        0.55        4.49
        AUS |          6        0.47        4.96
        AUT |          9        0.71        5.67
        AZE |          7        0.55        6.22
        BDI |          8        0.63        6.85
        BEL |          9        0.71        7.56
        BEN |          8        0.63        8.19
        BFA |          8        0.63        8.82
        BGD |          3        0.24        9.06
        BGR |          7        0.55        9.61
        BHR |          7        0.55       10.16
        BLR |          6        0.47       10.63
        BLZ |          8        0.63       11.26
        BOL |          8        0.63       11.89
        BRA |          6        0.47       12.36
        BRB |          7        0.55       12.91
        BRN |          6        0.47       13.39
        BTN |          3        0.24       13.62
        BWA |          7        0.55       14.17
        CAF |          8        0.63       14.80
        CAN |          7        0.55       15.35
        CHE |          5        0.39       15.75
        CHL |          7        0.55       16.30
        CHN |          9        0.71       17.01
        CIV |          8        0.63       17.64
        CMR |          8        0.63       18.27
        COD |          6        0.47       18.74
        COG |          8        0.63       19.37
        COL |          6        0.47       19.84
        COM |          5        0.39       20.24
        CPV |          7        0.55       20.79
        CRI |          3        0.24       21.02
        CUB |          6        0.47       21.50
        CYP |         10        0.79       22.28
        CZE |          6        0.47       22.76
        DEU |          7        0.55       23.31
        DJI |          8        0.63       23.94
        DMA |          3        0.24       24.17
        DNK |         11        0.87       25.04
        DOM |          6        0.47       25.51
        DZA |          9        0.71       26.22
        ECU |          5        0.39       26.61
        EGY |          6        0.47       27.09
        ERI |          5        0.39       27.48
        ESP |          8        0.63       28.11
        EST |          6        0.47       28.58
        ETH |          5        0.39       28.98
        FAO |          1        0.08       29.06
        FIN |          7        0.55       29.61
        FJI |          8        0.63       30.24
        FRA |          7        0.55       30.79
        GAB |          8        0.63       31.42
        GBR |          7        0.55       31.97
        GEO |          7        0.55       32.52
        GHA |         11        0.87       33.39
        GIN |          8        0.63       34.02
        GMB |          9        0.71       34.72
        GNB |          7        0.55       35.28
        GNQ |          8        0.63       35.91
        GRC |         11        0.87       36.77
        GRD |          6        0.47       37.24
        GTM |          7        0.55       37.80
        GUY |          7        0.55       38.35
        HND |          7        0.55       38.90
        HRV |          5        0.39       39.29
        HTI |          7        0.55       39.84
        HUN |         11        0.87       40.71
        IDN |          7        0.55       41.26
        IND |         10        0.79       42.05
        IRL |         11        0.87       42.91
        IRN |          6        0.47       43.39
        IRQ |         10        0.79       44.17
        ISL |          9        0.71       44.88
        ISR |         11        0.87       45.75
        ITA |         11        0.87       46.61
        JAM |          6        0.47       47.09
        JOR |         10        0.79       47.87
        JPN |          9        0.71       48.58
        KAZ |          6        0.47       49.06
        KEN |          7        0.55       49.61
        KGZ |          6        0.47       50.08
        KHM |          4        0.31       50.39
        KNA |          6        0.47       50.87
        KOR |          7        0.55       51.42
        KWT |          6        0.47       51.89
        LAO |          4        0.31       52.20
        LBN |         10        0.79       52.99
        LBR |          8        0.63       53.62
        LBY |          8        0.63       54.25
        LCA |          4        0.31       54.57
        LKA |          7        0.55       55.12
        LSO |          8        0.63       55.75
        LTU |          6        0.47       56.22
        LUX |          6        0.47       56.69
        LVA |          6        0.47       57.17
        MAR |          7        0.55       57.72
        MDA |          7        0.55       58.27
        MDG |          8        0.63       58.90
        MDV |          8        0.63       59.53
        MEX |          6        0.47       60.00
        MKD |          6        0.47       60.47
        MLI |          8        0.63       61.10
        MLT |          6        0.47       61.57
        MMR |          8        0.63       62.20
        MNG |          6        0.47       62.68
        MOZ |          7        0.55       63.23
        MRT |          9        0.71       63.94
        MUS |         10        0.79       64.72
        MWI |          6        0.47       65.20
        MYS |          7        0.55       65.75
        NAM |          8        0.63       66.38
        NER |          7        0.55       66.93
        NGA |          8        0.63       67.56
        NIC |          5        0.39       67.95
        NLD |          7        0.55       68.50
        NOR |          6        0.47       68.98
        NPL |          5        0.39       69.37
        NZL |          8        0.63       70.00
        OMN |          7        0.55       70.55
        PAK |         10        0.79       71.34
        PAN |          3        0.24       71.57
        PER |          7        0.55       72.13
        PHL |          4        0.31       72.44
        PNG |          5        0.39       72.83
        POL |         11        0.87       73.70
        PRI |          7        0.55       74.25
        PRK |          6        0.47       74.72
        PRT |          7        0.55       75.28
        PRY |          8        0.63       75.91
        PSE |          5        0.39       76.30
        QAT |          6        0.47       76.77
        ROU |         11        0.87       77.64
        RUS |          6        0.47       78.11
        RWA |          5        0.39       78.50
        SAU |          7        0.55       79.06
        SDN |          3        0.24       79.29
        SEN |          8        0.63       79.92
        SGP |         10        0.79       80.71
        SLE |          8        0.63       81.34
        SLV |          7        0.55       81.89
        SOM |          8        0.63       82.52
        SRB |          4        0.31       82.83
        SSD |          3        0.24       83.07
        STP |          2        0.16       83.23
        SUR |          8        0.63       83.86
        SVK |          6        0.47       84.33
        SVN |          7        0.55       84.88
        SWE |         11        0.87       85.75
        SWZ |          9        0.71       86.46
        SYR |          6        0.47       86.93
        TCD |          8        0.63       87.56
        TGO |          8        0.63       88.19
        THA |          4        0.31       88.50
        TJK |          6        0.47       88.98
        TKM |          6        0.47       89.45
        TLS |          4        0.31       89.76
        TTO |          6        0.47       90.24
        TUN |          7        0.55       90.79
        TUR |          7        0.55       91.34
        TZA |          6        0.47       91.81
        The |          1        0.08       91.89
        UGA |         11        0.87       92.76
        UKR |          7        0.55       93.31
        URY |         12        0.94       94.25
        USA |         11        0.87       95.12
        UZB |          6        0.47       95.59
        VCT |          7        0.55       96.14
        VEN |         11        0.87       97.01
        VNM |          9        0.71       97.72
        YEM |          7        0.55       98.27
        ZAF |          7        0.55       98.82
        ZMB |          7        0.55       99.37
        ZWE |          8        0.63      100.00
------------+-----------------------------------
      Total |      1,270      100.00

.                         browse

.                         drop in 1263/1272 // footnote and empbty rows impored from csv
(10 observations deleted)

.                         gen country=substr(area,5,.)

.                         tab country

                              country |      Freq.     Percent        Cum.
--------------------------------------+-----------------------------------
                          Afghanistan |          8        0.63        0.63
                              Albania |          7        0.55        1.19
                              Algeria |          9        0.71        1.90
                               Angola |          8        0.63        2.54
                  Antigua and Barbuda |          7        0.55        3.09
                            Argentina |          6        0.48        3.57
                              Armenia |          6        0.48        4.04
                            Australia |          6        0.48        4.52
                              Austria |          9        0.71        5.23
                           Azerbaijan |          7        0.55        5.78
                              Bahrain |          7        0.55        6.34
                           Bangladesh |          3        0.24        6.58
                             Barbados |          7        0.55        7.13
                              Belarus |          6        0.48        7.61
                              Belgium |          9        0.71        8.32
                               Belize |          8        0.63        8.95
                                Benin |          8        0.63        9.59
                               Bhutan |          3        0.24        9.83
     Bolivia (Plurinational State of) |          8        0.63       10.46
                             Botswana |          7        0.55       11.01
                               Brazil |          6        0.48       11.49
                    Brunei Darussalam |          6        0.48       11.97
                             Bulgaria |          7        0.55       12.52
                         Burkina Faso |          8        0.63       13.15
                              Burundi |          8        0.63       13.79
                           Cabo Verde |          7        0.55       14.34
                             Cambodia |          4        0.32       14.66
                             Cameroon |          8        0.63       15.29
                               Canada |          7        0.55       15.85
             Central African Republic |          8        0.63       16.48
                                 Chad |          8        0.63       17.12
                                Chile |          7        0.55       17.67
                                China |          9        0.71       18.38
                             Colombia |          6        0.48       18.86
                              Comoros |          5        0.40       19.26
                                Congo |          8        0.63       19.89
                           Costa Rica |          3        0.24       20.13
                              Croatia |          5        0.40       20.52
                                 Cuba |          6        0.48       21.00
                               Cyprus |         10        0.79       21.79
                              Czechia |          6        0.48       22.27
                        Côte d'Ivoire |          8        0.63       22.90
Democratic People's Republic of Korea |          6        0.48       23.38
     Democratic Republic of the Congo |          6        0.48       23.85
                              Denmark |         11        0.87       24.72
                             Djibouti |          8        0.63       25.36
                             Dominica |          3        0.24       25.59
                   Dominican Republic |          6        0.48       26.07
                              Ecuador |          5        0.40       26.47
                                Egypt |          6        0.48       26.94
                          El Salvador |          7        0.55       27.50
                    Equatorial Guinea |          8        0.63       28.13
                              Eritrea |          5        0.40       28.53
                              Estonia |          6        0.48       29.00
                             Eswatini |          9        0.71       29.71
                             Ethiopia |          5        0.40       30.11
                                 Fiji |          8        0.63       30.74
                              Finland |          7        0.55       31.30
                               France |          7        0.55       31.85
                                Gabon |          8        0.63       32.49
                               Gambia |          9        0.71       33.20
                              Georgia |          7        0.55       33.76
                              Germany |          7        0.55       34.31
                                Ghana |         11        0.87       35.18
                               Greece |         11        0.87       36.05
                              Grenade |          6        0.48       36.53
                            Guatemala |          7        0.55       37.08
                               Guinea |          8        0.63       37.72
                        Guinea-Bissau |          7        0.55       38.27
                               Guyana |          7        0.55       38.83
                                Haiti |          7        0.55       39.38
                             Honduras |          7        0.55       39.94
                              Hungary |         11        0.87       40.81
                              Iceland |          9        0.71       41.52
                                India |         10        0.79       42.31
                            Indonesia |          7        0.55       42.87
           Iran (Islamic Republic of) |          6        0.48       43.34
                                 Iraq |         10        0.79       44.14
                              Ireland |         11        0.87       45.01
                               Israel |         11        0.87       45.88
                                Italy |         11        0.87       46.75
                              Jamaica |          6        0.48       47.23
                                Japan |          9        0.71       47.94
                               Jordan |         10        0.79       48.73
                           Kazakhstan |          6        0.48       49.21
                                Kenya |          7        0.55       49.76
                               Kuwait |          6        0.48       50.24
                           Kyrgyzstan |          6        0.48       50.71
     Lao People's Democratic Republic |          4        0.32       51.03
                               Latvia |          6        0.48       51.51
                              Lebanon |         10        0.79       52.30
                              Lesotho |          8        0.63       52.93
                              Liberia |          8        0.63       53.57
                                Libya |          8        0.63       54.20
                            Lithuania |          6        0.48       54.68
                           Luxembourg |          6        0.48       55.15
                           Madagascar |          8        0.63       55.78
                               Malawi |          6        0.48       56.26
                             Malaysia |          7        0.55       56.81
                             Maldives |          8        0.63       57.45
                                 Mali |          8        0.63       58.08
                                Malta |          6        0.48       58.56
                           Mauritania |          9        0.71       59.27
                            Mauritius |         10        0.79       60.06
                               Mexico |          6        0.48       60.54
                             Mongolia |          6        0.48       61.01
                              Morocco |          7        0.55       61.57
                           Mozambique |          7        0.55       62.12
                              Myanmar |          8        0.63       62.76
                              Namibia |          8        0.63       63.39
                                Nepal |          5        0.40       63.79
                          Netherlands |          7        0.55       64.34
                          New Zealand |          8        0.63       64.98
                            Nicaragua |          5        0.40       65.37
                                Niger |          7        0.55       65.93
                              Nigeria |          8        0.63       66.56
                      North Macedonia |          6        0.48       67.04
                               Norway |          6        0.48       67.51
                                 Oman |          7        0.55       68.07
                             Pakistan |         10        0.79       68.86
                            Palestine |          5        0.40       69.26
                               Panama |          3        0.24       69.49
                     Papua New Guinea |          5        0.40       69.89
                             Paraguay |          8        0.63       70.52
                                 Peru |          7        0.55       71.08
                          Philippines |          4        0.32       71.39
                               Poland |         11        0.87       72.27
                             Portugal |          7        0.55       72.82
                          Puerto Rico |          7        0.55       73.38
                                Qatar |          6        0.48       73.85
                    Republic of Korea |          7        0.55       74.41
                  Republic of Moldova |          7        0.55       74.96
                              Romania |         11        0.87       75.83
                   Russian Federation |          6        0.48       76.31
                               Rwanda |          5        0.40       76.70
                Saint Kitts and Nevis |          6        0.48       77.18
                          Saint Lucia |          4        0.32       77.50
     Saint Vincent and the Grenadines |          7        0.55       78.05
                Sao Tome and Principe |          2        0.16       78.21
                         Saudi Arabia |          7        0.55       78.76
                              Senegal |          8        0.63       79.40
                               Serbia |          4        0.32       79.71
                         Sierra Leone |          8        0.63       80.35
                            Singapore |         10        0.79       81.14
                             Slovakia |          6        0.48       81.62
                             Slovenia |          7        0.55       82.17
                              Somalia |          8        0.63       82.81
                         South Africa |          7        0.55       83.36
                          South Sudan |          3        0.24       83.60
                                Spain |          8        0.63       84.23
                            Sri Lanka |          7        0.55       84.79
                                Sudan |          3        0.24       85.02
                             Suriname |          8        0.63       85.66
                               Sweden |         11        0.87       86.53
                          Switzerland |          5        0.40       86.93
                 Syrian Arab Republic |          6        0.48       87.40
                           Tajikistan |          6        0.48       87.88
                             Thailand |          4        0.32       88.19
                          Timor-Leste |          4        0.32       88.51
                                 Togo |          8        0.63       89.14
                  Trinidad and Tobago |          6        0.48       89.62
                              Tunisia |          7        0.55       90.17
                               Turkey |          7        0.55       90.73
                         Turkmenistan |          6        0.48       91.20
                               Uganda |         11        0.87       92.08
                              Ukraine |          7        0.55       92.63
                 United Arab Emirates |          9        0.71       93.34
                       United Kingdom |          7        0.55       93.90
          United Republic of Tanzania |          6        0.48       94.37
             United States of America |         11        0.87       95.25
                              Uruguay |         12        0.95       96.20
                           Uzbekistan |          6        0.48       96.67
   Venezuela (Bolivarian Republic of) |         11        0.87       97.54
                             Viet Nam |          9        0.71       98.26
                                Yemen |          7        0.55       98.81
                               Zambia |          7        0.55       99.37
                             Zimbabwe |          8        0.63      100.00
--------------------------------------+-----------------------------------
                                Total |      1,262      100.00

.                         drop area areaid variableid symbol md v9

.                         ren value agwaterdraw

.                         lab var agwaterdraw "Agricultural water withdrawal as % of total renewable resources"

.                                 
.                                 // Merge in country classification
.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom"
variable country was str37 now str52
(7 real changes made)

.                                 replace country = "Grenada" if country == "Grenade"
(6 real changes made)

.                                 replace country = "Palestine, State of" if country == "Palestine"
(5 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(11 real changes made)

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(0 real changes made)

.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(8 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(9 real changes made)

.                                 replace country = "Türkiye" if country == "Turkey"
(7 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea" 
(6 real changes made)

.                                 merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           112
        from master                         0  (_merge==1)
        from using                        112  (_merge==2)

    Matched                             1,262  (_merge==3)
    -----------------------------------------

.                                         browse if _merge!=3 

.                                 drop if _merge != 3 
(112 observations deleted)

.                                 drop _merge

.                                 sort ISO year

.                                 drop variablename

.                                 order ISO country year agwaterdraw wb_region incgrp

.                                 tab country

                                country |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                            Afghanistan |          8        0.63        0.63
                                Albania |          7        0.55        1.19
                                Algeria |          9        0.71        1.90
                                 Angola |          8        0.63        2.54
                    Antigua and Barbuda |          7        0.55        3.09
                              Argentina |          6        0.48        3.57
                                Armenia |          6        0.48        4.04
                              Australia |          6        0.48        4.52
                                Austria |          9        0.71        5.23
                             Azerbaijan |          7        0.55        5.78
                                Bahrain |          7        0.55        6.34
                             Bangladesh |          3        0.24        6.58
                               Barbados |          7        0.55        7.13
                                Belarus |          6        0.48        7.61
                                Belgium |          9        0.71        8.32
                                 Belize |          8        0.63        8.95
                                  Benin |          8        0.63        9.59
                                 Bhutan |          3        0.24        9.83
       Bolivia (Plurinational State of) |          8        0.63       10.46
                               Botswana |          7        0.55       11.01
                                 Brazil |          6        0.48       11.49
                      Brunei Darussalam |          6        0.48       11.97
                               Bulgaria |          7        0.55       12.52
                           Burkina Faso |          8        0.63       13.15
                                Burundi |          8        0.63       13.79
                             Cabo Verde |          7        0.55       14.34
                               Cambodia |          4        0.32       14.66
                               Cameroon |          8        0.63       15.29
                                 Canada |          7        0.55       15.85
               Central African Republic |          8        0.63       16.48
                                   Chad |          8        0.63       17.12
                                  Chile |          7        0.55       17.67
                                  China |          9        0.71       18.38
                               Colombia |          6        0.48       18.86
                                Comoros |          5        0.40       19.26
                                  Congo |          8        0.63       19.89
                             Costa Rica |          3        0.24       20.13
                                Croatia |          5        0.40       20.52
                                   Cuba |          6        0.48       21.00
                                 Cyprus |         10        0.79       21.79
                                Czechia |          6        0.48       22.27
                          Côte D'Ivoire |          8        0.63       22.90
              Dem People's Rep of Korea |          6        0.48       23.38
       Democratic Republic of the Congo |          6        0.48       23.85
                                Denmark |         11        0.87       24.72
                               Djibouti |          8        0.63       25.36
                               Dominica |          3        0.24       25.59
                     Dominican Republic |          6        0.48       26.07
                                Ecuador |          5        0.40       26.47
                                  Egypt |          6        0.48       26.94
                            El Salvador |          7        0.55       27.50
                      Equatorial Guinea |          8        0.63       28.13
                                Eritrea |          5        0.40       28.53
                                Estonia |          6        0.48       29.00
                               Eswatini |          9        0.71       29.71
                               Ethiopia |          5        0.40       30.11
                                   Fiji |          8        0.63       30.74
                                Finland |          7        0.55       31.30
                                 France |          7        0.55       31.85
                                  Gabon |          8        0.63       32.49
               Gambia (Republic of The) |          9        0.71       33.20
                                Georgia |          7        0.55       33.76
                                Germany |          7        0.55       34.31
                                  Ghana |         11        0.87       35.18
                                 Greece |         11        0.87       36.05
                                Grenada |          6        0.48       36.53
                              Guatemala |          7        0.55       37.08
                                 Guinea |          8        0.63       37.72
                          Guinea-Bissau |          7        0.55       38.27
                                 Guyana |          7        0.55       38.83
                                  Haiti |          7        0.55       39.38
                               Honduras |          7        0.55       39.94
                                Hungary |         11        0.87       40.81
                                Iceland |          9        0.71       41.52
                                  India |         10        0.79       42.31
                              Indonesia |          7        0.55       42.87
             Iran (Islamic Republic of) |          6        0.48       43.34
                                   Iraq |         10        0.79       44.14
                                Ireland |         11        0.87       45.01
                                 Israel |         11        0.87       45.88
                                  Italy |         11        0.87       46.75
                                Jamaica |          6        0.48       47.23
                                  Japan |          9        0.71       47.94
                                 Jordan |         10        0.79       48.73
                             Kazakhstan |          6        0.48       49.21
                                  Kenya |          7        0.55       49.76
                                 Kuwait |          6        0.48       50.24
                             Kyrgyzstan |          6        0.48       50.71
       Lao People's Democratic Republic |          4        0.32       51.03
                                 Latvia |          6        0.48       51.51
                                Lebanon |         10        0.79       52.30
                                Lesotho |          8        0.63       52.93
                                Liberia |          8        0.63       53.57
                                  Libya |          8        0.63       54.20
                              Lithuania |          6        0.48       54.68
                             Luxembourg |          6        0.48       55.15
                             Madagascar |          8        0.63       55.78
                                 Malawi |          6        0.48       56.26
                               Malaysia |          7        0.55       56.81
                               Maldives |          8        0.63       57.45
                                   Mali |          8        0.63       58.08
                                  Malta |          6        0.48       58.56
                             Mauritania |          9        0.71       59.27
                              Mauritius |         10        0.79       60.06
                                 Mexico |          6        0.48       60.54
                               Mongolia |          6        0.48       61.01
                                Morocco |          7        0.55       61.57
                             Mozambique |          7        0.55       62.12
                                Myanmar |          8        0.63       62.76
                                Namibia |          8        0.63       63.39
                                  Nepal |          5        0.40       63.79
                            Netherlands |          7        0.55       64.34
                            New Zealand |          8        0.63       64.98
                              Nicaragua |          5        0.40       65.37
                                  Niger |          7        0.55       65.93
                                Nigeria |          8        0.63       66.56
                        North Macedonia |          6        0.48       67.04
                                 Norway |          6        0.48       67.51
                                   Oman |          7        0.55       68.07
                               Pakistan |         10        0.79       68.86
                    Palestine, State of |          5        0.40       69.26
                                 Panama |          3        0.24       69.49
                       Papua New Guinea |          5        0.40       69.89
                               Paraguay |          8        0.63       70.52
                                   Peru |          7        0.55       71.08
                            Philippines |          4        0.32       71.39
                                 Poland |         11        0.87       72.27
                               Portugal |          7        0.55       72.82
                            Puerto Rico |          7        0.55       73.38
                                  Qatar |          6        0.48       73.85
                      Republic of Korea |          7        0.55       74.41
                    Republic of Moldova |          7        0.55       74.96
                                Romania |         11        0.87       75.83
                     Russian Federation |          6        0.48       76.31
                                 Rwanda |          5        0.40       76.70
                  Saint Kitts and Nevis |          6        0.48       77.18
                            Saint Lucia |          4        0.32       77.50
       Saint Vincent and the Grenadines |          7        0.55       78.05
                  Sao Tome and Principe |          2        0.16       78.21
                           Saudi Arabia |          7        0.55       78.76
                                Senegal |          8        0.63       79.40
                                 Serbia |          4        0.32       79.71
                           Sierra Leone |          8        0.63       80.35
                              Singapore |         10        0.79       81.14
                               Slovakia |          6        0.48       81.62
                               Slovenia |          7        0.55       82.17
                                Somalia |          8        0.63       82.81
                           South Africa |          7        0.55       83.36
                            South Sudan |          3        0.24       83.60
                                  Spain |          8        0.63       84.23
                              Sri Lanka |          7        0.55       84.79
                                  Sudan |          3        0.24       85.02
                               Suriname |          8        0.63       85.66
                                 Sweden |         11        0.87       86.53
                            Switzerland |          5        0.40       86.93
                   Syrian Arab Republic |          6        0.48       87.40
                             Tajikistan |          6        0.48       87.88
                               Thailand |          4        0.32       88.19
                            Timor-Leste |          4        0.32       88.51
                                   Togo |          8        0.63       89.14
                    Trinidad and Tobago |          6        0.48       89.62
                                Tunisia |          7        0.55       90.17
                           Turkmenistan |          6        0.48       90.65
                                Türkiye |          7        0.55       91.20
                                 Uganda |         11        0.87       92.08
                                Ukraine |          7        0.55       92.63
                   United Arab Emirates |          9        0.71       93.34
United Kingdom of Great Britain and N.. |          7        0.55       93.90
            United Republic of Tanzania |          6        0.48       94.37
               United States of America |         11        0.87       95.25
                                Uruguay |         12        0.95       96.20
                             Uzbekistan |          6        0.48       96.67
      Venezuela, Bolivarian Republic of |         11        0.87       97.54
                               Viet Nam |          9        0.71       98.26
                                  Yemen |          7        0.55       98.81
                                 Zambia |          7        0.55       99.37
                               Zimbabwe |          8        0.63      100.00
----------------------------------------+-----------------------------------
                                  Total |      1,262      100.00

. 
. ** Treatment of China???
. 
.                         // Save
.                         save agwaterdraw, replace
file agwaterdraw.dta saved

.                         export delimited agwaterdraw, replace
file agwaterdraw.csv saved

. 
.                         
. ** BIOSPHERE INTEGRITY *********************************************************
. 
. **# Functional integrity: % agricultural land with minimum level of natural habitat (DeClerck et al)
.                 import delimited using "$datain\Apex2021_FullTable_GAUL.csv", clear
(encoding automatically selected: ISO-8859-2)
(9 vars, 275 obs)

.                 ren adm0_name country

.                 lab var country "Country"

.                 foreach v in csiro68 ghm1 hfp4 lia ensb_thr3 natural integ1km10 {
  2.                         replace `v'="" if `v'=="NA"
  3.                 }
(14 real changes made)
(5 real changes made)
(42 real changes made)
(22 real changes made)
(47 real changes made)
(17 real changes made)
(9 real changes made)

.                 destring, replace
country: contains nonnumeric characters; no replace
csiro68: all characters numeric; replaced as double
(14 missing values generated)
ghm1: all characters numeric; replaced as double
(5 missing values generated)
hfp4: all characters numeric; replaced as double
(42 missing values generated)
lia: all characters numeric; replaced as double
(22 missing values generated)
ensb_thr3: all characters numeric; replaced as double
(47 missing values generated)
natural: all characters numeric; replaced as double
(17 missing values generated)
integ1km10: all characters numeric; replaced as double
(9 missing values generated)
areaha already numeric; no replace

.                 ren integ1km10 functionalintegrity

.                 lab var functionalintegrity "Share of agricultural land with an integrity value equal to or greater than 10% (%)"
note: label truncated to 80 characters

.                 drop csiro68 ghm1 hfp4 lia ensb_thr3 natural

.                 distinct country

         |        Observations
         |      total   distinct
---------+----------------------
 country |        275        274

.                 duplicates list country

Duplicates in terms of country

  +-----------------+
  | Obs     country |
  |-----------------|
  | 270   West Bank |
  | 271   West Bank |
  +-----------------+

.                 * note there are two records for West Bank that are not equal and a China/India record in addition to separate observations for each country
.                         drop if country=="West Bank" // exclude West Bank from analysis
(2 observations deleted)

. 
.                                         // Merge in country classification
.                                         replace country = "Lao People's Democratic Republic" if country=="Lao PDR"
(0 real changes made)

.                                         replace country = "Pitcairn" if country == "Pitcairn Island"
(0 real changes made)

.                                         replace country = "Reunion" if country == "Réunion"
(1 real change made)

.                                         replace country = "Turks and Caicos Islands" if country == "Turks and Caicos islands"
(1 real change made)

.                                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela"
(1 real change made)

.                                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(1 real change made)

.                                         replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(1 real change made)

.                                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(1 real change made)

.                                         replace country = "Türkiye" if country == "Turkey"
(1 real change made)

.                                         replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "U.K. of Great Britain and Nort
> hern Ireland"
variable country was str44 now str52
(1 real change made)

.                                         replace country = "Cabo Verde" if country == "Cape Verde"
(1 real change made)

.                                         replace country = "Czechia" if country == "Czech Republic"
(1 real change made)

.                                         replace country = "Republic of Moldova" if country == "Moldova, Republic of"
(1 real change made)

.                                         replace country = "Eswatini" if country == "Swaziland"
(1 real change made)

.                                         replace country = "North Macedonia" if country == "The former Yugoslav Republic of Macedonia"
(1 real change made)

.                                         replace country = "Iran (Islamic Republic of)" if country == "Iran  (Islamic Republic of)"
(1 real change made)

.                                         drop if functionalintegrity == .
(9 observations deleted)

.                                         merge 1:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            41
        from master                        28  (_merge==1)
        from using                         13  (_merge==2)

    Matched                               236  (_merge==3)
    -----------------------------------------

.                                         drop if _merge!=3
(41 observations deleted)

.                                         drop _merge 

.                                         merge 1:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            53
        from master                         0  (_merge==1)
        from using                         53  (_merge==2)

    Matched                               236  (_merge==3)
    -----------------------------------------

.                                                 browse if _merge!=3

.                                                         * Drop Abyei
.                                                 drop if _merge!=3
(53 observations deleted)

.                                                 drop _merge

.                                         gen year=2015

.                                         sort ISO year

.                                         replace ISO_governing = "JPN" if country == "Senkaku Islands"
(0 real changes made)

. 
.                         // Save
.                         save functionalintegrity, replace
file functionalintegrity.dta saved

.                         export delimited functionalintegrity, replace
file functionalintegrity.csv saved

. 
. **# Fishery health index progress score (Minderoo Foundation)
.                 import excel using "$datain\Global Fishing Index 2021 Data for Download V1.1.xlsx", sheet("Progress and Governance results") cellrange(A2:T144
> ) firstrow clear
(20 vars, 142 obs)

.                         ren Country country

.                         ren ISOCode ISO

.                         drop Region

.                         ren Progressscore fishhealth

.                                 lab var fishhealth "Fisheries health progress score"

.                         encode Progressscoreadjusted, gen(fishhealth_adj)

.                                 recode fishhealth_adj (1=0) (2=1)
(142 changes made to fishhealth_adj)

.                                 lab def yesno 0 "No" 1  "Yes", replace

.                                 lab val fishhealth_adj yesno

.                                 lab var fishhealth_adj "Indicates country with <10% of stocks assessed where fisheries health progress score has been capped a
> t global median."
note: label truncated to 80 characters

.                                         ** Note adjustment method: The country's Progress score was capped at the global median score (20.4 out of 100) ig les
> s than 10% of its national catch was assessed
.                                 drop Progressscoreadjusted

.                         gen year=2021

.                                 lab var year "Year"

.                                 
.                                 // Merge in country classification
.                                         replace country = "Micronesia (Federated States of)" if country == "Federated States of Micronesia"
(1 real change made)

.                                         replace country = "Iran (Islamic Republic of)" if country == "Islamic Republic of Iran"
(1 real change made)

.                                         replace country = "Pitcairn" if country == "Pitcairn Islands"
(1 real change made)

.                                         replace country = "Turks and Caicos Islands" if country == "Turks and Caicos Island"
(1 real change made)

.                                         replace country = "Taiwan" if country == "Taiwan (Province of China)"
(1 real change made)

.                                         replace country = "Wallis and Futuna" if country == "Wallis and Futuna Islands"
(1 real change made)

.                                         replace country = "Côte D'Ivoire" if ISO == "CIV"
(1 real change made)

.                                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(1 real change made)

.                                         replace country = "Türkiye" if country == "Turkey"
(1 real change made)

.                                         merge 1:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           147
        from master                         0  (_merge==1)
        from using                        147  (_merge==2)

    Matched                               142  (_merge==3)
    -----------------------------------------

.                                         browse if _merge!=3

.                                                 drop if _merge!=3 
(147 observations deleted)

.                                                 drop _merge

.                                                 sort ISO year

. * Note: China value includes Macau. Taiwan is assessed separately. There are no data for Hong Kong.                             
.                         
.                         // Save
.                                 drop Overallgrade Dataavailability Stocksustainability Numberofstocksassessed Numberofsustainablestocks Numberofnationalstocks
>  NumberofRFMOstocks Numberofstockswithofficiala Numberofstockswithnovelasse Totalreconstructedcatch19902 Totalcatchsustainable Totalcatchoverfished Totalcatch
> unassessed Nationalcatchassessed RFMOcatchassessed

.                                 save fishhealth, replace
file fishhealth.dta saved

.                                 export delimited fishhealth, replace
file fishhealth.csv saved

. 
.                                 
. ** POLLUTION *******************************************************************
. **# Total pesticides per unit of land (kg/ha) (FAO)
.         import delimited using "$datain\FAOSTAT_Pesticides_1990-2020", clear
(encoding automatically selected: UTF-8)
(14 vars, 4,904 obs)

.                 ren value pesticides 

.                 tab unit

       Unit |      Freq.     Percent        Cum.
------------+-----------------------------------
      kg/ha |      4,904      100.00      100.00
------------+-----------------------------------
      Total |      4,904      100.00

.                 lab var pesticides "Total pesticides per unit of land (kg/ha)"

.                 drop domaincode domain areacode elementcode element itemcode yearcode flag flagdescription

.                 ren area country

.                 
.                         // Merge in country classification
.                                 drop if country == "China" // drop aggregate China value to avoid double counting
(31 observations deleted)

.                                 replace country="Côte D'Ivoire" if country=="Côte d'Ivoire"
(31 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(31 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(31 real changes made)

.                                 replace country = "China" if country == "China, mainland"
(31 real changes made)

.                                 replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(31 real changes made)

.                                 replace country = "Taiwan" if country == "China, Taiwan Province of"
(31 real changes made)

.                                 replace country = "Macau" if country == "China, Macao SAR"
(0 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(0 real changes made)

.                                 replace country = "Palestine, State of" if country == "Palestine"
(31 real changes made)

.                                 replace country = "Reunion" if country == "Réunion"
(0 real changes made)

.                                 replace country = "Saint Pierre et Miquelon" if country == "Saint Pierre and Miquelon"
(0 real changes made)

.                                 replace country = "Wallis and Futuna" if country == "Wallis and Futuna Islands"
(0 real changes made)

.                                 replace country = "French Guiana" if country == "French Guyana"
(0 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea" 
(0 real changes made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           140
        from master                        50  (_merge==1)
        from using                         90  (_merge==2)

    Matched                             4,823  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(140 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           130
        from master                         0  (_merge==1)
        from using                        130  (_merge==2)

    Matched                             4,823  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                                         drop if _merge != 3 
(130 observations deleted)

.                                 drop _merge item unit

.                                 sort ISO year

.                                 tab country

                                   Area |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                                Albania |         31        0.64        0.64
                                Algeria |         31        0.64        1.29
                                 Angola |         31        0.64        1.93
                    Antigua and Barbuda |         31        0.64        2.57
                              Argentina |         31        0.64        3.21
                                Armenia |         29        0.60        3.82
                              Australia |         31        0.64        4.46
                                Austria |         31        0.64        5.10
                             Azerbaijan |         29        0.60        5.70
                                Bahrain |         31        0.64        6.34
                             Bangladesh |         31        0.64        6.99
                                Belarus |         29        0.60        7.59
                                Belgium |         21        0.44        8.02
                                 Belize |         31        0.64        8.67
                                 Bhutan |         31        0.64        9.31
       Bolivia (Plurinational State of) |         31        0.64        9.95
                 Bosnia and Herzegovina |         29        0.60       10.55
                               Botswana |         31        0.64       11.20
                                 Brazil |         31        0.64       11.84
                      Brunei Darussalam |         31        0.64       12.48
                               Bulgaria |         31        0.64       13.12
                           Burkina Faso |         31        0.64       13.77
                                Burundi |         31        0.64       14.41
                             Cabo Verde |         31        0.64       15.05
                               Cameroon |         31        0.64       15.70
                                 Canada |         31        0.64       16.34
               Central African Republic |         31        0.64       16.98
                                   Chad |         31        0.64       17.62
                                  Chile |         31        0.64       18.27
                                  China |         31        0.64       18.91
                                Comoros |         31        0.64       19.55
                                  Congo |         31        0.64       20.19
                           Cook Islands |         31        0.64       20.84
                                Croatia |         29        0.60       21.44
                                 Cyprus |         31        0.64       22.08
                                Czechia |         28        0.58       22.66
                          Côte D'Ivoire |         31        0.64       23.30
                                Denmark |         31        0.64       23.95
                     Dominican Republic |         31        0.64       24.59
                                Ecuador |         31        0.64       25.23
                                  Egypt |         31        0.64       25.88
                            El Salvador |         31        0.64       26.52
                                Eritrea |         28        0.58       27.10
                                Estonia |         29        0.60       27.70
                               Ethiopia |         28        0.58       28.28
                                   Fiji |         31        0.64       28.92
                                Finland |         31        0.64       29.57
                                 France |         31        0.64       30.21
                       French Polynesia |         31        0.64       30.85
               Gambia (Republic of The) |         31        0.64       31.49
                                Georgia |         29        0.60       32.10
                                Germany |         31        0.64       32.74
                                  Ghana |         31        0.64       33.38
                                 Greece |         31        0.64       34.02
                              Guatemala |         31        0.64       34.67
                                 Guinea |         31        0.64       35.31
                          Guinea-Bissau |         31        0.64       35.95
                                 Guyana |         31        0.64       36.60
                                  Haiti |         31        0.64       37.24
                               Honduras |         31        0.64       37.88
                              Hong Kong |         31        0.64       38.52
                                Hungary |         31        0.64       39.17
                                Iceland |         31        0.64       39.81
                                  India |         31        0.64       40.45
                              Indonesia |         31        0.64       41.09
             Iran (Islamic Republic of) |         31        0.64       41.74
                                   Iraq |         31        0.64       42.38
                                Ireland |         31        0.64       43.02
                                 Israel |         31        0.64       43.67
                                  Italy |         31        0.64       44.31
                                Jamaica |         31        0.64       44.95
                                  Japan |         31        0.64       45.59
                                 Jordan |         31        0.64       46.24
                             Kazakhstan |         29        0.60       46.84
                                  Kenya |         31        0.64       47.48
                                 Kuwait |         31        0.64       48.12
                             Kyrgyzstan |         29        0.60       48.72
       Lao People's Democratic Republic |         31        0.64       49.37
                                 Latvia |         29        0.60       49.97
                                Lebanon |         31        0.64       50.61
                                Lesotho |         31        0.64       51.25
                                  Libya |         31        0.64       51.90
                              Lithuania |         29        0.60       52.50
                             Luxembourg |         21        0.44       52.93
                             Madagascar |         31        0.64       53.58
                                 Malawi |         31        0.64       54.22
                               Malaysia |         31        0.64       54.86
                               Maldives |         31        0.64       55.50
                                   Mali |         31        0.64       56.15
                             Mauritania |         31        0.64       56.79
                              Mauritius |         31        0.64       57.43
                                 Mexico |         31        0.64       58.08
                               Mongolia |         31        0.64       58.72
                             Montenegro |         15        0.31       59.03
                                Morocco |         31        0.64       59.67
                             Mozambique |         31        0.64       60.32
                                Myanmar |         31        0.64       60.96
                                Namibia |         31        0.64       61.60
                                  Nepal |         31        0.64       62.24
                            Netherlands |         31        0.64       62.89
                          New Caledonia |         31        0.64       63.53
                            New Zealand |         31        0.64       64.17
                              Nicaragua |         31        0.64       64.81
                                  Niger |         31        0.64       65.46
                        North Macedonia |         29        0.60       66.06
                                 Norway |         31        0.64       66.70
                                   Oman |         31        0.64       67.34
                               Pakistan |         31        0.64       67.99
                    Palestine, State of |         31        0.64       68.63
                                 Panama |         31        0.64       69.27
                       Papua New Guinea |         31        0.64       69.91
                               Paraguay |         31        0.64       70.56
                                   Peru |         31        0.64       71.20
                            Philippines |         31        0.64       71.84
                                 Poland |         31        0.64       72.49
                               Portugal |         31        0.64       73.13
                                  Qatar |         31        0.64       73.77
                      Republic of Korea |         31        0.64       74.41
                    Republic of Moldova |         29        0.60       75.02
                                Romania |         31        0.64       75.66
                     Russian Federation |         29        0.60       76.26
                                 Rwanda |         31        0.64       76.90
                  Saint Kitts and Nevis |         31        0.64       77.55
                            Saint Lucia |         31        0.64       78.19
                                  Samoa |         31        0.64       78.83
                           Saudi Arabia |         31        0.64       79.47
                                Senegal |         31        0.64       80.12
                             Seychelles |         31        0.64       80.76
                               Slovakia |         28        0.58       81.34
                               Slovenia |         29        0.60       81.94
                           South Africa |         31        0.64       82.58
                                  Spain |         31        0.64       83.23
                              Sri Lanka |         31        0.64       83.87
                                  Sudan |          9        0.19       84.06
                               Suriname |         31        0.64       84.70
                                 Sweden |         31        0.64       85.34
                            Switzerland |         31        0.64       85.98
                   Syrian Arab Republic |         31        0.64       86.63
                                 Taiwan |         31        0.64       87.27
                             Tajikistan |         29        0.60       87.87
                               Thailand |         31        0.64       88.51
                            Timor-Leste |         31        0.64       89.16
                                   Togo |         31        0.64       89.80
                                  Tonga |         31        0.64       90.44
                                Tunisia |         31        0.64       91.08
                           Turkmenistan |         29        0.60       91.69
                                Türkiye |         31        0.64       92.33
                                 Uganda |         31        0.64       92.97
                                Ukraine |         29        0.60       93.57
United Kingdom of Great Britain and N.. |         31        0.64       94.22
            United Republic of Tanzania |         31        0.64       94.86
               United States of America |         31        0.64       95.50
                                Uruguay |         31        0.64       96.14
                                Vanuatu |         31        0.64       96.79
      Venezuela, Bolivarian Republic of |         31        0.64       97.43
                               Viet Nam |         31        0.64       98.07
                                  Yemen |         31        0.64       98.71
                                 Zambia |         31        0.64       99.36
                               Zimbabwe |         31        0.64      100.00
----------------------------------------+-----------------------------------
                                  Total |      4,823      100.00

. 
.                 // Save
.                         save pesticides, replace
file pesticides.dta saved

.                         export delimited using pesticides, replace
file pesticides.csv saved

.         
. **# Sustainable nitrogen management index (Zhang et al.)
.                 import excel using "$datain\SNMIcal", firstrow clear
(3 vars, 10,495 obs)

.                         ren Area country

.                         ren Year year

.                         ren SNMI sustNO2mgmt

.                         lab var sustNO2mgmt "Sustainable nitrogen management index"

.                         
.                         // Merge in country classification
.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea" 
(58 real changes made)

.                                 replace country = "French Guiana" if country == "French Guyana" 
(58 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia" 
(58 real changes made)

.                                 replace country = "Palestine, State of" if country == "Palestine" 
(58 real changes made)

.                                 replace country = "Türkiye" if country == "Turkey" 
(58 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)" 
(58 real changes made)

.         
.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            50
        from master                         0  (_merge==1)
        from using                         50  (_merge==2)

    Matched                            10,495  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(50 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            90
        from master                         0  (_merge==1)
        from using                         90  (_merge==2)

    Matched                            10,495  (_merge==3)
    -----------------------------------------

.                         * Note: value for China includes Hong Kong, Macau, and Taiwan
.                                         browse if _merge!=3

.                                         drop if _merge != 3 & !inlist(country, "Hong Kong", "Taiwan", "Macau")
(87 observations deleted)

.                                         drop _merge

.                         // Apply China value to territories
.                                 preserve

.                                         keep if inlist(country, "China", "Hong Kong", "Taiwan", "Macau")
(10,437 observations deleted)

.                                         expand 57 if inlist(country, "Hong Kong", "Taiwan", "Macau")
(168 observations created)

.                                         egen v1 = seq(), by(country)

.                                         replace v1 = v1+1960
variable v1 was byte now int
(229 real changes made)

.                                         replace year = v1 if inlist(country, "Hong Kong", "Taiwan", "Macau")
(171 real changes made)

.                                         sort year country

.                                         egen val = mean(sustNO2mgmt), by(year)

.                                         replace sustNO2mgmt = val if inlist(country, "Hong Kong", "Taiwan", "Macau")
(171 real changes made)

.                                         drop if country == "China"
(58 observations deleted)

.                                         drop v1 val

.                                         tempfile ters

.                                                 save `ters', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000h.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000h.tmp saved as .dta format

.                                 restore

.                                 drop if inlist(country, "Hong Kong", "Taiwan", "Macau")
(3 observations deleted)

.                                 append using `ters'
(label status already defined)
(label UN_status_detail already defined)
(label wb_region already defined)

.                         
.                 // Save
.                         save sustNO2mgmt, replace
file sustNO2mgmt.dta saved

.                         export delimited sustNO2mgmt, replace
file sustNO2mgmt.csv saved

. 
.                         
. // LIVELIHOODS, POVERTY, & EQUITY //////////////////////////////////////////////
. 
. ** POVERTY & INCOME ************************************************************
. 
. **# Share of agriculture in GDP (FAO)
.                 import delimited using "$datain\FAOSTAT_ShareAgricultureGDP.csv", clear
(encoding automatically selected: UTF-8)
(15 vars, 4,940 obs)

.                         ren area country

.                         ren value aginGDP

.                         tab item

                                   Item |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
2.a.1 Agriculture value added share o.. |      4,940      100.00      100.00
----------------------------------------+-----------------------------------
                                  Total |      4,940      100.00

.                         tab unit

       Unit |      Freq.     Percent        Cum.
------------+-----------------------------------
          % |      4,940      100.00      100.00
------------+-----------------------------------
      Total |      4,940      100.00

.                         lab var aginGDP "Agriculture value added share of GDP (%) (SDG 2.a.1)"

.                         drop domaincode domain areacodem49 elementcode element itemcodesdg item yearcode unit flag flagdescription note

.                         
.                         // Merge in country classification
.                                 drop if country == "China" // drop aggregate China value to avoid double counting
(0 observations deleted)

.                                 replace country="Côte D'Ivoire" if country=="Côte d'Ivoire"
(20 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(20 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(20 real changes made)

.                                 replace country = "China" if country == "China, mainland"
(20 real changes made)

.                                 replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(20 real changes made)

.                                 replace country = "Taiwan" if country == "China, Taiwan Province of"
(0 real changes made)

.                                 replace country = "Macau" if country == "China, Macao SAR"
(20 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(20 real changes made)

.                                 replace country = "Palestine, State of" if country == "Palestine"
(20 real changes made)

.                                 replace country = "Reunion" if country == "Réunion"
(20 real changes made)

.                                 replace country = "Saint Pierre et Miquelon" if country == "Saint Pierre and Miquelon"
(20 real changes made)

.                                 replace country = "Wallis and Futuna" if country == "Wallis and Futuna Islands"
(20 real changes made)

.                                 replace country = "French Guiana" if country == "French Guyana"
(20 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea" 
(0 real changes made)

. 
.                                 drop if aginGDP == .
(832 observations deleted)

.                         
.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            61
        from master                        19  (_merge==1)
        from using                         42  (_merge==2)

    Matched                             4,089  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(61 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            82
        from master                         0  (_merge==1)
        from using                         82  (_merge==2)

    Matched                             4,089  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                         drop if _merge != 3  
(82 observations deleted)

.                         drop _merge

.                                 sort ISO year

.                                 tab country

                                   Area |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                            Afghanistan |         20        0.49        0.49
                                Albania |         20        0.49        0.98
                                Algeria |         20        0.49        1.47
                                Andorra |         19        0.46        1.93
                                 Angola |         20        0.49        2.42
                               Anguilla |         19        0.46        2.89
                    Antigua and Barbuda |         20        0.49        3.37
                              Argentina |         20        0.49        3.86
                                Armenia |         20        0.49        4.35
                                  Aruba |         19        0.46        4.82
                              Australia |         20        0.49        5.31
                                Austria |         20        0.49        5.80
                             Azerbaijan |         20        0.49        6.29
                                Bahamas |         20        0.49        6.77
                                Bahrain |         20        0.49        7.26
                             Bangladesh |         20        0.49        7.75
                               Barbados |         20        0.49        8.24
                                Belarus |         20        0.49        8.73
                                Belgium |         20        0.49        9.22
                                 Belize |         20        0.49        9.71
                                  Benin |         20        0.49       10.20
                                Bermuda |         19        0.46       10.66
                                 Bhutan |         20        0.49       11.15
       Bolivia (Plurinational State of) |         19        0.46       11.62
                 Bosnia and Herzegovina |         20        0.49       12.11
                               Botswana |         20        0.49       12.59
                                 Brazil |         20        0.49       13.08
                 British Virgin Islands |         19        0.46       13.55
                      Brunei Darussalam |         20        0.49       14.04
                               Bulgaria |         20        0.49       14.53
                           Burkina Faso |         20        0.49       15.02
                                Burundi |         20        0.49       15.51
                             Cabo Verde |         20        0.49       15.99
                               Cambodia |         20        0.49       16.48
                               Cameroon |         19        0.46       16.95
                                 Canada |         20        0.49       17.44
                         Cayman Islands |         19        0.46       17.90
               Central African Republic |         20        0.49       18.39
                                   Chad |         19        0.46       18.86
                                  Chile |         20        0.49       19.34
                                  China |         20        0.49       19.83
                               Colombia |         20        0.49       20.32
                                Comoros |         19        0.46       20.79
                                  Congo |         20        0.49       21.28
                           Cook Islands |         19        0.46       21.74
                             Costa Rica |         20        0.49       22.23
                                Croatia |         20        0.49       22.72
                                   Cuba |         20        0.49       23.21
                                Curaçao |         15        0.37       23.58
                                 Cyprus |         20        0.49       24.06
                                Czechia |         20        0.49       24.55
                          Côte D'Ivoire |         20        0.49       25.04
              Dem People's Rep of Korea |         19        0.46       25.51
       Democratic Republic of the Congo |         20        0.49       26.00
                                Denmark |         20        0.49       26.49
                               Djibouti |         19        0.46       26.95
                               Dominica |         20        0.49       27.44
                     Dominican Republic |         20        0.49       27.93
                                Ecuador |         20        0.49       28.42
                                  Egypt |         20        0.49       28.91
                            El Salvador |         20        0.49       29.40
                      Equatorial Guinea |         20        0.49       29.89
                                Eritrea |         19        0.46       30.35
                                Estonia |         20        0.49       30.84
                               Eswatini |         20        0.49       31.33
                               Ethiopia |         20        0.49       31.82
                                   Fiji |         20        0.49       32.31
                                Finland |         20        0.49       32.80
                                 France |         20        0.49       33.28
                       French Polynesia |         19        0.46       33.75
                                  Gabon |         19        0.46       34.21
               Gambia (Republic of The) |         20        0.49       34.70
                                Georgia |         20        0.49       35.19
                                Germany |         20        0.49       35.68
                                  Ghana |         20        0.49       36.17
                                 Greece |         20        0.49       36.66
                              Greenland |         19        0.46       37.12
                                Grenada |         20        0.49       37.61
                              Guatemala |         20        0.49       38.10
                                 Guinea |         20        0.49       38.59
                          Guinea-Bissau |         20        0.49       39.08
                                 Guyana |         20        0.49       39.57
                                  Haiti |         19        0.46       40.03
                               Honduras |         20        0.49       40.52
                              Hong Kong |         19        0.46       40.99
                                Hungary |         20        0.49       41.48
                                Iceland |         20        0.49       41.97
                                  India |         20        0.49       42.46
                              Indonesia |         20        0.49       42.94
             Iran (Islamic Republic of) |         20        0.49       43.43
                                   Iraq |         20        0.49       43.92
                                Ireland |         20        0.49       44.41
                                 Israel |         20        0.49       44.90
                                  Italy |         20        0.49       45.39
                                Jamaica |         20        0.49       45.88
                                  Japan |         20        0.49       46.37
                                 Jordan |         20        0.49       46.86
                             Kazakhstan |         20        0.49       47.35
                                  Kenya |         20        0.49       47.84
                               Kiribati |         20        0.49       48.32
                                 Kuwait |         20        0.49       48.81
                             Kyrgyzstan |         20        0.49       49.30
       Lao People's Democratic Republic |         20        0.49       49.79
                                 Latvia |         20        0.49       50.28
                                Lebanon |         20        0.49       50.77
                                Lesotho |         20        0.49       51.26
                                Liberia |         20        0.49       51.75
                                  Libya |         19        0.46       52.21
                          Liechtenstein |         19        0.46       52.68
                              Lithuania |         20        0.49       53.17
                             Luxembourg |         20        0.49       53.66
                             Madagascar |         20        0.49       54.15
                                 Malawi |         20        0.49       54.63
                               Malaysia |         20        0.49       55.12
                               Maldives |         20        0.49       55.61
                                   Mali |         20        0.49       56.10
                                  Malta |         20        0.49       56.59
                       Marshall Islands |         20        0.49       57.08
                             Mauritania |         20        0.49       57.57
                              Mauritius |         20        0.49       58.06
                                 Mexico |         20        0.49       58.55
       Micronesia (Federated States of) |         20        0.49       59.04
                               Mongolia |         20        0.49       59.53
                             Montenegro |         20        0.49       60.01
                             Montserrat |         19        0.46       60.48
                                Morocco |         20        0.49       60.97
                             Mozambique |         20        0.49       61.46
                                Myanmar |         20        0.49       61.95
                                Namibia |         20        0.49       62.44
                                  Nauru |         20        0.49       62.92
                                  Nepal |         20        0.49       63.41
                            Netherlands |         20        0.49       63.90
                          New Caledonia |         20        0.49       64.39
                            New Zealand |         20        0.49       64.88
                              Nicaragua |         20        0.49       65.37
                                  Niger |         20        0.49       65.86
                                Nigeria |         20        0.49       66.35
                        North Macedonia |         20        0.49       66.84
                                 Norway |         20        0.49       67.33
                                   Oman |         20        0.49       67.82
                               Pakistan |         20        0.49       68.31
                                  Palau |         20        0.49       68.79
                    Palestine, State of |         20        0.49       69.28
                                 Panama |         20        0.49       69.77
                       Papua New Guinea |         20        0.49       70.26
                               Paraguay |         20        0.49       70.75
                                   Peru |         20        0.49       71.24
                            Philippines |         20        0.49       71.73
                                 Poland |         20        0.49       72.22
                               Portugal |         20        0.49       72.71
                            Puerto Rico |         19        0.46       73.17
                                  Qatar |         20        0.49       73.66
                      Republic of Korea |         20        0.49       74.15
                    Republic of Moldova |         20        0.49       74.64
                                Romania |         20        0.49       75.13
                     Russian Federation |         20        0.49       75.62
                                 Rwanda |         20        0.49       76.11
                  Saint Kitts and Nevis |         20        0.49       76.60
                            Saint Lucia |         20        0.49       77.08
       Saint Vincent and the Grenadines |         20        0.49       77.57
                                  Samoa |         20        0.49       78.06
                             San Marino |         19        0.46       78.53
                  Sao Tome and Principe |         20        0.49       79.02
                           Saudi Arabia |         20        0.49       79.51
                                Senegal |         20        0.49       80.00
                                 Serbia |         20        0.49       80.48
                             Seychelles |         20        0.49       80.97
                           Sierra Leone |         20        0.49       81.46
                              Singapore |         20        0.49       81.95
              Sint Maarten (Dutch part) |         15        0.37       82.32
                               Slovakia |         20        0.49       82.81
                               Slovenia |         20        0.49       83.30
                        Solomon Islands |         20        0.49       83.79
                                Somalia |         20        0.49       84.27
                           South Africa |         20        0.49       84.76
                            South Sudan |         13        0.32       85.08
                                  Spain |         20        0.49       85.57
                              Sri Lanka |         20        0.49       86.06
                                  Sudan |         13        0.32       86.38
                               Suriname |         20        0.49       86.87
                                 Sweden |         20        0.49       87.36
                            Switzerland |         20        0.49       87.85
                   Syrian Arab Republic |         20        0.49       88.33
                             Tajikistan |         20        0.49       88.82
                               Thailand |         20        0.49       89.31
                            Timor-Leste |         20        0.49       89.80
                                   Togo |         20        0.49       90.29
                                  Tonga |         19        0.46       90.76
                    Trinidad and Tobago |         20        0.49       91.24
                                Tunisia |         20        0.49       91.73
                           Turkmenistan |         19        0.46       92.20
                                 Tuvalu |         19        0.46       92.66
                                Türkiye |         20        0.49       93.15
                                 Uganda |         20        0.49       93.64
                                Ukraine |         20        0.49       94.13
                   United Arab Emirates |         20        0.49       94.62
United Kingdom of Great Britain and N.. |         20        0.49       95.11
            United Republic of Tanzania |         20        0.49       95.60
               United States of America |         20        0.49       96.09
                                Uruguay |         20        0.49       96.58
                             Uzbekistan |         20        0.49       97.07
                                Vanuatu |         20        0.49       97.55
      Venezuela, Bolivarian Republic of |         20        0.49       98.04
                               Viet Nam |         20        0.49       98.53
                                  Yemen |         20        0.49       99.02
                                 Zambia |         20        0.49       99.51
                               Zimbabwe |         20        0.49      100.00
----------------------------------------+-----------------------------------
                                  Total |      4,089      100.00

.                                 sort ISO year

.                                 order ISO country year aginGDP wb_region incgrp

.                                 drop if aginGDP == .
(0 observations deleted)

.                         
.                         // Save
.                         save agshareGDP, replace
file agshareGDP.dta saved

.                         export delimited using agshareGDP, replace
file agshareGDP.csv saved

. 
.                         
. ** EMPLOYMENT ******************************************************************
. 
. **# Unemployment rate, urban and rural (ILO)
. * Note: ILO modelled estimates, November 2021 version
. * Note: data are long form with totals and age and sex disaggregations, be careful of double counting
.                 import delimited using "$datain\UNE_2EAP_SEX_AGE_GEO_RT_A-full-2022-06-30.csv", clear
(encoding automatically selected: UTF-8)
(16 vars, 118,800 obs)

.                         ren ref_area ISO

.                         ren ref_arealabel country

.                         ren sex sex2

.                         encode sex2, gen(sex)

.                         drop sex2

.                         encode classif1label, gen(agegroup)

.                         drop classif1label

.                         encode classif2, gen(geog)

.                         drop classif2*

.                         ren time year

.                         ren obs_value unemp

.                         lab var unemp "Unemployment rate (ILO modelled estimates) (%)"

.                         drop source sourcelabel indicator indicatorlabel sexlabel classif1 obs_status obs_statuslabel

.                         lab var country "Country"

.                         lab var agegroup "Age group"

.                         tab sex

        sex |      Freq.     Percent        Cum.
------------+-----------------------------------
      SEX_F |     39,600       33.33       33.33
      SEX_M |     39,600       33.33       66.67
      SEX_T |     39,600       33.33      100.00
------------+-----------------------------------
      Total |    118,800      100.00

.                         tab sex, nolabel

        sex |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     39,600       33.33       33.33
          2 |     39,600       33.33       66.67
          3 |     39,600       33.33      100.00
------------+-----------------------------------
      Total |    118,800      100.00

.                         recode sex (3=0)
(39600 changes made to sex)

.                         lab def sex 1 "Female" 2 "Male" 0 "Total", replace

.                         lab val sex sex

.                         tab agegroup

                 Age group |      Freq.     Percent        Cum.
---------------------------+-----------------------------------
  Age (Youth, adults): 15+ |     39,600       33.33       33.33
Age (Youth, adults): 15-24 |     39,600       33.33       66.67
  Age (Youth, adults): 25+ |     39,600       33.33      100.00
---------------------------+-----------------------------------
                     Total |    118,800      100.00

.                         tab agegroup, nolabel

  Age group |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     39,600       33.33       33.33
          2 |     39,600       33.33       66.67
          3 |     39,600       33.33      100.00
------------+-----------------------------------
      Total |    118,800      100.00

.                         recode agegroup (1=0) (2=1) (3=2)
(118800 changes made to agegroup)

.                         lab def ag 0 "Total population age 15+" 1 "Youth, age 15-24" 2 "Adults, age 25+", replace

.                         lab val agegroup ag

.                         tab geog 

       geog |      Freq.     Percent        Cum.
------------+-----------------------------------
GEO_COV_NAT |     39,600       33.33       33.33
GEO_COV_RUR |     39,600       33.33       66.67
GEO_COV_URB |     39,600       33.33      100.00
------------+-----------------------------------
      Total |    118,800      100.00

.                         tab geog, nolabel

       geog |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     39,600       33.33       33.33
          2 |     39,600       33.33       66.67
          3 |     39,600       33.33      100.00
------------+-----------------------------------
      Total |    118,800      100.00

.                         recode geog (1=0) (2=1) (3=2)
(118800 changes made to geog)

.                         lab def geo 0 "Total" 1 "Rural" 2 "Urban", replace

.                         lab val geog geo

.                         lab var geog "Geography (urban/rural)"

.                         tab geog

  Geography |
(urban/rura |
         l) |      Freq.     Percent        Cum.
------------+-----------------------------------
      Total |     39,600       33.33       33.33
      Rural |     39,600       33.33       66.67
      Urban |     39,600       33.33      100.00
------------+-----------------------------------
      Total |    118,800      100.00

.                         lab var sex "Sex"

.                         sort ISO year

.                 
.                 // Merge in country classification
.                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(432 real changes made)

.                         replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(432 real changes made)

.                         replace country = "Democratic Republic of the Congo" if country == "Congo, Democratic Republic of the"
(432 real changes made)

.                         replace country = "Cabo Verde" if country == "Cape Verde"
(432 real changes made)

.                         replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom"
(432 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(432 real changes made)

.                         replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Republic of"
(432 real changes made)

.                         replace country = "Republic of Korea" if country == "Korea, Republic of"
(432 real changes made)

.                         replace country = "Republic of Moldova" if country == "Moldova, Republic of"
(432 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "Korea, Democratic People's Republic of"
(432 real changes made)

.                         replace country = "Palestine, State of" if country == "Occupied Palestinian Territory"
(432 real changes made)

.                         replace country = "Taiwan" if country == "Taiwan, China"
(432 real changes made)

.                         replace country = "United Republic of Tanzania" if country == "Tanzania, United Republic of"
(432 real changes made)

.                         replace country = "United States of America" if country == "United States"
(432 real changes made)

.                         merge m:1 ISO country using countryclassification 
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        38,984
        from master                    38,880  (_merge==1)
        from using                        104  (_merge==2)

    Matched                            79,920  (_merge==3)
    -----------------------------------------

.                                 tab country if _merge == 1

                                Country |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                                  ASEAN |        432        1.11        1.11
                                 Africa |        432        1.11        2.22
                     Africa: Low income |        432        1.11        3.33
            Africa: Lower-middle income |        432        1.11        4.44
            Africa: Upper-middle income |        432        1.11        5.56
                               Americas |        432        1.11        6.67
                  Americas: High income |        432        1.11        7.78
          Americas: Lower-middle income |        432        1.11        8.89
          Americas: Upper-middle income |        432        1.11       10.00
                            Arab League |        432        1.11       11.11
                            Arab States |        432        1.11       12.22
               Arab States: High income |        432        1.11       13.33
                Arab States: Low income |        432        1.11       14.44
       Arab States: Lower-middle income |        432        1.11       15.56
       Arab States: Upper-middle income |        432        1.11       16.67
                   Asia and the Pacific |        432        1.11       17.78
      Asia and the Pacific: High income |        432        1.11       18.89
       Asia and the Pacific: Low income |        432        1.11       20.00
Asia and the Pacific: Lower-middle in.. |        432        1.11       21.11
Asia and the Pacific: Upper-middle in.. |        432        1.11       22.22
                                  BRICS |        432        1.11       23.33
                                CARICOM |        432        1.11       24.44
                              Caribbean |        432        1.11       25.56
                         Central Africa |        432        1.11       26.67
                        Central America |        432        1.11       27.78
                           Central Asia |        432        1.11       28.89
               Central and Western Asia |        432        1.11       30.00
  Central and Western Asia: High income |        432        1.11       31.11
Central and Western Asia: Lower-middl.. |        432        1.11       32.22
Central and Western Asia: Upper-middl.. |        432        1.11       33.33
                        Channel Islands |        432        1.11       34.44
                         Eastern Africa |        432        1.11       35.56
                           Eastern Asia |        432        1.11       36.67
              Eastern Asia: High income |        432        1.11       37.78
               Eastern Asia: Low income |        432        1.11       38.89
      Eastern Asia: Lower-middle income |        432        1.11       40.00
      Eastern Asia: Upper-middle income |        432        1.11       41.11
                         Eastern Europe |        432        1.11       42.22
            Eastern Europe: High income |        432        1.11       43.33
    Eastern Europe: Lower-middle income |        432        1.11       44.44
    Eastern Europe: Upper-middle income |        432        1.11       45.56
                Europe and Central Asia |        432        1.11       46.67
   Europe and Central Asia: High income |        432        1.11       47.78
Europe and Central Asia: Lower-middle.. |        432        1.11       48.89
Europe and Central Asia: Upper-middle.. |        432        1.11       50.00
                      European Union 27 |        432        1.11       51.11
                      European Union 28 |        432        1.11       52.22
                                    G20 |        432        1.11       53.33
                                     G7 |        432        1.11       54.44
        Latin America and the Caribbean |        432        1.11       55.56
Latin America and the Caribbean: High.. |        432        1.11       56.67
Latin America and the Caribbean: Lowe.. |        432        1.11       57.78
Latin America and the Caribbean: Uppe.. |        432        1.11       58.89
                                   MENA |        432        1.11       60.00
                        Northern Africa |        432        1.11       61.11
            Northern Africa: Low income |        432        1.11       62.22
   Northern Africa: Lower-middle income |        432        1.11       63.33
   Northern Africa: Upper-middle income |        432        1.11       64.44
                       Northern America |        432        1.11       65.56
          Northern America: High income |        432        1.11       66.67
                        Northern Europe |        432        1.11       67.78
  Northern, Southern and Western Europe |        432        1.11       68.89
Northern, Southern and Western Europe.. |        432        1.11       70.00
Northern, Southern and Western Europe.. |        432        1.11       71.11
                        Pacific Islands |        432        1.11       72.22
                          South America |        432        1.11       73.33
                     South-Eastern Asia |        432        1.11       74.44
     South-Eastern Asia and the Pacific |        432        1.11       75.56
South-Eastern Asia and the Pacific: H.. |        432        1.11       76.67
South-Eastern Asia and the Pacific: L.. |        432        1.11       77.78
South-Eastern Asia and the Pacific: U.. |        432        1.11       78.89
                        Southern Africa |        432        1.11       80.00
                          Southern Asia |        432        1.11       81.11
              Southern Asia: Low income |        432        1.11       82.22
     Southern Asia: Lower-middle income |        432        1.11       83.33
     Southern Asia: Upper-middle income |        432        1.11       84.44
                        Southern Europe |        432        1.11       85.56
                     Sub-Saharan Africa |        432        1.11       86.67
         Sub-Saharan Africa: Low income |        432        1.11       87.78
Sub-Saharan Africa: Lower-middle income |        432        1.11       88.89
Sub-Saharan Africa: Upper-middle income |        432        1.11       90.00
                         Western Africa |        432        1.11       91.11
                           Western Asia |        432        1.11       92.22
                         Western Europe |        432        1.11       93.33
                                  World |        432        1.11       94.44
                  World excluding BRICS |        432        1.11       95.56
                     World: High income |        432        1.11       96.67
                      World: Low income |        432        1.11       97.78
             World: Lower-middle income |        432        1.11       98.89
             World: Upper-middle income |        432        1.11      100.00
----------------------------------------+-----------------------------------
                                  Total |     38,880      100.00

.                                 drop if _merge !=3 // aggregates
(38,984 observations deleted)

.                                 drop _merge

.                                         
.                         // Save
.                         save unemployment_disaggregated, replace
file unemployment_disaggregated.dta saved

. 
.                         // generate aggregate dataset by of all sex all age groups by urban and rural
.                         keep if sex==0 & agegroup==0 
(71,040 observations deleted)

.                         drop sex agegroup

.                         ren unemp unemp_

.                         reshape wide unemp_, i(ISO country year) j(geog)
(j = 0 1 2)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations            8,880   ->   2,960       
Number of variables                  20   ->   21          
j variable (3 values)              geog   ->   (dropped)
xij variables:
                                 unemp_   ->   unemp_0 unemp_1 unemp_2
-----------------------------------------------------------------------------

.                         ren unemp_0 unemp_tot

.                         ren unemp_1 unemp_r

.                         ren unemp_2 unemp_u

.                         lab var unemp_tot "Unemployment rate, age 15+, total"

.                         lab var unemp_r "Unemployment rate, age 15+, rural"

.                         lab var unemp_u "Unemployment rate, age 15+, urban"

.                         
.                         // Save
.                                 save unemployment_urbrur, replace
file unemployment_urbrur.dta saved

. 
. **# Underemployment rate, urban and rural (ILO)
.                 import delimited using "$datain\TRU_DEMP_SEX_AGE_GEO_RT_A-full-2022-06-30.csv", clear
(encoding automatically selected: UTF-8)
(22 vars, 89,651 obs)

.                         ren ref_area ISO

.                         ren ref_arealabel country

.                         ren sex sex2

.                         encode sex2, gen(sex)

.                         drop sex2

.                         encode classif1label, gen(agegroup)

.                         drop classif1label

.                         encode classif2, gen(geog)

.                         drop classif2*

.                         ren time year

.                         ren obs_value underemp

.                         lab var underemp "Time-related underemployment rate (ILO modelled estimates) (%)"

.                         drop source sourcelabel indicator indicatorlabel sexlabel classif1 obs_status obs_statuslabel

.                         lab var country "Country"

.                         lab var agegroup "Age group"

.                         tab sex

        sex |      Freq.     Percent        Cum.
------------+-----------------------------------
      SEX_F |     29,575       32.99       32.99
      SEX_M |     29,829       33.27       66.26
      SEX_T |     30,247       33.74      100.00
------------+-----------------------------------
      Total |     89,651      100.00

.                         tab sex, nolabel

        sex |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     29,575       32.99       32.99
          2 |     29,829       33.27       66.26
          3 |     30,247       33.74      100.00
------------+-----------------------------------
      Total |     89,651      100.00

.                         recode sex (3=0)
(30247 changes made to sex)

.                         lab def sex 1 "Female" 2 "Male" 0 "Total", replace

.                         lab val sex sex

.                         tab agegroup

                   Age group |      Freq.     Percent        Cum.
-----------------------------+-----------------------------------
Age (Aggregate bands): 15-24 |      9,940       11.09       11.09
Age (Aggregate bands): 25-54 |     10,245       11.43       22.52
Age (Aggregate bands): 55-64 |      9,710       10.83       33.35
  Age (Aggregate bands): 65+ |      8,766        9.78       43.12
Age (Aggregate bands): Total |     10,311       11.50       54.63
    Age (Youth, adults): 15+ |     10,318       11.51       66.13
  Age (Youth, adults): 15-24 |      9,940       11.09       77.22
  Age (Youth, adults): 15-64 |     10,126       11.29       88.52
    Age (Youth, adults): 25+ |     10,295       11.48      100.00
-----------------------------+-----------------------------------
                       Total |     89,651      100.00

.                         tab agegroup, nolabel

  Age group |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      9,940       11.09       11.09
          2 |     10,245       11.43       22.52
          3 |      9,710       10.83       33.35
          4 |      8,766        9.78       43.12
          5 |     10,311       11.50       54.63
          6 |     10,318       11.51       66.13
          7 |      9,940       11.09       77.22
          8 |     10,126       11.29       88.52
          9 |     10,295       11.48      100.00
------------+-----------------------------------
      Total |     89,651      100.00

.                         drop if inlist(agegroup,1,2,3,4) // drop "aggregate bands" disaggregation, keep only those that align with the unemployment categories
(38,661 observations deleted)

.                         tab agegroup

                   Age group |      Freq.     Percent        Cum.
-----------------------------+-----------------------------------
Age (Aggregate bands): Total |     10,311       20.22       20.22
    Age (Youth, adults): 15+ |     10,318       20.24       40.46
  Age (Youth, adults): 15-24 |      9,940       19.49       59.95
  Age (Youth, adults): 15-64 |     10,126       19.86       79.81
    Age (Youth, adults): 25+ |     10,295       20.19      100.00
-----------------------------+-----------------------------------
                       Total |     50,990      100.00

.                         tab agegroup, nolabel

  Age group |      Freq.     Percent        Cum.
------------+-----------------------------------
          5 |     10,311       20.22       20.22
          6 |     10,318       20.24       40.46
          7 |      9,940       19.49       59.95
          8 |     10,126       19.86       79.81
          9 |     10,295       20.19      100.00
------------+-----------------------------------
      Total |     50,990      100.00

.                         recode agegroup (5=0) (7=1) (9=2)
(30546 changes made to agegroup)

.                         drop if !inlist(agegroup,0,1,2)
(20,444 observations deleted)

.                         lab def ag 0 "Total population age 15+" 1 "Youth, age 15-24" 2 "Adults, age 25+", replace

.                         lab val agegroup ag

.                         tab geog 

       geog |      Freq.     Percent        Cum.
------------+-----------------------------------
GEO_COV_NAT |     10,304       33.73       33.73
GEO_COV_RUR |      9,782       32.02       65.76
GEO_COV_URB |      9,870       32.31       98.07
  GEO_COV_X |        590        1.93      100.00
------------+-----------------------------------
      Total |     30,546      100.00

.                         tab geog, nolabel

       geog |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     10,304       33.73       33.73
          2 |      9,782       32.02       65.76
          3 |      9,870       32.31       98.07
          4 |        590        1.93      100.00
------------+-----------------------------------
      Total |     30,546      100.00

.                         recode geog (1=0) (2=1) (3=2) (4=3)
(30546 changes made to geog)

.                         lab def geo 0 "Total" 1 "Rural" 2 "Urban" 3 "Undefined", replace

.                         lab val geog geo

.                         lab var geog "Geography (urban/rural)"

.                         lab var sex "Sex"

.                         sort ISO year

.                         drop note*

.                 
.                 // Merge in country classification
.                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(513 real changes made)

.                         replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(81 real changes made)

.                         replace country = "Democratic Republic of the Congo" if country == "Congo, Democratic Republic of the"
(0 real changes made)

.                         replace country = "Cabo Verde" if country == "Cape Verde"
(0 real changes made)

.                         replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom"
variable country was str32 now str52
(649 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(27 real changes made)

.                         replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Republic of"
(0 real changes made)

.                         replace country = "Republic of Korea" if country == "Korea, Republic of"
(243 real changes made)

.                         replace country = "Republic of Moldova" if country == "Moldova, Republic of"
(0 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "Korea, Democratic People's Republic of"
(0 real changes made)

.                         replace country = "Palestine, State of" if country == "Occupied Palestinian Territory"
(250 real changes made)

.                         replace country = "Taiwan" if country == "Taiwan, China"
(0 real changes made)

.                         replace country = "United Republic of Tanzania" if country == "Tanzania, United Republic of"
(0 real changes made)

.                         replace country = "United States of America" if country == "United States"              
(459 real changes made)

.                         merge m:1 ISO country using countryclassification 
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           184
        from master                         0  (_merge==1)
        from using                        184  (_merge==2)

    Matched                            30,546  (_merge==3)
    -----------------------------------------

.                                         tab country if _merge == 1
no observations

.                                         drop if _merge !=3 
(184 observations deleted)

.                                         drop _merge

.                         
.                         // Save
.                         save underemployment_disaggregated, replace
file underemployment_disaggregated.dta saved

.                         
.                         // generate aggregate dataset by of all sex all age groups by urban and rural
.                                 keep if sex==0 & agegroup==0 
(27,096 observations deleted)

.                                 drop sex agegroup

.                                 ren underemp underemp_

.                                 reshape wide underemp_, i(ISO country year) j(geog)
(j = 0 1 2 3)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations            3,450   ->   1,154       
Number of variables                  20   ->   22          
j variable (4 values)              geog   ->   (dropped)
xij variables:
                              underemp_   ->   underemp_0 underemp_1 ... underemp_3
-----------------------------------------------------------------------------

.                                 ren underemp_0 underemp_tot

.                                 ren underemp_1 underemp_r

.                                 ren underemp_2 underemp_u

.                                 lab var underemp_tot "Time-related underemployment rate, age 15+, total"

.                                 lab var underemp_r "Time-related underemployment rate, age 15+, rural"

.                                 lab var underemp_u "Time-related underemployment rate, age 15+, urban"

.                         
.                 // Save
.                         save underemployment_urbrur, replace
file underemployment_urbrur.dta saved

.                 
.                 // Generate combined dataset of unemployment and underemployment for visualization
.                 use unemployment_disaggregated, clear

.                         merge 1:1 ISO country year sex agegroup geog using underemployment_disaggregated
(label geo already defined)
(label ag already defined)
(label sex already defined)
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        61,774
        from master                    55,574  (_merge==1)
        from using                      6,200  (_merge==2)

    Matched                            24,346  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                         drop _merge

.                         order ISO country year unemp underemp, first 

.                         sort ISO year

.                         misstable sum
                                                               Obs<.
                                                +------------------------------
               |                                | Unique
      Variable |     Obs=.     Obs>.     Obs<.  | values        Min         Max
  -------------+--------------------------------+------------------------------
         unemp |     6,200              79,920  |   >500       .014      83.595
      underemp |    59,387              26,733  |    355          0        43.9
     wb_region |       432              85,688  |      7          1           7
     UN_status |       521              85,599  |      2          1           5
  -----------------------------------------------------------------------------

.                         drop if unemp==. & underemp==. // drop if no data for either variable
(2,322 observations deleted)

.                         unique ISO
Number of unique values of ISO is  185
Number of records is  83798

.                                 lab def geo 0 "Total" 1 "Rural" 2 "Urban" 3 "Undefined", replace

.                                 lab val geog geo

.                                 table agegroup sex geog

---------------------------------------------------------------------------
                           |             Geography (urban/rural)           
                           |   Total    Rural    Urban   Undefined    Total
---------------------------+-----------------------------------------------
Age group                  |                                               
  Total population age 15+ |                                               
    Sex                    |                                               
      Total                |   3,129    3,112    3,122          16    9,379
      Female               |   3,128    3,105    3,119          16    9,368
      Male                 |   3,122    3,092    3,107          14    9,335
      Total                |   9,379    9,309    9,348          46   28,082
  Youth, age 15-24         |                                               
    Sex                    |                                               
      Total                |   3,104    3,064    3,090          15    9,273
      Female               |   3,085    3,044    3,076           5    9,210
      Male                 |   3,082    3,035    3,069          11    9,197
      Total                |   9,271    9,143    9,235          31   27,680
  Adults, age 25+          |                                               
    Sex                    |                                               
      Total                |   3,130    3,107    3,121          16    9,374
      Female               |   3,127    3,097    3,112          14    9,350
      Male                 |   3,117    3,082    3,102          11    9,312
      Total                |   9,374    9,286    9,335          41   28,036
  Total                    |                                               
    Sex                    |                                               
      Total                |   9,363    9,283    9,333          47   28,026
      Female               |   9,340    9,246    9,307          35   27,928
      Male                 |   9,321    9,209    9,278          36   27,844
      Total                |  28,024   27,738   27,918         118   83,798
---------------------------------------------------------------------------

.                                 browse if geog==3 // few observations that cannot be classified as urban or rural (none have unemployment data)

.                                 
.                                 // Save
.                                         save employment_disaggregated, replace
file employment_disaggregated.dta saved

.                                         export delimited employment_disaggregated, replace
file employment_disaggregated.csv saved

.                         
.                         // Generate latest year variable
.                                 egen latestyear=max(year) if unemp!=. & underemp!=., by(ISO)
(60,943 missing values generated)

.                                 tab latestyear // 2020 

 latestyear |      Freq.     Percent        Cum.
------------+-----------------------------------
       2006 |         27        0.12        0.12
       2012 |        108        0.47        0.59
       2013 |        304        1.33        1.92
       2014 |         81        0.35        2.28
       2015 |         27        0.12        2.39
       2016 |         18        0.08        2.47
       2017 |        522        2.28        4.76
       2018 |        208        0.91        5.67
       2019 |      3,483       15.24       20.91
       2020 |     18,077       79.09      100.00
------------+-----------------------------------
      Total |     22,855      100.00

.                                 keep if year==latestyear
(81,135 observations deleted)

.                                 tab year

       year |      Freq.     Percent        Cum.
------------+-----------------------------------
       2006 |         27        1.01        1.01
       2012 |         81        3.04        4.06
       2013 |         80        3.00        7.06
       2014 |         81        3.04       10.10
       2015 |         27        1.01       11.12
       2016 |         18        0.68       11.79
       2017 |        240        9.01       20.80
       2018 |        101        3.79       24.60
       2019 |        527       19.79       44.39
       2020 |      1,481       55.61      100.00
------------+-----------------------------------
      Total |      2,663      100.00

.                                 unique ISO
Number of unique values of ISO is  105
Number of records is  2663

.                                 drop latestyear

. 
.                         // Save
.                                 save employment_disaggregated_latestyear, replace
file employment_disaggregated_latestyear.dta saved

.                                 export delimited employment_disaggregated_latestyear, replace
file employment_disaggregated_latestyear.csv saved

. 
.                                 
. ** SOCIAL PROTECTION ***********************************************************
. 
. **# Social protection coverage (World Bank)
.                 import delimited using "$datain\API_PER_ALLSP.COV_POP_TOT_DS2_en_csv_v2_4157459.csv", varnames(5) rowrange(5:271) clear
(encoding automatically selected: UTF-8)
(66 vars, 266 obs)

.                         drop v5-v44 // years prior to 2000

.                         ren v* spcoverage#, addnumber(2000)

.                         reshape long spcoverage, i(countryname countrycode indicatorname indicatorcode) j(year)
(j = 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              266   ->   5,852       
Number of variables                  26   ->   6           
j variable (22 values)                    ->   year
xij variables:
spcoverage2000 spcoverage2001 ... spcoverage2021->spcoverage
-----------------------------------------------------------------------------

.                         tab year

       year |      Freq.     Percent        Cum.
------------+-----------------------------------
       2000 |        266        4.55        4.55
       2001 |        266        4.55        9.09
       2002 |        266        4.55       13.64
       2003 |        266        4.55       18.18
       2004 |        266        4.55       22.73
       2005 |        266        4.55       27.27
       2006 |        266        4.55       31.82
       2007 |        266        4.55       36.36
       2008 |        266        4.55       40.91
       2009 |        266        4.55       45.45
       2010 |        266        4.55       50.00
       2011 |        266        4.55       54.55
       2012 |        266        4.55       59.09
       2013 |        266        4.55       63.64
       2014 |        266        4.55       68.18
       2015 |        266        4.55       72.73
       2016 |        266        4.55       77.27
       2017 |        266        4.55       81.82
       2018 |        266        4.55       86.36
       2019 |        266        4.55       90.91
       2020 |        266        4.55       95.45
       2021 |        266        4.55      100.00
------------+-----------------------------------
      Total |      5,852      100.00

.                         lab var year "Year"

.                         tab indicatorname

                         Indicator Name |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
Coverage of social protection and lab.. |      5,852      100.00      100.00
----------------------------------------+-----------------------------------
                                  Total |      5,852      100.00

.                         ren countryname country

.                         ren countrycode ISO

.                         lab var spcoverage "Coverage of social protection and labor programs (% population)"

.                         drop indicatorname

.                         tab indicatorcode

       Indicator Code |      Freq.     Percent        Cum.
----------------------+-----------------------------------
per_allsp.cov_pop_tot |      5,852      100.00      100.00
----------------------+-----------------------------------
                Total |      5,852      100.00

.                         ** Note indicator code: per_allsp.cov_pop_tot 
.                         drop indicatorcode

.                         
.                 // Merge in country classifications
.                                 replace country = "Bahamas" if country == "Bahamas, The" 
(22 real changes made)

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia" 
(22 real changes made)

.                                 replace country = "Democratic Republic of the Congo" if country == "Congo, Dem. Rep." 
(22 real changes made)

.                                 replace country = "Congo" if country == "Congo, Rep." 
(22 real changes made)

.                                 replace country = "Czechia" if country == "Czech Republic" 
(22 real changes made)

.                                 replace country = "Côte D'Ivoire" if ISO == "CIV"
(22 real changes made)

.                                 replace country = "Egypt" if country == "Egypt, Arab Rep." 
(22 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia, The" 
(22 real changes made)

.                                 replace country = "Hong Kong" if country == "Hong Kong SAR, China" 
(22 real changes made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Rep." 
(22 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Korea, Dem. People's Rep." 
(22 real changes made)

.                                 replace country = "Republic of Korea" if country == "Korea, Rep." 
(22 real changes made)

.                                 replace country = "Kyrgyzstan" if country == "Kyrgyz Republic" 
(22 real changes made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Lao PDR" 
(22 real changes made)

.                                 replace country = "Macau" if country == "Macao SAR, China" 
(22 real changes made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia, Fed. Sts." 
(22 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova" 
(22 real changes made)

.                                 replace country = "Slovakia" if country == "Slovak Republic" 
(22 real changes made)

.                                 replace country = "Saint Kitts and Nevis" if country == "St. Kitts and Nevis" 
(22 real changes made)

.                                 replace country = "Saint Lucia" if country == "St. Lucia" 
(22 real changes made)

.                                 replace country = "Saint Vincent and the Grenadines" if country == "St. Vincent and the Grenadines" 
(22 real changes made)

.                                 replace country = "Sao Tome and Principe" if country == "São Tomé and Príncipe" 
(0 real changes made)

.                                 replace country = "Taiwan" if country == "Taiwan, China" 
(0 real changes made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania" 
(22 real changes made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom" 
(22 real changes made)

.                                 replace country = "United States of America" if country == "United States" 
(22 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela, RB" 
(22 real changes made)

.                                 replace country = "Viet Nam" if country == "Vietnam" 
(22 real changes made)

.                                 replace country = "United States Virgin Islands" if country == "Virgin Islands (U.S.)" 
(22 real changes made)

.                                 replace country = "Yemen" if country == "Yemen, Rep." 
(22 real changes made)

.                                 replace country = "Türkiye" if country == "Turkey"     
(22 real changes made)

.                                 replace country = "Palestine, State of" if country == "West Bank and Gaza"
(22 real changes made)

.                                 replace country = "Curaçao" if country == "Curacao"
(22 real changes made)

.                         merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         1,173
        from master                     1,100  (_merge==1)
        from using                         73  (_merge==2)

    Matched                             4,752  (_merge==3)
    -----------------------------------------

.                                 tab country if _merge == 1 // aggregate areas and Channel Islands, Kosovo

                           Country Name |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
            Africa Eastern and Southern |         22        2.00        2.00
             Africa Western and Central |         22        2.00        4.00
                             Arab World |         22        2.00        6.00
                 Caribbean small states |         22        2.00        8.00
         Central Europe and the Baltics |         22        2.00       10.00
                        Channel Islands |         22        2.00       12.00
             Early-demographic dividend |         22        2.00       14.00
                    East Asia & Pacific |         22        2.00       16.00
East Asia & Pacific (IDA & IBRD count.. |         22        2.00       18.00
East Asia & Pacific (excluding high i.. |         22        2.00       20.00
                              Euro area |         22        2.00       22.00
                  Europe & Central Asia |         22        2.00       24.00
Europe & Central Asia (IDA & IBRD cou.. |         22        2.00       26.00
Europe & Central Asia (excluding high.. |         22        2.00       28.00
                         European Union |         22        2.00       30.00
Fragile and conflict affected situati.. |         22        2.00       32.00
 Heavily indebted poor countries (HIPC) |         22        2.00       34.00
                            High income |         22        2.00       36.00
                              IBRD only |         22        2.00       38.00
                       IDA & IBRD total |         22        2.00       40.00
                              IDA blend |         22        2.00       42.00
                               IDA only |         22        2.00       44.00
                              IDA total |         22        2.00       46.00
              Late-demographic dividend |         22        2.00       48.00
              Latin America & Caribbean |         22        2.00       50.00
Latin America & Caribbean (excluding .. |         22        2.00       52.00
Latin America & the Caribbean (IDA & .. |         22        2.00       54.00
Least developed countries: UN classif.. |         22        2.00       56.00
                    Low & middle income |         22        2.00       58.00
                             Low income |         22        2.00       60.00
                    Lower middle income |         22        2.00       62.00
             Middle East & North Africa |         22        2.00       64.00
Middle East & North Africa (IDA & IBR.. |         22        2.00       66.00
Middle East & North Africa (excluding.. |         22        2.00       68.00
                          Middle income |         22        2.00       70.00
                          North America |         22        2.00       72.00
                         Not classified |         22        2.00       74.00
                           OECD members |         22        2.00       76.00
                     Other small states |         22        2.00       78.00
            Pacific island small states |         22        2.00       80.00
              Post-demographic dividend |         22        2.00       82.00
               Pre-demographic dividend |         22        2.00       84.00
                           Small states |         22        2.00       86.00
                             South Asia |         22        2.00       88.00
                South Asia (IDA & IBRD) |         22        2.00       90.00
                     Sub-Saharan Africa |         22        2.00       92.00
Sub-Saharan Africa (IDA & IBRD countr.. |         22        2.00       94.00
Sub-Saharan Africa (excluding high in.. |         22        2.00       96.00
                    Upper middle income |         22        2.00       98.00
                                  World |         22        2.00      100.00
----------------------------------------+-----------------------------------
                                  Total |      1,100      100.00

.                                 drop if _merge!=3
(1,173 observations deleted)

.                                 drop _merge

.                                 sort ISO year

.                                 drop if spcoverage==.
(4,301 observations deleted)

. 
. * Note: value for China based on China Household Income Project and appears to include the territories. To be conservative, we apply the value to mainland Chi
> na only.
.                 // Save
.                         save SP_coverage, replace
file SP_coverage.dta saved

.                         export delimited using SP_coverage, replace
file SP_coverage.csv saved

. 
. **# Social protection adequacy (World Bank)
.                 import delimited using "$datain\API_PER_ALLSP.ADQ_POP_TOT_DS2_en_csv_v2_4157457.csv", varnames(5) rowrange(5:271) clear
(encoding automatically selected: UTF-8)
(67 vars, 266 obs)

.                 drop v5-v44 // years prior to 2000

.                 drop v67 // empty column

.                 ren v* spadequacy#, addnumber(2000)

.                 reshape long spadequacy, i(countryname countrycode indicatorname indicatorcode) j(year)
(j = 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              266   ->   5,852       
Number of variables                  26   ->   6           
j variable (22 values)                    ->   year
xij variables:
spadequacy2000 spadequacy2001 ... spadequacy2021->spadequacy
-----------------------------------------------------------------------------

.                 tab year

       year |      Freq.     Percent        Cum.
------------+-----------------------------------
       2000 |        266        4.55        4.55
       2001 |        266        4.55        9.09
       2002 |        266        4.55       13.64
       2003 |        266        4.55       18.18
       2004 |        266        4.55       22.73
       2005 |        266        4.55       27.27
       2006 |        266        4.55       31.82
       2007 |        266        4.55       36.36
       2008 |        266        4.55       40.91
       2009 |        266        4.55       45.45
       2010 |        266        4.55       50.00
       2011 |        266        4.55       54.55
       2012 |        266        4.55       59.09
       2013 |        266        4.55       63.64
       2014 |        266        4.55       68.18
       2015 |        266        4.55       72.73
       2016 |        266        4.55       77.27
       2017 |        266        4.55       81.82
       2018 |        266        4.55       86.36
       2019 |        266        4.55       90.91
       2020 |        266        4.55       95.45
       2021 |        266        4.55      100.00
------------+-----------------------------------
      Total |      5,852      100.00

.                 lab var year "Year"

.                 ren countrycode ISO

.                 tab indicatorname

                         Indicator Name |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
Adequacy of social protection and lab.. |      5,852      100.00      100.00
----------------------------------------+-----------------------------------
                                  Total |      5,852      100.00

.                         // Note outliers > 100 changed to missing
.                         browse if spadequacy > 100 & spadequacy !=. // Lao PDR 2018 (133), Syria 2003 (811)

.                         replace spadequacy = . if spadequacy > 100 & spadequacy != .
(2 real changes made, 2 to missing)

.                         // label variable with indicator name
.                         lab var spadequacy "Adequacy of social protection and labor programs (% of total welfare of beneficiary households)"
note: label truncated to 80 characters

.                         drop indicatorname

.                         tab indicatorcode

       Indicator Code |      Freq.     Percent        Cum.
----------------------+-----------------------------------
per_allsp.adq_pop_tot |      5,852      100.00      100.00
----------------------+-----------------------------------
                Total |      5,852      100.00

.                         ** Note indicator code: per_allsp.adq_pop_tot 
.                         drop indicatorcode 

.                         ren countryname country

.                 
.                 // Merge in country classifications
.                         replace country = "Bahamas" if country == "Bahamas, The" 
(22 real changes made)

.                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia" 
(22 real changes made)

.                         replace country = "Democratic Republic of the Congo" if country == "Congo, Dem. Rep." 
(22 real changes made)

.                         replace country = "Congo" if country == "Congo, Rep." 
(22 real changes made)

.                         replace country = "Czechia" if country == "Czech Republic" 
(22 real changes made)

.                         replace country = "Côte D'Ivoire" if ISO == "CIV"
(22 real changes made)

.                         replace country = "Egypt" if country == "Egypt, Arab Rep." 
(22 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia, The" 
(22 real changes made)

.                         replace country = "Hong Kong" if country == "Hong Kong SAR, China" 
(22 real changes made)

.                         replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Rep." 
(22 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "Korea, Dem. People's Rep." 
(22 real changes made)

.                         replace country = "Republic of Korea" if country == "Korea, Rep." 
(22 real changes made)

.                         replace country = "Kyrgyzstan" if country == "Kyrgyz Republic" 
(22 real changes made)

.                         replace country = "Lao People's Democratic Republic" if country == "Lao PDR" 
(22 real changes made)

.                         replace country = "Macau" if country == "Macao SAR, China" 
(22 real changes made)

.                         replace country = "Micronesia (Federated States of)" if country == "Micronesia, Fed. Sts." 
(22 real changes made)

.                         replace country = "Republic of Moldova" if country == "Moldova" 
(22 real changes made)

.                         replace country = "Slovakia" if country == "Slovak Republic" 
(22 real changes made)

.                         replace country = "Saint Kitts and Nevis" if country == "St. Kitts and Nevis" 
(22 real changes made)

.                         replace country = "Saint Lucia" if country == "St. Lucia" 
(22 real changes made)

.                         replace country = "Saint Vincent and the Grenadines" if country == "St. Vincent and the Grenadines" 
(22 real changes made)

.                         replace country = "Sao Tome and Principe" if country == "São Tomé and Príncipe" 
(0 real changes made)

.                         replace country = "Taiwan" if country == "Taiwan, China" 
(0 real changes made)

.                         replace country = "United Republic of Tanzania" if country == "Tanzania" 
(22 real changes made)

.                         replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom" 
(22 real changes made)

.                         replace country = "United States of America" if country == "United States" 
(22 real changes made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela, RB" 
(22 real changes made)

.                         replace country = "Viet Nam" if country == "Vietnam" 
(22 real changes made)

.                         replace country = "United States Virgin Islands" if country == "Virgin Islands (U.S.)" 
(22 real changes made)

.                         replace country = "Yemen" if country == "Yemen, Rep." 
(22 real changes made)

.                         replace country = "Türkiye" if country == "Turkey"     
(22 real changes made)

.                         replace country = "Palestine, State of" if country == "West Bank and Gaza"
(22 real changes made)

.                                 replace country = "Curaçao" if country == "Curacao"
(22 real changes made)

.                 merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         1,173
        from master                     1,100  (_merge==1)
        from using                         73  (_merge==2)

    Matched                             4,752  (_merge==3)
    -----------------------------------------

.                         tab country if _merge == 1 // aggregate areas and Channel Islands, Curacao, Kosovo, Sint Maarten, Saint Martin                  merge 
> m:1 ISO country using countryclassification

                           Country Name |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
            Africa Eastern and Southern |         22        2.00        2.00
             Africa Western and Central |         22        2.00        4.00
                             Arab World |         22        2.00        6.00
                 Caribbean small states |         22        2.00        8.00
         Central Europe and the Baltics |         22        2.00       10.00
                        Channel Islands |         22        2.00       12.00
             Early-demographic dividend |         22        2.00       14.00
                    East Asia & Pacific |         22        2.00       16.00
East Asia & Pacific (IDA & IBRD count.. |         22        2.00       18.00
East Asia & Pacific (excluding high i.. |         22        2.00       20.00
                              Euro area |         22        2.00       22.00
                  Europe & Central Asia |         22        2.00       24.00
Europe & Central Asia (IDA & IBRD cou.. |         22        2.00       26.00
Europe & Central Asia (excluding high.. |         22        2.00       28.00
                         European Union |         22        2.00       30.00
Fragile and conflict affected situati.. |         22        2.00       32.00
 Heavily indebted poor countries (HIPC) |         22        2.00       34.00
                            High income |         22        2.00       36.00
                              IBRD only |         22        2.00       38.00
                       IDA & IBRD total |         22        2.00       40.00
                              IDA blend |         22        2.00       42.00
                               IDA only |         22        2.00       44.00
                              IDA total |         22        2.00       46.00
              Late-demographic dividend |         22        2.00       48.00
              Latin America & Caribbean |         22        2.00       50.00
Latin America & Caribbean (excluding .. |         22        2.00       52.00
Latin America & the Caribbean (IDA & .. |         22        2.00       54.00
Least developed countries: UN classif.. |         22        2.00       56.00
                    Low & middle income |         22        2.00       58.00
                             Low income |         22        2.00       60.00
                    Lower middle income |         22        2.00       62.00
             Middle East & North Africa |         22        2.00       64.00
Middle East & North Africa (IDA & IBR.. |         22        2.00       66.00
Middle East & North Africa (excluding.. |         22        2.00       68.00
                          Middle income |         22        2.00       70.00
                          North America |         22        2.00       72.00
                         Not classified |         22        2.00       74.00
                           OECD members |         22        2.00       76.00
                     Other small states |         22        2.00       78.00
            Pacific island small states |         22        2.00       80.00
              Post-demographic dividend |         22        2.00       82.00
               Pre-demographic dividend |         22        2.00       84.00
                           Small states |         22        2.00       86.00
                             South Asia |         22        2.00       88.00
                South Asia (IDA & IBRD) |         22        2.00       90.00
                     Sub-Saharan Africa |         22        2.00       92.00
Sub-Saharan Africa (IDA & IBRD countr.. |         22        2.00       94.00
Sub-Saharan Africa (excluding high in.. |         22        2.00       96.00
                    Upper middle income |         22        2.00       98.00
                                  World |         22        2.00      100.00
----------------------------------------+-----------------------------------
                                  Total |      1,100      100.00

.                         drop if _merge!=3 
(1,173 observations deleted)

.                         drop _merge

.                         drop if spadequacy==.
(4,331 observations deleted)

.                         sort ISO year

.                         
. * Note: value for China based on China Household Income Project and appears to include the territories. To be conservative, we apply the value to mainland Chi
> na only.
. 
.                         // Save
.                         save SP_adequacy, replace
file SP_adequacy.dta saved

.                         export delimited using SP_adequacy, replace
file SP_adequacy.csv saved

. 
.                 // Combined dataset of latest year per country combining coverage and adequacy for joint visualization
.                         use SP_coverage, clear

.                         merge 1:1 ISO year using SP_adequacy, keepusing(spadequacy)
(label status already defined)
(label UN_status_detail already defined)
(label wb_region already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            30
        from master                        30  (_merge==1)
        from using                          0  (_merge==2)

    Matched                               421  (_merge==3)
    -----------------------------------------

.                         drop _merge

.                                 
.                                 // Keep latest year 
.                                 misstable sum
                                                               Obs<.
                                                +------------------------------
               |                                | Unique
      Variable |     Obs=.     Obs>.     Obs<.  | values        Min         Max
  -------------+--------------------------------+------------------------------
  UN_status_~l |         4                 447  |      2          8          15
  UNmemberst~e |         4                 447  |      2          0           1
     UN_status |         7                 444  |      2          1           5
    spadequacy |        30                 421  |    421   .4552013    96.40502
  -----------------------------------------------------------------------------

.                                 tab year

       Year |      Freq.     Percent        Cum.
------------+-----------------------------------
       2000 |          2        0.44        0.44
       2001 |          1        0.22        0.67
       2002 |          4        0.89        1.55
       2003 |          4        0.89        2.44
       2004 |          8        1.77        4.21
       2005 |         13        2.88        7.10
       2006 |         20        4.43       11.53
       2007 |         23        5.10       16.63
       2008 |         29        6.43       23.06
       2009 |         38        8.43       31.49
       2010 |         37        8.20       39.69
       2011 |         38        8.43       48.12
       2012 |         40        8.87       56.98
       2013 |         24        5.32       62.31
       2014 |         32        7.10       69.40
       2015 |         34        7.54       76.94
       2016 |         32        7.10       84.04
       2017 |         27        5.99       90.02
       2018 |         29        6.43       96.45
       2019 |         16        3.55      100.00
------------+-----------------------------------
      Total |        451      100.00

.                                 egen latestyear=max(year), by(ISO) // identifies the latest year that is non-missing (now that missing was dropped)

.                                 tab latestyear

 latestyear |      Freq.     Percent        Cum.
------------+-----------------------------------
       2000 |          1        0.22        0.22
       2002 |          1        0.22        0.44
       2003 |          2        0.44        0.89
       2004 |          2        0.44        1.33
       2005 |          3        0.67        2.00
       2006 |          3        0.67        2.66
       2007 |          3        0.67        3.33
       2008 |          3        0.67        3.99
       2009 |         10        2.22        6.21
       2010 |          5        1.11        7.32
       2011 |         11        2.44        9.76
       2012 |         11        2.44       12.20
       2013 |         16        3.55       15.74
       2014 |         33        7.32       23.06
       2015 |         33        7.32       30.38
       2016 |         45        9.98       40.35
       2017 |         39        8.65       49.00
       2018 |         59       13.08       62.08
       2019 |        171       37.92      100.00
------------+-----------------------------------
      Total |        451      100.00

.                                 misstable sum
                                                               Obs<.
                                                +------------------------------
               |                                | Unique
      Variable |     Obs=.     Obs>.     Obs<.  | values        Min         Max
  -------------+--------------------------------+------------------------------
  UN_status_~l |         4                 447  |      2          8          15
  UNmemberst~e |         4                 447  |      2          0           1
     UN_status |         7                 444  |      2          1           5
    spadequacy |        30                 421  |    421   .4552013    96.40502
  -----------------------------------------------------------------------------

.                                 sum if spadequacy==. // no missing data in latest year

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
     country |          0
         ISO |          0
        year |         30    2008.933    4.555658       2000       2018
  spcoverage |         30    27.88112    23.26988   .5144736   72.67794
      incgrp |          0
-------------+---------------------------------------------------------
   wb_region |         30    4.533333    2.459792          1          7
   disp_area |          0
UN_status_~l |         30    8.233333    1.278019          8         15
UNmemberst~e |         30    .9666667    .1825742          0          1
   UN_status |         29           5           0          5          5
-------------+---------------------------------------------------------
 territoryof |          0
ISO_govern~g |          0
UN_contreg~e |          0
UN_contine~n |          0
UN_subregi~e |          0
-------------+---------------------------------------------------------
UN_subregion |          0
UN_interme~e |          0
UN_interme~n |          0
    m49_code |          0
  spadequacy |          0
-------------+---------------------------------------------------------
  latestyear |         30      2014.8    4.693356       2003       2019

.                                 keep if year==latestyear
(327 observations deleted)

.                                 tab year

       Year |      Freq.     Percent        Cum.
------------+-----------------------------------
       2000 |          1        0.81        0.81
       2002 |          1        0.81        1.61
       2003 |          2        1.61        3.23
       2004 |          2        1.61        4.84
       2005 |          3        2.42        7.26
       2006 |          3        2.42        9.68
       2007 |          3        2.42       12.10
       2008 |          3        2.42       14.52
       2009 |          9        7.26       21.77
       2010 |          4        3.23       25.00
       2011 |          7        5.65       30.65
       2012 |          6        4.84       35.48
       2013 |          6        4.84       40.32
       2014 |         11        8.87       49.19
       2015 |         11        8.87       58.06
       2016 |         12        9.68       67.74
       2017 |         10        8.06       75.81
       2018 |         14       11.29       87.10
       2019 |         16       12.90      100.00
------------+-----------------------------------
      Total |        124      100.00

.                                 misstable sum
                                                               Obs<.
                                                +------------------------------
               |                                | Unique
      Variable |     Obs=.     Obs>.     Obs<.  | values        Min         Max
  -------------+--------------------------------+------------------------------
  UN_status_~l |         1                 123  |      2          8          15
  UNmemberst~e |         1                 123  |      2          0           1
     UN_status |         2                 122  |      2          1           5
    spadequacy |        10                 114  |    114   .4552013    66.99275
  -----------------------------------------------------------------------------

.                                 list country if spadequacy==.

     +-----------------------------------+
     |                           country |
     |-----------------------------------|
  1. |                       Afghanistan |
 16. |                            Bhutan |
 56. |  Lao People's Democratic Republic |
 57. |                           Lebanon |
 63. |                           Morocco |
     |-----------------------------------|
 65. |                        Madagascar |
 73. |                        Mauritania |
103. |              Syrian Arab Republic |
106. |                          Thailand |
117. | Venezuela, Bolivarian Republic of |
     +-----------------------------------+

.                                 ren latestyear datayear

.                                 lab var datayear "Data year (latest available)"

.                                 order ISO country year spcoverage spadequacy datayear

.                                 
.                                 // Save
.                                         save social_protection_latest, replace
file social_protection_latest.dta saved

.                                         export delimited using social_protection_latest, replace
file social_protection_latest.csv saved

. 
. 
. ** RIGHTS **********************************************************************
. 
. **# % children 5-17 engaged in child labor (UNICEF)
. * NOTE: this dataset is in long form and includes disaggregation by sex and a total value, take care not to double count
.                 import delimited using "$datain\GLOBAL_DATAFLOW_UNICEF_CHLD_5-17_LBR_ECON", clear
(encoding automatically selected: ISO-8859-1)
(22 vars, 301 obs)

.                         ren ref_areageographicarea country

.                         gen ISO=substr(country,1,3)

.                         tab ISO

        ISO |      Freq.     Percent        Cum.
------------+-----------------------------------
        AFG |          3        1.00        1.00
        AGO |          3        1.00        1.99
        ALB |          3        1.00        2.99
        ARM |          3        1.00        3.99
        BDI |          3        1.00        4.98
        BEN |          3        1.00        5.98
        BFA |          3        1.00        6.98
        BGD |          3        1.00        7.97
        BLR |          3        1.00        8.97
        BLZ |          3        1.00        9.97
        BOL |          3        1.00       10.96
        BRA |          3        1.00       11.96
        BRB |          3        1.00       12.96
        BTN |          3        1.00       13.95
        CAF |          3        1.00       14.95
        CHL |          3        1.00       15.95
        CIV |          3        1.00       16.94
        CMR |          3        1.00       17.94
        COD |          3        1.00       18.94
        COG |          3        1.00       19.93
        COL |          3        1.00       20.93
        COM |          3        1.00       21.93
        CRI |          3        1.00       22.92
        DOM |          3        1.00       23.92
        DZA |          3        1.00       24.92
        ECU |          3        1.00       25.91
        EGY |          3        1.00       26.91
        ETH |          3        1.00       27.91
        GAB |          3        1.00       28.90
        GEO |          3        1.00       29.90
        GHA |          3        1.00       30.90
        GIN |          3        1.00       31.89
        GMB |          3        1.00       32.89
        GNB |          3        1.00       33.89
        GTM |          3        1.00       34.88
        GUY |          3        1.00       35.88
        HND |          3        1.00       36.88
        HTI |          3        1.00       37.87
        IND |          3        1.00       38.87
        IRQ |          3        1.00       39.87
        JAM |          3        1.00       40.86
        JOR |          3        1.00       41.86
        KEN |          3        1.00       42.86
        KGZ |          3        1.00       43.85
        KHM |          3        1.00       44.85
        KIR |          3        1.00       45.85
        LAO |          3        1.00       46.84
        LBR |          3        1.00       47.84
        LCA |          3        1.00       48.84
        LKA |          3        1.00       49.83
        LSO |          3        1.00       50.83
        MDG |          3        1.00       51.83
        MEX |          3        1.00       52.82
        MKD |          3        1.00       53.82
        MLI |          3        1.00       54.82
        MMR |          3        1.00       55.81
        MNE |          3        1.00       56.81
        MNG |          3        1.00       57.81
        MRT |          3        1.00       58.80
        MWI |          3        1.00       59.80
        NER |          3        1.00       60.80
        NGA |          3        1.00       61.79
        NIC |          3        1.00       62.79
        NPL |          3        1.00       63.79
        PAK |          3        1.00       64.78
        PAN |          3        1.00       65.78
        PER |          3        1.00       66.78
        PHL |          3        1.00       67.77
        PRK |          3        1.00       68.77
        PRY |          3        1.00       69.77
        PSE |          3        1.00       70.76
        RWA |          3        1.00       71.76
        SDN |          3        1.00       72.76
        SEN |          3        1.00       73.75
        SLB |          3        1.00       74.75
        SLE |          3        1.00       75.75
        SLV |          3        1.00       76.74
        SRB |          3        1.00       77.74
        STP |          3        1.00       78.74
        SUR |          3        1.00       79.73
        SWZ |          3        1.00       80.73
        TCA |          3        1.00       81.73
        TCD |          3        1.00       82.72
        TGO |          3        1.00       83.72
        TKM |          3        1.00       84.72
        TLS |          3        1.00       85.71
        TON |          3        1.00       86.71
        TTO |          3        1.00       87.71
        TUN |          3        1.00       88.70
        TUR |          3        1.00       89.70
        TUV |          3        1.00       90.70
        TZA |          3        1.00       91.69
        UGA |          3        1.00       92.69
        UKR |          3        1.00       93.69
        URY |          3        1.00       94.68
        VNM |          1        0.33       95.02
        VUT |          3        1.00       96.01
        WSM |          3        1.00       97.01
        ZAF |          3        1.00       98.01
        ZMB |          3        1.00       99.00
        ZWE |          3        1.00      100.00
------------+-----------------------------------
      Total |        301      100.00

.                         replace country=substr(country,5,.)
(301 real changes made)

.                         tab country

               REF_AREA:Geographic area |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                            Afghanistan |          3        1.00        1.00
                                Albania |          3        1.00        1.99
                                Algeria |          3        1.00        2.99
                                 Angola |          3        1.00        3.99
                                Armenia |          3        1.00        4.98
                             Bangladesh |          3        1.00        5.98
                               Barbados |          3        1.00        6.98
                                Belarus |          3        1.00        7.97
                                 Belize |          3        1.00        8.97
                                  Benin |          3        1.00        9.97
                                 Bhutan |          3        1.00       10.96
       Bolivia (Plurinational State of) |          3        1.00       11.96
                                 Brazil |          3        1.00       12.96
                           Burkina Faso |          3        1.00       13.95
                                Burundi |          3        1.00       14.95
                               Cambodia |          3        1.00       15.95
                               Cameroon |          3        1.00       16.94
               Central African Republic |          3        1.00       17.94
                                   Chad |          3        1.00       18.94
                                  Chile |          3        1.00       19.93
                               Colombia |          3        1.00       20.93
                                Comoros |          3        1.00       21.93
                                  Congo |          3        1.00       22.92
                             Costa Rica |          3        1.00       23.92
                         CÃ´te d'Ivoire |          3        1.00       24.92
  Democratic People's Republic of Korea |          3        1.00       25.91
       Democratic Republic of the Congo |          3        1.00       26.91
                     Dominican Republic |          3        1.00       27.91
                                Ecuador |          3        1.00       28.90
                                  Egypt |          3        1.00       29.90
                            El Salvador |          3        1.00       30.90
                               Eswatini |          3        1.00       31.89
                               Ethiopia |          3        1.00       32.89
                                  Gabon |          3        1.00       33.89
                                 Gambia |          3        1.00       34.88
                                Georgia |          3        1.00       35.88
                                  Ghana |          3        1.00       36.88
                              Guatemala |          3        1.00       37.87
                                 Guinea |          3        1.00       38.87
                          Guinea-Bissau |          3        1.00       39.87
                                 Guyana |          3        1.00       40.86
                                  Haiti |          3        1.00       41.86
                               Honduras |          3        1.00       42.86
                                  India |          3        1.00       43.85
                                   Iraq |          3        1.00       44.85
                                Jamaica |          3        1.00       45.85
                                 Jordan |          3        1.00       46.84
                                  Kenya |          3        1.00       47.84
                               Kiribati |          3        1.00       48.84
                             Kyrgyzstan |          3        1.00       49.83
       Lao People's Democratic Republic |          3        1.00       50.83
                                Lesotho |          3        1.00       51.83
                                Liberia |          3        1.00       52.82
                             Madagascar |          3        1.00       53.82
                                 Malawi |          3        1.00       54.82
                                   Mali |          3        1.00       55.81
                             Mauritania |          3        1.00       56.81
                                 Mexico |          3        1.00       57.81
                               Mongolia |          3        1.00       58.80
                             Montenegro |          3        1.00       59.80
                                Myanmar |          3        1.00       60.80
                                  Nepal |          3        1.00       61.79
                              Nicaragua |          3        1.00       62.79
                                  Niger |          3        1.00       63.79
                                Nigeria |          3        1.00       64.78
                        North Macedonia |          3        1.00       65.78
                               Pakistan |          3        1.00       66.78
                                 Panama |          3        1.00       67.77
                               Paraguay |          3        1.00       68.77
                                   Peru |          3        1.00       69.77
                            Philippines |          3        1.00       70.76
                   Republic of TÃ¼rkiye |          3        1.00       71.76
                                 Rwanda |          3        1.00       72.76
                            Saint Lucia |          3        1.00       73.75
                                  Samoa |          3        1.00       74.75
                  Sao Tome and Principe |          3        1.00       75.75
                                Senegal |          3        1.00       76.74
                                 Serbia |          3        1.00       77.74
                           Sierra Leone |          3        1.00       78.74
                        Solomon Islands |          3        1.00       79.73
                           South Africa |          3        1.00       80.73
                              Sri Lanka |          3        1.00       81.73
                     State of Palestine |          3        1.00       82.72
                                  Sudan |          3        1.00       83.72
                               Suriname |          3        1.00       84.72
                            Timor-Leste |          3        1.00       85.71
                                   Togo |          3        1.00       86.71
                                  Tonga |          3        1.00       87.71
                    Trinidad and Tobago |          3        1.00       88.70
                                Tunisia |          3        1.00       89.70
                           Turkmenistan |          3        1.00       90.70
               Turks and Caicos Islands |          3        1.00       91.69
                                 Tuvalu |          3        1.00       92.69
                                 Uganda |          3        1.00       93.69
                                Ukraine |          3        1.00       94.68
            United Republic of Tanzania |          3        1.00       95.68
                                Uruguay |          3        1.00       96.68
                                Vanuatu |          3        1.00       97.67
                               Viet Nam |          1        0.33       98.01
                                 Zambia |          3        1.00       99.00
                               Zimbabwe |          3        1.00      100.00
----------------------------------------+-----------------------------------
                                  Total |        301      100.00

.                         lab var country "Country"

.                         ren sexsex sex

.                         ren time_periodtimeperiod year

.                         lab var sex "Sex"

.                         lab var year "Year"

.                         ren obs_valueobservationvalue childlabor

.                         list indicatorindicator in 1/1

     +---------------------------------------------------------------------------------------------------------------+
     |                                                                                            indicatorindicator |
     |---------------------------------------------------------------------------------------------------------------|
  1. | PT_CHLD_5-17_LBR_ECON: Percentage of children (aged 5-17 years) engaged in child labour (economic activities) |
     +---------------------------------------------------------------------------------------------------------------+

.                         lab var childlabor "% children (aged 5-17 years) engaged in child labour (economic activities)"

.                         drop dataflow indicatorindicator unit_multiplierunitmultiplier unit_measureunitofmeasure obs_statusobservationstatus obs_confobservati
> onconfidentaili lower_boundlowerbound upper_boundupperbound wgtd_sampl_sizeweightedsamplesiz obs_footnoteobservationfootnote series_footnoteseriesfootnote dat
> a_sourcedatasource source_linkcitationoforlinktothe custodiancustodian time_period_methodtimeperiodacti ref_periodreferenceperiod coverage_timetheperiodoftime
> forw agecurrentage

.                         order ISO country year sex childlabor

.                         encode sex, gen(sex2)

.                         drop sex

.                         ren sex2 sex

.                         tab sex

        Sex |      Freq.     Percent        Cum.
------------+-----------------------------------
  F: Female |        100       33.22       33.22
    M: Male |        100       33.22       66.45
  _T: Total |        101       33.55      100.00
------------+-----------------------------------
      Total |        301      100.00

.                         tab sex, nolabel

        Sex |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        100       33.22       33.22
          2 |        100       33.22       66.45
          3 |        101       33.55      100.00
------------+-----------------------------------
      Total |        301      100.00

.                         recode sex (3=0)
(101 changes made to sex)

.                         lab def sex 1 "Female" 2 "Male" 0 "Total", replace

.                         lab val sex sex

.                         sort ISO year sex

.                         
.                 // Merge in country classification
.                         replace country = trim(country)
(301 real changes made)

.                         replace country = "Côte D'Ivoire" if country == "CÃ´te d'Ivoire"
(3 real changes made)

.                         replace country = "Türkiye" if country == "Republic of TÃ¼rkiye"
(3 real changes made)

.                         replace country = "Palestine, State of" if country == "State of Palestine"
(3 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(3 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(3 real changes made)

.                         merge m:1 ISO country using countryclassification
(variable country was str42, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           188
        from master                         0  (_merge==1)
        from using                        188  (_merge==2)

    Matched                               301  (_merge==3)
    -----------------------------------------

.                                 browse if _merge != 3

.                                 drop if _merge==2
(188 observations deleted)

.                                 drop _merge

.                                 
.                 // Further clean and shape
.                         tab country, sum(year) // Note data year for each country

                                  |           Summary of Year
                          Country |        Mean   Std. dev.       Freq.
----------------------------------+------------------------------------
                      Afghanistan |        2020           0           3
                          Albania |        2010           0           3
                          Algeria |        2019           0           3
                           Angola |        2016           0           3
                          Armenia |        2015           0           3
                       Bangladesh |        2019           0           3
                         Barbados |        2012           0           3
                          Belarus |        2019           0           3
                           Belize |        2013           0           3
                            Benin |        2018           0           3
                           Bhutan |        2010           0           3
 Bolivia (Plurinational State of) |        2019           0           3
                           Brazil |        2015           0           3
                     Burkina Faso |        2010           0           3
                          Burundi |        2017           0           3
                         Cambodia |        2012           0           3
                         Cameroon |        2014           0           3
         Central African Republic |        2019           0           3
                             Chad |        2019           0           3
                            Chile |        2012           0           3
                         Colombia |        2020           0           3
                          Comoros |        2012           0           3
                            Congo |        2015           0           3
                       Costa Rica |        2018           0           3
                    Côte D'Ivoire |        2016           0           3
        Dem People's Rep of Korea |        2017           0           3
 Democratic Republic of the Congo |        2018           0           3
               Dominican Republic |        2019           0           3
                          Ecuador |        2019           0           3
                            Egypt |        2014           0           3
                      El Salvador |        2020           0           3
                         Eswatini |        2010           0           3
                         Ethiopia |        2015           0           3
                            Gabon |        2012           0           3
         Gambia (Republic of The) |        2018           0           3
                          Georgia |        2015           0           3
                            Ghana |        2018           0           3
                        Guatemala |        2013           0           3
                           Guinea |        2016           0           3
                    Guinea-Bissau |        2019           0           3
                           Guyana |        2020           0           3
                            Haiti |        2012           0           3
                         Honduras |        2019           0           3
                            India |        2012           0           3
                             Iraq |        2018           0           3
                          Jamaica |        2016           0           3
                           Jordan |        2016           0           3
                            Kenya |        2019           0           3
                         Kiribati |        2019           0           3
                       Kyrgyzstan |        2018           0           3
 Lao People's Democratic Republic |        2017           0           3
                          Lesotho |        2018           0           3
                          Liberia |        2020           0           3
                       Madagascar |        2018           0           3
                           Malawi |        2020           0           3
                             Mali |        2017           0           3
                       Mauritania |        2015           0           3
                           Mexico |        2019           0           3
                         Mongolia |        2018           0           3
                       Montenegro |        2018           0           3
                          Myanmar |        2015           0           3
                            Nepal |        2014           0           3
                        Nicaragua |        2012           0           3
                            Niger |        2012           0           3
                          Nigeria |        2017           0           3
                  North Macedonia |        2019           0           3
                         Pakistan |        2018           0           3
              Palestine, State of |        2020           0           3
                           Panama |        2016           0           3
                         Paraguay |        2016           0           3
                             Peru |        2020           0           3
                      Philippines |        2020           0           3
                           Rwanda |        2017           0           3
                      Saint Lucia |        2012           0           3
                            Samoa |        2020           0           3
            Sao Tome and Principe |        2019           0           3
                          Senegal |        2016           0           3
                           Serbia |        2019           0           3
                     Sierra Leone |        2017           0           3
                  Solomon Islands |        2015           0           3
                     South Africa |        2015           0           3
                        Sri Lanka |        2016           0           3
                            Sudan |        2014           0           3
                         Suriname |        2018           0           3
                      Timor-Leste |        2016           0           3
                             Togo |        2017           0           3
                            Tonga |        2019           0           3
              Trinidad and Tobago |        2011           0           3
                          Tunisia |        2012           0           3
                     Turkmenistan |        2016           0           3
         Turks and Caicos Islands |        2020           0           3
                           Tuvalu |        2020           0           3
                          Türkiye |        2019           0           3
                           Uganda |        2017           0           3
                          Ukraine |        2012           0           3
      United Republic of Tanzania |        2014           0           3
                          Uruguay |        2010           0           3
                          Vanuatu |        2013           0           3
                         Viet Nam |        2021           0           1
                           Zambia |        2012           0           3
                         Zimbabwe |        2019           0           3
----------------------------------+------------------------------------
                            Total |   2016.2658   2.9903944         301

.                         unique country
Number of unique values of country is  101
Number of records is  301

.                         drop ISO_governing UN_status territoryof 

.                         reshape wide childlabor, i(ISO year wb_region incgrp country UNmemberstate) j(sex)
(j = 0 1 2)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations              301   ->   101         
Number of variables                  17   ->   18          
j variable (3 values)               sex   ->   (dropped)
xij variables:
                             childlabor   ->   childlabor0 childlabor1 childlabor2
-----------------------------------------------------------------------------

.                         ren childlabor0 childlabor // this is the total

.                                 lab var childlabor "% children (aged 5-17 years) engaged in child labour (economic activities)"

.                         ren childlabor1 childlabor_f

.                                 lab var childlabor_f "% children (aged 5-17 years) engaged in child labour (economic activities), female"
note: label truncated to 80 characters

.                         ren childlabor2 childlabor_m

.                                 lab var childlabor_m "% children (aged 5-17 years) engaged in child labour (economic activities), male"

.                         
.                 // Save
.                         save childlabor, replace
file childlabor.dta saved

.                         export delimited using childlabor, replace
file childlabor.csv saved

.         
. **# % total landholdings held by women (FAO)
.                 import delimited using "$datain\FAOSTAT_LandholdingBySex_1990-2010.csv", clear
(encoding automatically selected: UTF-8)
(15 vars, 374 obs)

.                         ren area country

.                         ren value landholding

.                         tab item

                                   Item |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
Holdings operated by civil persons, f.. |        187       50.00       50.00
Holdings operated by civil persons, m.. |        187       50.00      100.00
----------------------------------------+-----------------------------------
                                  Total |        374      100.00

.                         encode item, gen(sex)

.                         lab def sex 1 "Female" 2 "Male", replace

.                         lab val sex sex

.                         lab var sex "Sex"

.                         tab unit

       Unit |      Freq.     Percent        Cum.
------------+-----------------------------------
          % |        374      100.00      100.00
------------+-----------------------------------
      Total |        374      100.00

.                         lab var landholding "Holdings operated by sex (% holdings)"

.                         drop domaincode domain areacodefao elementcode itemcode unit flag flagdescription note

.                         
.                         // Merge in country classification
.                                 replace country = "Côte D'Ivoire" if country == "C?te d'Ivoire"
(4 real changes made)

.                                 replace country = "Reunion" if country == "R?union"
(2 real changes made)

.                                 replace country = "French Guiana" if country == "French Guyana"
(2 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(4 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(2 real changes made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           127
        from master                         0  (_merge==1)
        from using                        127  (_merge==2)

    Matched                               374  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(127 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           167
        from master                         0  (_merge==1)
        from using                        167  (_merge==2)

    Matched                               374  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                                         drop if _merge!=3 
(167 observations deleted)

.                                 drop _merge

.                                 tab censusyear

        Census Year |      Freq.     Percent        Cum.
--------------------+-----------------------------------
               1986 |          4        1.08        1.08
          1987/1992 |          2        0.54        1.61
               1988 |          6        1.61        3.23
          1988-1989 |          6        1.61        4.84
               1989 |         10        2.69        7.53
          1989-1990 |          4        1.08        8.60
          1989/1995 |          2        0.54        9.14
               1990 |         10        2.69       11.83
          1990-1991 |          4        1.08       12.90
               1991 |          2        0.54       13.44
               1992 |          2        0.54       13.98
          1992-1993 |          4        1.08       15.05
          1992-1994 |          2        0.54       15.59
               1993 |          4        1.08       16.67
          1993-1994 |          2        0.54       17.20
          1993-1995 |          2        0.54       17.74
               1994 |          2        0.54       18.28
          1994-1995 |          2        0.54       18.82
               1995 |          8        2.15       20.97
1995-1996/2000-2001 |          2        0.54       21.51
               1996 |          2        0.54       22.04
          1996-1997 |          2        0.54       22.58
               1997 |          2        0.54       23.12
          1997/2002 |          2        0.54       23.66
          1998-1999 |          6        1.61       25.27
          1998/2003 |          4        1.08       26.34
               1999 |         12        3.23       29.57
          1999-2000 |         12        3.23       32.80
               2000 |         22        5.91       38.71
          2000-2001 |          4        1.08       39.78
               2001 |          6        1.61       41.40
          2001-2002 |          4        1.08       42.47
               2002 |          8        2.15       44.62
          2002-2003 |          2        0.54       45.16
               2003 |          8        2.15       47.31
          2003-2004 |          2        0.54       47.85
               2004 |          8        2.15       50.00
          2004-2005 |          6        1.61       51.61
          2004-2008 |          2        0.54       52.15
2005-2006/2010-2011 |          2        0.54       52.69
               2006 |          2        0.54       53.23
          2006/2011 |          4        1.08       54.30
               2007 |          6        1.61       55.91
          2007-2008 |          2        0.54       56.45
          2007/2012 |          6        1.61       58.06
               2008 |          6        1.61       59.68
          2008-2009 |          4        1.08       60.75
          2008-2012 |          2        0.54       61.29
               2009 |         10        2.69       63.98
          2009-2010 |          8        2.15       66.13
               2010 |         60       16.13       82.26
          2010-2011 |          2        0.54       82.80
          2010/2015 |          2        0.54       83.33
               2011 |         14        3.76       87.10
          2011-2012 |          4        1.08       88.17
               2012 |          8        2.15       90.32
          2012-2013 |          4        1.08       91.40
          2012-2014 |          2        0.54       91.94
               2013 |          8        2.15       94.09
          2013-2014 |          2        0.54       94.62
               2014 |         10        2.69       97.31
          2014-2015 |          2        0.54       97.85
               2015 |          6        1.61       99.46
          2015-2016 |          2        0.54      100.00
--------------------+-----------------------------------
              Total |        372      100.00

.                                 gen year=substr(censusyear,-4,4) // take year as last year of census range
(2 missing values generated)

.                                 tab year

       year |      Freq.     Percent        Cum.
------------+-----------------------------------
       1986 |          4        1.08        1.08
       1988 |          6        1.61        2.69
       1989 |         16        4.30        6.99
       1990 |         14        3.76       10.75
       1991 |          6        1.61       12.37
       1992 |          4        1.08       13.44
       1993 |          8        2.15       15.59
       1994 |          6        1.61       17.20
       1995 |         14        3.76       20.97
       1996 |          2        0.54       21.51
       1997 |          4        1.08       22.58
       1999 |         18        4.84       27.42
       2000 |         34        9.14       36.56
       2001 |         12        3.23       39.78
       2002 |         14        3.76       43.55
       2003 |         14        3.76       47.31
       2004 |         10        2.69       50.00
       2005 |          6        1.61       51.61
       2006 |          2        0.54       52.15
       2007 |          6        1.61       53.76
       2008 |         10        2.69       56.45
       2009 |         14        3.76       60.22
       2010 |         68       18.28       78.49
       2011 |         22        5.91       84.41
       2012 |         20        5.38       89.78
       2013 |         12        3.23       93.01
       2014 |         14        3.76       96.77
       2015 |         10        2.69       99.46
       2016 |          2        0.54      100.00
------------+-----------------------------------
      Total |        372      100.00

.                                 destring year, replace
year: all characters numeric; replaced as int
(2 missing values generated)

.                                 tab country, sum(year)

                                  |           Summary of year
                             Area |        Mean   Std. dev.       Freq.
----------------------------------+------------------------------------
                          Albania |        2012           0           2
                          Algeria |        2001           0           2
                   American Samoa |      2007.5   5.1961524           4
                        Argentina |        1988           0           2
                          Armenia |        2014           0           2
                          Austria |        2000   8.9442719           6
                       Azerbaijan |        2015           0           2
                          Bahamas |        1994           0           2
                       Bangladesh |      2002.5    6.350853           4
                          Belgium |        2000   8.9442719           6
                            Benin |        1993           0           2
 Bolivia (Plurinational State of) |        2013           0           2
                         Botswana |   2004.3333   9.3950341           6
                           Brazil |        1996   11.547005           4
                         Bulgaria |        2010           0           2
                     Burkina Faso |        1993           0           2
                       Cabo Verde |        1996   9.2376043           4
                           Canada |        2011           0           2
                         Colombia |        2014           0           2
                          Comoros |        2004           0           2
                            Congo |        2015           0           2
                     Cook Islands |        2011           0           2
                       Costa Rica |        2014           0           2
                          Croatia |        2010           0           2
                           Cyprus |        2003   6.7527772           6
                          Czechia |        2010           0           2
                    Côte D'Ivoire |        2009   8.0829038           4
 Democratic Republic of the Congo |        1989           0           2
                          Denmark |        2005   5.7735027           4
                         Djibouti |        1995           0           2
                         Dominica |        1995           0           2
                          Ecuador |        2000           0           2
                            Egypt |        2000   8.9442719           6
                          Estonia |        2010           0           2
                         Eswatini |        2003   11.547005           4
                         Ethiopia |        2002           0           2
                             Fiji |        2000   10.392305           4
                          Finland |        2005   5.7735027           4
                           France |   1999.6667   9.8927583           6
                    French Guiana |        1989           0           2
         Gambia (Republic of The) |        2007   5.7735027           4
                          Georgia |      2009.5   5.1961524           4
                          Germany |      2004.5    6.350853           4
                           Greece |        2005   5.7735027           4
                          Grenada |      2003.5   9.8149546           4
                       Guadeloupe |        1989           0           2
                             Guam |        2012           0           2
                        Guatemala |        2003           0           2
                           Guinea |        1998   3.4641016           4
                            Haiti |        2009           0           2
                          Hungary |        2005   5.7735027           4
                          Iceland |        2010           0           2
                            India |        2006   5.7735027           4
                        Indonesia |      2003.5   10.969655           4
                          Ireland |        2005   5.7735027           4
                            Italy |   2000.3333   8.5009803           6
                           Jordan |        1997           0           2
                       Kyrgyzstan |        2003           0           2
 Lao People's Democratic Republic |        2005   6.9282032           4
                           Latvia |        2010           0           2
                          Lebanon |      2004.5    6.350853           4
                          Lesotho |        2000   8.9442719           6
                        Lithuania |        2010           0           2
                       Luxembourg |        2005   5.7735027           4
                       Madagascar |        2005           0           2
                             Mali |        2005           0           2
                            Malta |        2010           0           2
                       Martinique |        1989           0           2
                        Mauritius |        2014           0           2
                           Mexico |        2007           0           2
                         Mongolia |        2011           0           2
                       Montenegro |        2010           0           2
                          Morocco |        1996           0           2
                       Mozambique |      2005.5   5.1961524           4
                          Myanmar |        1998   5.7735027           4
                          Namibia |        1995           0           2
                            Nepal |        2002   8.9442719           6
                      Netherlands |        2005   5.7735027           4
                        Nicaragua |        2006   5.7735027           4
                            Niger |        2008           0           2
                             Niue |        1999   11.547005           4
         Northern Mariana Islands |      2007.5   5.1961524           4
                           Norway |   1999.3333   9.3950341           6
                             Oman |        2013           0           2
                           Panama |        2011           0           2
                             Peru |        2012           0           2
                      Philippines |        2003           0           2
                           Poland |        2010           0           2
                         Portugal |   1999.6667   8.5009803           6
                      Puerto Rico |        2002           0           2
                Republic of Korea |        2015           0           2
              Republic of Moldova |        2011           0           2
                          Reunion |        1989           0           2
                          Romania |        2006   4.6188022           4
            Saint Kitts and Nevis |        2000           0           2
                      Saint Lucia |      1996.5   12.124356           4
                            Samoa |        1999   8.9442719           6
            Sao Tome and Principe |        1990           0           2
                     Saudi Arabia |        1999           0           2
                          Senegal |        2006   8.0829038           4
                           Serbia |        2007   5.7735027           4
                       Seychelles |        2011           0           2
                         Slovakia |        2010           0           2
                         Slovenia |        2010           0           2
                            Spain |        2004   5.7735027           4
                        Sri Lanka |        2014           0           2
                         Suriname |        2008           0           2
                           Sweden |      2004.5    6.350853           4
                      Switzerland |        2010           0           2
                         Thailand |        2008   5.7735027           4
                             Togo |        2014           0           2
                            Tonga |        2015           0           2
              Trinidad and Tobago |        2004           0           2
                           Uganda |        2000   10.392305           4
United Kingdom of Great Britain.. |        2005   5.7735027           4
      United Republic of Tanzania |      2001.5   7.5055535           4
         United States of America |        2002   11.547005           4
                          Uruguay |        2011           0           2
                          Vanuatu |        2007           0           2
Venezuela, Bolivarian Republic of |        2008           0           2
                         Viet Nam |        2011           0           2
                           Zambia |        1995   5.7735027           4
----------------------------------+------------------------------------
                            Total |   2003.7043   8.0740296         372

.                                 egen latestyear=max(year), by(ISO)

. 
.                                 // Keep only latest data point for countries with more than one survey round
.                                         tab country if year != latestyear

                                   Area |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                         American Samoa |          2        1.54        1.54
                                Austria |          4        3.08        4.62
                             Bangladesh |          2        1.54        6.15
                                Belgium |          4        3.08        9.23
                               Botswana |          4        3.08       12.31
                                 Brazil |          2        1.54       13.85
                             Cabo Verde |          2        1.54       15.38
                                 Cyprus |          4        3.08       18.46
                          Côte D'Ivoire |          2        1.54       20.00
                                Denmark |          2        1.54       21.54
                                  Egypt |          4        3.08       24.62
                               Eswatini |          2        1.54       26.15
                                   Fiji |          2        1.54       27.69
                                Finland |          2        1.54       29.23
                                 France |          4        3.08       32.31
               Gambia (Republic of The) |          2        1.54       33.85
                                Georgia |          2        1.54       35.38
                                Germany |          2        1.54       36.92
                                 Greece |          2        1.54       38.46
                                Grenada |          2        1.54       40.00
                                 Guinea |          2        1.54       41.54
                                Hungary |          2        1.54       43.08
                                  India |          2        1.54       44.62
                              Indonesia |          2        1.54       46.15
                                Ireland |          2        1.54       47.69
                                  Italy |          4        3.08       50.77
       Lao People's Democratic Republic |          2        1.54       52.31
                                Lebanon |          2        1.54       53.85
                                Lesotho |          4        3.08       56.92
                             Luxembourg |          2        1.54       58.46
                                Morocco |          2        1.54       60.00
                             Mozambique |          2        1.54       61.54
                                Myanmar |          2        1.54       63.08
                                  Nepal |          4        3.08       66.15
                            Netherlands |          2        1.54       67.69
                              Nicaragua |          2        1.54       69.23
                                   Niue |          2        1.54       70.77
               Northern Mariana Islands |          2        1.54       72.31
                                 Norway |          4        3.08       75.38
                               Portugal |          4        3.08       78.46
                                Romania |          2        1.54       80.00
                            Saint Lucia |          2        1.54       81.54
                                  Samoa |          4        3.08       84.62
                                Senegal |          2        1.54       86.15
                                 Serbia |          2        1.54       87.69
                                  Spain |          2        1.54       89.23
                                 Sweden |          2        1.54       90.77
                               Thailand |          2        1.54       92.31
                                 Uganda |          2        1.54       93.85
United Kingdom of Great Britain and N.. |          2        1.54       95.38
            United Republic of Tanzania |          2        1.54       96.92
               United States of America |          2        1.54       98.46
                                 Zambia |          2        1.54      100.00
----------------------------------------+-----------------------------------
                                  Total |        130      100.00

.                                         tab wcaround

  WCA Round |      Freq.     Percent        Cum.
------------+-----------------------------------
       1990 |         82       21.93       21.93
       2000 |        112       29.95       51.87
       2010 |        180       48.13      100.00
------------+-----------------------------------
      Total |        374      100.00

.                                         tab2 wcaround latestyear

-> tabulation of wcaround by latestyear  

           |                                                             latestyear
 WCA Round |      1988       1989       1990       1993       1994       1995       1996       1997       1999       2000       2001       2002 |     Total
-----------+------------------------------------------------------------------------------------------------------------------------------------+----------
      1990 |         2         10          2          4          2          6          2          0          0          2          2          0 |        82 
      2000 |         0          0          0          0          0          0          2          2          2          6          4          4 |       112 
      2010 |         0          0          0          0          0          0          0          0          0          0          0          0 |       180 
-----------+------------------------------------------------------------------------------------------------------------------------------------+----------
     Total |         2         10          2          4          2          6          4          2          2          8          6          4 |       374 


           |                                                             latestyear
 WCA Round |      2003       2004       2005       2006       2007       2008       2009       2010       2011       2012       2013       2014 |     Total
-----------+------------------------------------------------------------------------------------------------------------------------------------+----------
      1990 |         2          2          0          2          2          4         10         16          0          6          4          0 |        82 
      2000 |         8          6          4          0          0          0          6         42          6         10          4          2 |       112 
      2010 |         0          0          0          2          6         10         14         68         22         20         12         14 |       180 
-----------+------------------------------------------------------------------------------------------------------------------------------------+----------
     Total |        10          8          4          4          8         14         30        126         28         36         20         16 |       374 


           |      latestyear
 WCA Round |      2015       2016 |     Total
-----------+----------------------+----------
      1990 |         2          0 |        82 
      2000 |         2          2 |       112 
      2010 |        10          2 |       180 
-----------+----------------------+----------
     Total |        14          4 |       374 

.                                         keep if year == latestyear
(130 observations deleted)

.                                         tab wcaround

  WCA Round |      Freq.     Percent        Cum.
------------+-----------------------------------
       1990 |         26       10.66       10.66
       2000 |         38       15.57       26.23
       2010 |        180       73.77      100.00
------------+-----------------------------------
      Total |        244      100.00

.                                         tab country if wcaround == 2000

                                   Area |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                                Algeria |          2        5.26        5.26
                             Cabo Verde |          2        5.26       10.53
                                Comoros |          2        5.26       15.79
                                Ecuador |          2        5.26       21.05
                               Ethiopia |          2        5.26       26.32
                              Guatemala |          2        5.26       31.58
                                 Guinea |          2        5.26       36.84
                                 Jordan |          2        5.26       42.11
                             Kyrgyzstan |          2        5.26       47.37
                             Madagascar |          2        5.26       52.63
                                   Mali |          2        5.26       57.89
                                Morocco |          2        5.26       63.16
                                Myanmar |          2        5.26       68.42
                            Philippines |          2        5.26       73.68
                            Puerto Rico |          2        5.26       78.95
                  Saint Kitts and Nevis |          2        5.26       84.21
                           Saudi Arabia |          2        5.26       89.47
                    Trinidad and Tobago |          2        5.26       94.74
                                 Zambia |          2        5.26      100.00
----------------------------------------+-----------------------------------
                                  Total |         38      100.00

.                                         tab country if wcaround == 1990

                                   Area |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                              Argentina |          2        7.69        7.69
                                Bahamas |          2        7.69       15.38
                                  Benin |          2        7.69       23.08
                           Burkina Faso |          2        7.69       30.77
       Democratic Republic of the Congo |          2        7.69       38.46
                               Djibouti |          2        7.69       46.15
                               Dominica |          2        7.69       53.85
                          French Guiana |          2        7.69       61.54
                             Guadeloupe |          2        7.69       69.23
                             Martinique |          2        7.69       76.92
                                Namibia |          2        7.69       84.62
                                Reunion |          2        7.69       92.31
                  Sao Tome and Principe |          2        7.69      100.00
----------------------------------------+-----------------------------------
                                  Total |         26      100.00

.                                         drop wcaround // note WCA round determines definitions used in computation

.                                         drop element item censusyear

.                                         ren latestyear datayear

.                                         lab var datayear "Data year (latest available)"

.                                         order ISO country year landholding sex wb_region incgrp datayear

.                                                 ** Note: Issue with Uruguay - male + female do not add up to 100%
.                                                 drop if country == "Uruguay"    
(2 observations deleted)

.                         // Save
.                                 save landholdings_bysex, replace
file landholdings_bysex.dta saved

.                                 export delimited using landholdings_bysex, replace
file landholdings_bysex.csv saved

.                         
.                                 // Save female share variable to merge with other data
.                                         drop datayear ISO_governing UN_status_detail UN_status territoryof 

.                                         tab sex

        Sex |      Freq.     Percent        Cum.
------------+-----------------------------------
     Female |        121       50.00       50.00
       Male |        121       50.00      100.00
------------+-----------------------------------
      Total |        242      100.00

.                                         reshape wide landholding, i(ISO country year wb_region incgrp UNmemberstate) j(sex)
(j = 1 2)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations              242   ->   121         
Number of variables                  16   ->   16          
j variable (2 values)               sex   ->   (dropped)
xij variables:
                            landholding   ->   landholding1 landholding2
-----------------------------------------------------------------------------

.                                         ren landholding1 landholding_fem

.                                         ren landholding2 landholding_male

.                                         lab var landholding_fem "Share of landholdings operated by women (% holdings)"

.                                         lab var landholding_male "Share of landholdings operated by men (% holdings)"

.                                         
.                                 // Save
.                                         save landholdings_female, replace
file landholdings_female.dta saved

.                                         export delimited using landholdings_female, replace
file landholdings_female.csv saved

. 
. 
.                                         
. // GOVERNANCE //////////////////////////////////////////////////////////////////
. 
. ** SHARED VISION & STRATEGIC PLANNING ******************************************
. 
. **# Civil Society Index (Varieties of democracy)
.                 import delimited using "$datain\V-Dem-CY-Core-v12.csv", clear
(encoding automatically selected: ISO-8859-1)
(1,818 vars, 27,380 obs)

.                         ren country_name country

.                         ren country_text_id ISO

.                         drop country_id

.                         sum year

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
        year |     27,380    1927.765    64.22835       1789       2021

.                         drop if year<1960
(17,009 observations deleted)

.                         sort ISO year

.                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(62 real changes made)

.                         replace country = "Côte D'Ivoire" if country == "Ivory Coast"
(62 real changes made)

.                         replace country = "Congo" if country == "Republic of the Congo"
(62 real changes made)

.                         replace country = "Cabo Verde" if country == "Cape Verde"
(62 real changes made)

.                         replace country = "Czechia" if country == "Czech Republic"
(62 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "The Gambia"
(62 real changes made)

.                         replace country = "Iran (Islamic Republic of)" if country == "Iran"
(62 real changes made)

.                         replace country = "Republic of Korea" if country == "South Korea"
(62 real changes made)

.                         replace country = "Lao People's Democratic Republic" if country == "Laos"
(62 real changes made)

.                         replace country = "Republic of Moldova" if country == "Moldova"
(32 real changes made)

.                         replace country = "Myanmar" if country == "Burma/Myanmar"
(62 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "North Korea"
(62 real changes made)

.                         replace country = "West Bank" if country == "Palestine/West Bank"
(55 real changes made)

.                         replace country = "Gaza Strip" if country == "Palestine/Gaza"
(22 real changes made)

.                         replace ISO = "PSE" if country == "West Bank"
(0 real changes made)

.                         replace ISO = "PSE" if country == "Gaza Strip"
(22 real changes made)

.                         replace country = "Russian Federation" if country == "Russia"
(62 real changes made)

.                         replace country = "Syrian Arab Republic" if country == "Syria"
(62 real changes made)

.                         replace country = "Türkiye" if country == "Turkey"
(62 real changes made)

.                         replace country = "United Republic of Tanzania" if country == "Tanzania"
(62 real changes made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela"
variable country was str32 now str33
(62 real changes made)

.                         replace country = "Viet Nam" if country == "Vietnam"
(62 real changes made)

.                         replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom"
variable country was str33 now str52
(62 real changes made)

.                         merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           283
        from master                       171  (_merge==1)
        from using                        112  (_merge==2)

    Matched                            10,200  (_merge==3)
    -----------------------------------------

.                                 tab country if _merge == 1 // historic states and territories not recognized in GAUL - drop Kosovo, Somaliland, and Zanzibar

                                country |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
             German Democratic Republic |         31       18.13       18.13
                    Republic of Vietnam |         16        9.36       27.49
                             Somaliland |         31       18.13       45.61
                            South Yemen |         31       18.13       63.74
                               Zanzibar |         62       36.26      100.00
----------------------------------------+-----------------------------------
                                  Total |        171      100.00

.                                 drop if _merge != 3
(283 observations deleted)

.                                 drop _merge

.                                 destring, replace
country: contains nonnumeric characters; no replace
ISO: contains nonnumeric characters; no replace
year already numeric; no replace
historical_date: contains nonnumeric characters; no replace
project already numeric; no replace
historical already numeric; no replace
histname: contains nonnumeric characters; no replace
codingstart already numeric; no replace
codingend already numeric; no replace
codingstart_contemp already numeric; no replace
codingend_contemp already numeric; no replace
codingstart_hist already numeric; no replace
codingend_hist already numeric; no replace
gapstart1 already numeric; no replace
gapstart2 already numeric; no replace
gapstart3 already numeric; no replace
gapend1 already numeric; no replace
gapend2 already numeric; no replace
gapend3 already numeric; no replace
gap_index already numeric; no replace
cowcode already numeric; no replace
v2x_polyarchy already numeric; no replace
v2x_polyarchy_codelow already numeric; no replace
v2x_polyarchy_codehigh already numeric; no replace
v2x_polyarchy_sd already numeric; no replace
v2x_libdem already numeric; no replace
v2x_libdem_codelow already numeric; no replace
v2x_libdem_codehigh already numeric; no replace
v2x_libdem_sd already numeric; no replace
v2x_partipdem already numeric; no replace
v2x_partipdem_codelow already numeric; no replace
v2x_partipdem_codehigh already numeric; no replace
v2x_partipdem_sd already numeric; no replace
v2x_delibdem already numeric; no replace
v2x_delibdem_codelow already numeric; no replace
v2x_delibdem_codehigh already numeric; no replace
v2x_delibdem_sd already numeric; no replace
v2x_egaldem already numeric; no replace
v2x_egaldem_codelow already numeric; no replace
v2x_egaldem_codehigh already numeric; no replace
v2x_egaldem_sd already numeric; no replace
v2x_api already numeric; no replace
v2x_api_codelow already numeric; no replace
v2x_api_codehigh already numeric; no replace
v2x_api_sd already numeric; no replace
v2x_mpi already numeric; no replace
v2x_mpi_codelow already numeric; no replace
v2x_mpi_codehigh already numeric; no replace
v2x_mpi_sd already numeric; no replace
v2x_freexp_altinf already numeric; no replace
v2x_freexp_altinf_codelow already numeric; no replace
v2x_freexp_altinf_codehigh already numeric; no replace
v2x_freexp_altinf_sd already numeric; no replace
v2x_frassoc_thick already numeric; no replace
v2x_frassoc_thick_codelow already numeric; no replace
v2x_frassoc_thick_codehigh already numeric; no replace
v2x_frassoc_thick_sd already numeric; no replace
v2x_suffr already numeric; no replace
v2xel_frefair already numeric; no replace
v2xel_frefair_codelow already numeric; no replace
v2xel_frefair_codehigh already numeric; no replace
v2xel_frefair_sd already numeric; no replace
v2x_elecoff already numeric; no replace
v2x_liberal already numeric; no replace
v2x_liberal_codelow already numeric; no replace
v2x_liberal_codehigh already numeric; no replace
v2x_liberal_sd already numeric; no replace
v2xcl_rol already numeric; no replace
v2xcl_rol_codelow already numeric; no replace
v2xcl_rol_codehigh already numeric; no replace
v2xcl_rol_sd already numeric; no replace
v2x_jucon already numeric; no replace
v2x_jucon_codelow already numeric; no replace
v2x_jucon_codehigh already numeric; no replace
v2x_jucon_sd already numeric; no replace
v2xlg_legcon already numeric; no replace
v2xlg_legcon_codelow already numeric; no replace
v2xlg_legcon_codehigh already numeric; no replace
v2xlg_legcon_sd already numeric; no replace
v2x_partip already numeric; no replace
v2x_partip_codelow already numeric; no replace
v2x_partip_codehigh already numeric; no replace
v2x_partip_sd already numeric; no replace
v2x_cspart already numeric; no replace
v2x_cspart_codelow already numeric; no replace
v2x_cspart_codehigh already numeric; no replace
v2x_cspart_sd already numeric; no replace
v2xdd_dd already numeric; no replace
v2xel_locelec already numeric; no replace
v2xel_locelec_codelow already numeric; no replace
v2xel_locelec_codehigh already numeric; no replace
v2xel_locelec_sd already numeric; no replace
v2xel_regelec already numeric; no replace
v2xel_regelec_codelow already numeric; no replace
v2xel_regelec_codehigh already numeric; no replace
v2xel_regelec_sd already numeric; no replace
v2xdl_delib already numeric; no replace
v2xdl_delib_codelow already numeric; no replace
v2xdl_delib_codehigh already numeric; no replace
v2xdl_delib_sd already numeric; no replace
v2x_egal already numeric; no replace
v2x_egal_codelow already numeric; no replace
v2x_egal_codehigh already numeric; no replace
v2x_egal_sd already numeric; no replace
v2xeg_eqprotec already numeric; no replace
v2xeg_eqprotec_codelow already numeric; no replace
v2xeg_eqprotec_codehigh already numeric; no replace
v2xeg_eqprotec_sd already numeric; no replace
v2xeg_eqaccess already numeric; no replace
v2xeg_eqaccess_codelow already numeric; no replace
v2xeg_eqaccess_codehigh already numeric; no replace
v2xeg_eqaccess_sd already numeric; no replace
v2xeg_eqdr already numeric; no replace
v2xeg_eqdr_codelow already numeric; no replace
v2xeg_eqdr_codehigh already numeric; no replace
v2xeg_eqdr_sd already numeric; no replace
v2eltype_0 already numeric; no replace
v2eltype_1 already numeric; no replace
v2eltype_4 already numeric; no replace
v2eltype_5 already numeric; no replace
v2eltype_6 already numeric; no replace
v2eltype_7 already numeric; no replace
v2elsuffrage already numeric; no replace
v2elembaut already numeric; no replace
v2elembaut_codelow already numeric; no replace
v2elembaut_codehigh already numeric; no replace
v2elembaut_sd already numeric; no replace
v2elembaut_osp already numeric; no replace
v2elembaut_osp_codelow already numeric; no replace
v2elembaut_osp_codehigh already numeric; no replace
v2elembaut_osp_sd already numeric; no replace
v2elembaut_ord already numeric; no replace
v2elembaut_ord_codelow already numeric; no replace
v2elembaut_ord_codehigh already numeric; no replace
v2elembaut_mean already numeric; no replace
v2elembaut_nr already numeric; no replace
v2elembcap already numeric; no replace
v2elembcap_codelow already numeric; no replace
v2elembcap_codehigh already numeric; no replace
v2elembcap_sd already numeric; no replace
v2elembcap_osp already numeric; no replace
v2elembcap_osp_codelow already numeric; no replace
v2elembcap_osp_codehigh already numeric; no replace
v2elembcap_osp_sd already numeric; no replace
v2elembcap_ord already numeric; no replace
v2elembcap_ord_codelow already numeric; no replace
v2elembcap_ord_codehigh already numeric; no replace
v2elembcap_mean already numeric; no replace
v2elembcap_nr already numeric; no replace
v2elmulpar already numeric; no replace
v2elmulpar_codelow already numeric; no replace
v2elmulpar_codehigh already numeric; no replace
v2elmulpar_sd already numeric; no replace
v2elmulpar_osp already numeric; no replace
v2elmulpar_osp_codelow already numeric; no replace
v2elmulpar_osp_codehigh already numeric; no replace
v2elmulpar_osp_sd already numeric; no replace
v2elmulpar_ord already numeric; no replace
v2elmulpar_ord_codelow already numeric; no replace
v2elmulpar_ord_codehigh already numeric; no replace
v2elmulpar_mean already numeric; no replace
v2elmulpar_nr already numeric; no replace
v2elrgstry already numeric; no replace
v2elrgstry_codelow already numeric; no replace
v2elrgstry_codehigh already numeric; no replace
v2elrgstry_sd already numeric; no replace
v2elrgstry_osp already numeric; no replace
v2elrgstry_osp_codelow already numeric; no replace
v2elrgstry_osp_codehigh already numeric; no replace
v2elrgstry_osp_sd already numeric; no replace
v2elrgstry_ord already numeric; no replace
v2elrgstry_ord_codelow already numeric; no replace
v2elrgstry_ord_codehigh already numeric; no replace
v2elrgstry_mean already numeric; no replace
v2elrgstry_nr already numeric; no replace
v2elvotbuy already numeric; no replace
v2elvotbuy_codelow already numeric; no replace
v2elvotbuy_codehigh already numeric; no replace
v2elvotbuy_sd already numeric; no replace
v2elvotbuy_osp already numeric; no replace
v2elvotbuy_osp_codelow already numeric; no replace
v2elvotbuy_osp_codehigh already numeric; no replace
v2elvotbuy_osp_sd already numeric; no replace
v2elvotbuy_ord already numeric; no replace
v2elvotbuy_ord_codelow already numeric; no replace
v2elvotbuy_ord_codehigh already numeric; no replace
v2elvotbuy_mean already numeric; no replace
v2elvotbuy_nr already numeric; no replace
v2elirreg already numeric; no replace
v2elirreg_codelow already numeric; no replace
v2elirreg_codehigh already numeric; no replace
v2elirreg_sd already numeric; no replace
v2elirreg_osp already numeric; no replace
v2elirreg_osp_codelow already numeric; no replace
v2elirreg_osp_codehigh already numeric; no replace
v2elirreg_osp_sd already numeric; no replace
v2elirreg_ord already numeric; no replace
v2elirreg_ord_codelow already numeric; no replace
v2elirreg_ord_codehigh already numeric; no replace
v2elirreg_mean already numeric; no replace
v2elirreg_nr already numeric; no replace
v2elintim already numeric; no replace
v2elintim_codelow already numeric; no replace
v2elintim_codehigh already numeric; no replace
v2elintim_sd already numeric; no replace
v2elintim_osp already numeric; no replace
v2elintim_osp_codelow already numeric; no replace
v2elintim_osp_codehigh already numeric; no replace
v2elintim_osp_sd already numeric; no replace
v2elintim_ord already numeric; no replace
v2elintim_ord_codelow already numeric; no replace
v2elintim_ord_codehigh already numeric; no replace
v2elintim_mean already numeric; no replace
v2elintim_nr already numeric; no replace
v2elpeace already numeric; no replace
v2elpeace_codelow already numeric; no replace
v2elpeace_codehigh already numeric; no replace
v2elpeace_sd already numeric; no replace
v2elpeace_osp already numeric; no replace
v2elpeace_osp_codelow already numeric; no replace
v2elpeace_osp_codehigh already numeric; no replace
v2elpeace_osp_sd already numeric; no replace
v2elpeace_ord already numeric; no replace
v2elpeace_ord_codelow already numeric; no replace
v2elpeace_ord_codehigh already numeric; no replace
v2elpeace_mean already numeric; no replace
v2elpeace_nr already numeric; no replace
v2elfrfair already numeric; no replace
v2elfrfair_codelow already numeric; no replace
v2elfrfair_codehigh already numeric; no replace
v2elfrfair_sd already numeric; no replace
v2elfrfair_osp already numeric; no replace
v2elfrfair_osp_codelow already numeric; no replace
v2elfrfair_osp_codehigh already numeric; no replace
v2elfrfair_osp_sd already numeric; no replace
v2elfrfair_ord already numeric; no replace
v2elfrfair_ord_codelow already numeric; no replace
v2elfrfair_ord_codehigh already numeric; no replace
v2elfrfair_mean already numeric; no replace
v2elfrfair_nr already numeric; no replace
v2elreggov already numeric; no replace
v2elsrgel already numeric; no replace
v2elrgpwr already numeric; no replace
v2elrgpwr_codelow already numeric; no replace
v2elrgpwr_codehigh already numeric; no replace
v2elrgpwr_sd already numeric; no replace
v2elrgpwr_osp already numeric; no replace
v2elrgpwr_osp_codelow already numeric; no replace
v2elrgpwr_osp_codehigh already numeric; no replace
v2elrgpwr_osp_sd already numeric; no replace
v2elrgpwr_ord already numeric; no replace
v2elrgpwr_ord_codelow already numeric; no replace
v2elrgpwr_ord_codehigh already numeric; no replace
v2elrgpwr_mean already numeric; no replace
v2elrgpwr_nr already numeric; no replace
v2ellocgov already numeric; no replace
v2ellocelc already numeric; no replace
v2ellocpwr already numeric; no replace
v2ellocpwr_codelow already numeric; no replace
v2ellocpwr_codehigh already numeric; no replace
v2ellocpwr_sd already numeric; no replace
v2ellocpwr_osp already numeric; no replace
v2ellocpwr_osp_codelow already numeric; no replace
v2ellocpwr_osp_codehigh already numeric; no replace
v2ellocpwr_osp_sd already numeric; no replace
v2ellocpwr_ord already numeric; no replace
v2ellocpwr_ord_codelow already numeric; no replace
v2ellocpwr_ord_codehigh already numeric; no replace
v2ellocpwr_mean already numeric; no replace
v2ellocpwr_nr already numeric; no replace
v2psbars already numeric; no replace
v2psbars_codelow already numeric; no replace
v2psbars_codehigh already numeric; no replace
v2psbars_sd already numeric; no replace
v2psbars_osp already numeric; no replace
v2psbars_osp_codelow already numeric; no replace
v2psbars_osp_codehigh already numeric; no replace
v2psbars_osp_sd already numeric; no replace
v2psbars_ord already numeric; no replace
v2psbars_ord_codelow already numeric; no replace
v2psbars_ord_codehigh already numeric; no replace
v2psbars_mean already numeric; no replace
v2psbars_nr already numeric; no replace
v2psparban already numeric; no replace
v2psparban_codelow already numeric; no replace
v2psparban_codehigh already numeric; no replace
v2psparban_sd already numeric; no replace
v2psparban_osp already numeric; no replace
v2psparban_osp_codelow already numeric; no replace
v2psparban_osp_codehigh already numeric; no replace
v2psparban_osp_sd already numeric; no replace
v2psparban_ord already numeric; no replace
v2psparban_ord_codelow already numeric; no replace
v2psparban_ord_codehigh already numeric; no replace
v2psparban_mean already numeric; no replace
v2psparban_nr already numeric; no replace
v2psoppaut already numeric; no replace
v2psoppaut_codelow already numeric; no replace
v2psoppaut_codehigh already numeric; no replace
v2psoppaut_sd already numeric; no replace
v2psoppaut_osp already numeric; no replace
v2psoppaut_osp_codelow already numeric; no replace
v2psoppaut_osp_codehigh already numeric; no replace
v2psoppaut_osp_sd already numeric; no replace
v2psoppaut_ord already numeric; no replace
v2psoppaut_ord_codelow already numeric; no replace
v2psoppaut_ord_codehigh already numeric; no replace
v2psoppaut_mean already numeric; no replace
v2psoppaut_nr already numeric; no replace
v2psorgs already numeric; no replace
v2psorgs_codelow already numeric; no replace
v2psorgs_codehigh already numeric; no replace
v2psorgs_sd already numeric; no replace
v2psorgs_osp already numeric; no replace
v2psorgs_osp_codelow already numeric; no replace
v2psorgs_osp_codehigh already numeric; no replace
v2psorgs_osp_sd already numeric; no replace
v2psorgs_ord already numeric; no replace
v2psorgs_ord_codelow already numeric; no replace
v2psorgs_ord_codehigh already numeric; no replace
v2psorgs_mean already numeric; no replace
v2psorgs_nr already numeric; no replace
v2psprbrch already numeric; no replace
v2psprbrch_codelow already numeric; no replace
v2psprbrch_codehigh already numeric; no replace
v2psprbrch_sd already numeric; no replace
v2psprbrch_osp already numeric; no replace
v2psprbrch_osp_codelow already numeric; no replace
v2psprbrch_osp_codehigh already numeric; no replace
v2psprbrch_osp_sd already numeric; no replace
v2psprbrch_ord already numeric; no replace
v2psprbrch_ord_codelow already numeric; no replace
v2psprbrch_ord_codehigh already numeric; no replace
v2psprbrch_mean already numeric; no replace
v2psprbrch_nr already numeric; no replace
v2psprlnks already numeric; no replace
v2psprlnks_codelow already numeric; no replace
v2psprlnks_codehigh already numeric; no replace
v2psprlnks_sd already numeric; no replace
v2psprlnks_osp already numeric; no replace
v2psprlnks_osp_codelow already numeric; no replace
v2psprlnks_osp_codehigh already numeric; no replace
v2psprlnks_osp_sd already numeric; no replace
v2psprlnks_ord already numeric; no replace
v2psprlnks_ord_codelow already numeric; no replace
v2psprlnks_ord_codehigh already numeric; no replace
v2psprlnks_mean already numeric; no replace
v2psprlnks_nr already numeric; no replace
v2psplats already numeric; no replace
v2psplats_codelow already numeric; no replace
v2psplats_codehigh already numeric; no replace
v2psplats_sd already numeric; no replace
v2psplats_osp already numeric; no replace
v2psplats_osp_codelow already numeric; no replace
v2psplats_osp_codehigh already numeric; no replace
v2psplats_osp_sd already numeric; no replace
v2psplats_ord already numeric; no replace
v2psplats_ord_codelow already numeric; no replace
v2psplats_ord_codehigh already numeric; no replace
v2psplats_mean already numeric; no replace
v2psplats_nr already numeric; no replace
v2pscnslnl already numeric; no replace
v2pscnslnl_codelow already numeric; no replace
v2pscnslnl_codehigh already numeric; no replace
v2pscnslnl_sd already numeric; no replace
v2pscnslnl_osp already numeric; no replace
v2pscnslnl_osp_codelow already numeric; no replace
v2pscnslnl_osp_codehigh already numeric; no replace
v2pscnslnl_osp_sd already numeric; no replace
v2pscnslnl_ord already numeric; no replace
v2pscnslnl_ord_codelow already numeric; no replace
v2pscnslnl_ord_codehigh already numeric; no replace
v2pscnslnl_mean already numeric; no replace
v2pscnslnl_nr already numeric; no replace
v2pscohesv already numeric; no replace
v2pscohesv_codelow already numeric; no replace
v2pscohesv_codehigh already numeric; no replace
v2pscohesv_sd already numeric; no replace
v2pscohesv_osp already numeric; no replace
v2pscohesv_osp_codelow already numeric; no replace
v2pscohesv_osp_codehigh already numeric; no replace
v2pscohesv_osp_sd already numeric; no replace
v2pscohesv_ord already numeric; no replace
v2pscohesv_ord_codelow already numeric; no replace
v2pscohesv_ord_codehigh already numeric; no replace
v2pscohesv_mean already numeric; no replace
v2pscohesv_nr already numeric; no replace
v2psnatpar already numeric; no replace
v2psnatpar_codelow already numeric; no replace
v2psnatpar_codehigh already numeric; no replace
v2psnatpar_sd already numeric; no replace
v2psnatpar_osp already numeric; no replace
v2psnatpar_osp_codelow already numeric; no replace
v2psnatpar_osp_codehigh already numeric; no replace
v2psnatpar_osp_sd already numeric; no replace
v2psnatpar_ord already numeric; no replace
v2psnatpar_ord_codelow already numeric; no replace
v2psnatpar_ord_codehigh already numeric; no replace
v2psnatpar_mean already numeric; no replace
v2psnatpar_nr already numeric; no replace
v2ddlexci already numeric; no replace
v2ddsigpci already numeric; no replace
v2ddsigdci already numeric; no replace
v2ddsiglci already numeric; no replace
v2ddpartci already numeric; no replace
v2ddapprci already numeric; no replace
v2ddadmci already numeric; no replace
v2ddspmci already numeric; no replace
v2ddthreci already numeric; no replace
v2ddlexrf already numeric; no replace
v2ddsigprf already numeric; no replace
v2ddsigdrf already numeric; no replace
v2ddpartrf already numeric; no replace
v2ddapprrf already numeric; no replace
v2ddadmrf already numeric; no replace
v2ddspmrf already numeric; no replace
v2ddthrerf already numeric; no replace
v2ddlexor already numeric; no replace
v2ddpartor already numeric; no replace
v2ddappor already numeric; no replace
v2ddadmor already numeric; no replace
v2ddspmor already numeric; no replace
v2ddthreor already numeric; no replace
v2ddlexpl already numeric; no replace
v2ddpartpl already numeric; no replace
v2ddapprpl already numeric; no replace
v2ddadmpl already numeric; no replace
v2ddspmpl already numeric; no replace
v2ddthrepl already numeric; no replace
v2ddyrci already numeric; no replace
v2ddyrrf already numeric; no replace
v2ddyror already numeric; no replace
v2ddyrpl already numeric; no replace
v2exdfcbhs already numeric; no replace
v2exdfcbhs_codelow already numeric; no replace
v2exdfcbhs_codehigh already numeric; no replace
v2exdfcbhs_sd already numeric; no replace
v2exdfcbhs_osp already numeric; no replace
v2exdfcbhs_osp_codelow already numeric; no replace
v2exdfcbhs_osp_codehigh already numeric; no replace
v2exdfcbhs_osp_sd already numeric; no replace
v2exdfcbhs_ord already numeric; no replace
v2exdfcbhs_ord_codelow already numeric; no replace
v2exdfcbhs_ord_codehigh already numeric; no replace
v2exdfcbhs_mean already numeric; no replace
v2exdfcbhs_nr already numeric; no replace
v2exdfdmhs already numeric; no replace
v2exdfdmhs_codelow already numeric; no replace
v2exdfdmhs_codehigh already numeric; no replace
v2exdfdmhs_sd already numeric; no replace
v2exdfdmhs_osp already numeric; no replace
v2exdfdmhs_osp_codelow already numeric; no replace
v2exdfdmhs_osp_codehigh already numeric; no replace
v2exdfdmhs_osp_sd already numeric; no replace
v2exdfdmhs_ord already numeric; no replace
v2exdfdmhs_ord_codelow already numeric; no replace
v2exdfdmhs_ord_codehigh already numeric; no replace
v2exdfdmhs_mean already numeric; no replace
v2exdfdmhs_nr already numeric; no replace
v2exhoshog already numeric; no replace
v2exaphos already numeric; no replace
v2ex_elechos already numeric; no replace
v2expathhs already numeric; no replace
v2exdfcbhs_rec already numeric; no replace
v2exdfcbhs_rec_codelow already numeric; no replace
v2exdfcbhs_rec_codehigh already numeric; no replace
v2exdfcbhs_rec_sd already numeric; no replace
v2exdfcbhs_rec_osp already numeric; no replace
v2exdfcbhs_rec_osp_codelow already numeric; no replace
v2exdfcbhs_rec_osp_codehigh already numeric; no replace
v2exdfcbhs_rec_osp_sd already numeric; no replace
v2exdfcbhs_rec_ord already numeric; no replace
v2exdfcbhs_rec_ord_codelow already numeric; no replace
v2exdfcbhs_rec_ord_codehigh already numeric; no replace
v2exdfcbhs_rec_mean already numeric; no replace
v2exdfcbhs_rec_nr already numeric; no replace
v2exrmhsol_2 already numeric; no replace
v2exrmhsol_3 already numeric; no replace
v2exrmhsol_4 already numeric; no replace
v2exrmhsol_nr already numeric; no replace
v2exremhog already numeric; no replace
v2exremhog_codelow already numeric; no replace
v2exremhog_codehigh already numeric; no replace
v2exremhog_sd already numeric; no replace
v2exremhog_osp already numeric; no replace
v2exremhog_osp_codelow already numeric; no replace
v2exremhog_osp_codehigh already numeric; no replace
v2exremhog_osp_sd already numeric; no replace
v2exremhog_ord already numeric; no replace
v2exremhog_ord_codelow already numeric; no replace
v2exremhog_ord_codehigh already numeric; no replace
v2exremhog_mean already numeric; no replace
v2exremhog_nr already numeric; no replace
v2exdjcbhg already numeric; no replace
v2exdjcbhg_codelow already numeric; no replace
v2exdjcbhg_codehigh already numeric; no replace
v2exdjcbhg_sd already numeric; no replace
v2exdjcbhg_osp already numeric; no replace
v2exdjcbhg_osp_codelow already numeric; no replace
v2exdjcbhg_osp_codehigh already numeric; no replace
v2exdjcbhg_osp_sd already numeric; no replace
v2exdjcbhg_ord already numeric; no replace
v2exdjcbhg_ord_codelow already numeric; no replace
v2exdjcbhg_ord_codehigh already numeric; no replace
v2exdjcbhg_mean already numeric; no replace
v2exdjcbhg_nr already numeric; no replace
v2exdfdshg already numeric; no replace
v2exdfdshg_codelow already numeric; no replace
v2exdfdshg_codehigh already numeric; no replace
v2exdfdshg_sd already numeric; no replace
v2exdfdshg_osp already numeric; no replace
v2exdfdshg_osp_codelow already numeric; no replace
v2exdfdshg_osp_codehigh already numeric; no replace
v2exdfdshg_osp_sd already numeric; no replace
v2exdfdshg_ord already numeric; no replace
v2exdfdshg_ord_codelow already numeric; no replace
v2exdfdshg_ord_codehigh already numeric; no replace
v2exdfdshg_mean already numeric; no replace
v2exdfdshg_nr already numeric; no replace
v2exaphogp already numeric; no replace
v2ex_elechog already numeric; no replace
v2ex_hogw already numeric; no replace
v2expathhg already numeric; no replace
v2exrmhgnp_2 already numeric; no replace
v2exrmhgnp_3 already numeric; no replace
v2exrmhgnp_4 already numeric; no replace
v2exrmhgnp_nr already numeric; no replace
v2exrescon already numeric; no replace
v2exrescon_codelow already numeric; no replace
v2exrescon_codehigh already numeric; no replace
v2exrescon_sd already numeric; no replace
v2exrescon_osp already numeric; no replace
v2exrescon_osp_codelow already numeric; no replace
v2exrescon_osp_codehigh already numeric; no replace
v2exrescon_osp_sd already numeric; no replace
v2exrescon_ord already numeric; no replace
v2exrescon_ord_codelow already numeric; no replace
v2exrescon_ord_codehigh already numeric; no replace
v2exrescon_mean already numeric; no replace
v2exrescon_nr already numeric; no replace
v2exbribe already numeric; no replace
v2exbribe_codelow already numeric; no replace
v2exbribe_codehigh already numeric; no replace
v2exbribe_sd already numeric; no replace
v2exbribe_osp already numeric; no replace
v2exbribe_osp_codelow already numeric; no replace
v2exbribe_osp_codehigh already numeric; no replace
v2exbribe_osp_sd already numeric; no replace
v2exbribe_ord already numeric; no replace
v2exbribe_ord_codelow already numeric; no replace
v2exbribe_ord_codehigh already numeric; no replace
v2exbribe_mean already numeric; no replace
v2exbribe_nr already numeric; no replace
v2exembez already numeric; no replace
v2exembez_codelow already numeric; no replace
v2exembez_codehigh already numeric; no replace
v2exembez_sd already numeric; no replace
v2exembez_osp already numeric; no replace
v2exembez_osp_codelow already numeric; no replace
v2exembez_osp_codehigh already numeric; no replace
v2exembez_osp_sd already numeric; no replace
v2exembez_ord already numeric; no replace
v2exembez_ord_codelow already numeric; no replace
v2exembez_ord_codehigh already numeric; no replace
v2exembez_mean already numeric; no replace
v2exembez_nr already numeric; no replace
v2excrptps already numeric; no replace
v2excrptps_codelow already numeric; no replace
v2excrptps_codehigh already numeric; no replace
v2excrptps_sd already numeric; no replace
v2excrptps_osp already numeric; no replace
v2excrptps_osp_codelow already numeric; no replace
v2excrptps_osp_codehigh already numeric; no replace
v2excrptps_osp_sd already numeric; no replace
v2excrptps_ord already numeric; no replace
v2excrptps_ord_codelow already numeric; no replace
v2excrptps_ord_codehigh already numeric; no replace
v2excrptps_mean already numeric; no replace
v2excrptps_nr already numeric; no replace
v2exthftps already numeric; no replace
v2exthftps_codelow already numeric; no replace
v2exthftps_codehigh already numeric; no replace
v2exthftps_sd already numeric; no replace
v2exthftps_osp already numeric; no replace
v2exthftps_osp_codelow already numeric; no replace
v2exthftps_osp_codehigh already numeric; no replace
v2exthftps_osp_sd already numeric; no replace
v2exthftps_ord already numeric; no replace
v2exthftps_ord_codelow already numeric; no replace
v2exthftps_ord_codehigh already numeric; no replace
v2exthftps_mean already numeric; no replace
v2exthftps_nr already numeric; no replace
v2exapup already numeric; no replace
v2exapupap already numeric; no replace
v2lgbicam already numeric; no replace
v2lgqstexp already numeric; no replace
v2lgqstexp_codelow already numeric; no replace
v2lgqstexp_codehigh already numeric; no replace
v2lgqstexp_sd already numeric; no replace
v2lgqstexp_osp already numeric; no replace
v2lgqstexp_osp_codelow already numeric; no replace
v2lgqstexp_osp_codehigh already numeric; no replace
v2lgqstexp_osp_sd already numeric; no replace
v2lgqstexp_ord already numeric; no replace
v2lgqstexp_ord_codelow already numeric; no replace
v2lgqstexp_ord_codehigh already numeric; no replace
v2lgqstexp_mean already numeric; no replace
v2lgqstexp_nr already numeric; no replace
v2lginvstp already numeric; no replace
v2lginvstp_codelow already numeric; no replace
v2lginvstp_codehigh already numeric; no replace
v2lginvstp_sd already numeric; no replace
v2lginvstp_osp already numeric; no replace
v2lginvstp_osp_codelow already numeric; no replace
v2lginvstp_osp_codehigh already numeric; no replace
v2lginvstp_osp_sd already numeric; no replace
v2lginvstp_ord already numeric; no replace
v2lginvstp_ord_codelow already numeric; no replace
v2lginvstp_ord_codehigh already numeric; no replace
v2lginvstp_mean already numeric; no replace
v2lginvstp_nr already numeric; no replace
v2lgotovst already numeric; no replace
v2lgotovst_codelow already numeric; no replace
v2lgotovst_codehigh already numeric; no replace
v2lgotovst_sd already numeric; no replace
v2lgotovst_osp already numeric; no replace
v2lgotovst_osp_codelow already numeric; no replace
v2lgotovst_osp_codehigh already numeric; no replace
v2lgotovst_osp_sd already numeric; no replace
v2lgotovst_ord already numeric; no replace
v2lgotovst_ord_codelow already numeric; no replace
v2lgotovst_ord_codehigh already numeric; no replace
v2lgotovst_mean already numeric; no replace
v2lgotovst_nr already numeric; no replace
v2lgcrrpt already numeric; no replace
v2lgcrrpt_codelow already numeric; no replace
v2lgcrrpt_codehigh already numeric; no replace
v2lgcrrpt_sd already numeric; no replace
v2lgcrrpt_osp already numeric; no replace
v2lgcrrpt_osp_codelow already numeric; no replace
v2lgcrrpt_osp_codehigh already numeric; no replace
v2lgcrrpt_osp_sd already numeric; no replace
v2lgcrrpt_ord already numeric; no replace
v2lgcrrpt_ord_codelow already numeric; no replace
v2lgcrrpt_ord_codehigh already numeric; no replace
v2lgcrrpt_mean already numeric; no replace
v2lgcrrpt_nr already numeric; no replace
v2lgoppart already numeric; no replace
v2lgoppart_codelow already numeric; no replace
v2lgoppart_codehigh already numeric; no replace
v2lgoppart_sd already numeric; no replace
v2lgoppart_osp already numeric; no replace
v2lgoppart_osp_codelow already numeric; no replace
v2lgoppart_osp_codehigh already numeric; no replace
v2lgoppart_osp_sd already numeric; no replace
v2lgoppart_ord already numeric; no replace
v2lgoppart_ord_codelow already numeric; no replace
v2lgoppart_ord_codehigh already numeric; no replace
v2lgoppart_mean already numeric; no replace
v2lgoppart_nr already numeric; no replace
v2lgfunds already numeric; no replace
v2lgfunds_codelow already numeric; no replace
v2lgfunds_codehigh already numeric; no replace
v2lgfunds_sd already numeric; no replace
v2lgfunds_osp already numeric; no replace
v2lgfunds_osp_codelow already numeric; no replace
v2lgfunds_osp_codehigh already numeric; no replace
v2lgfunds_osp_sd already numeric; no replace
v2lgfunds_ord already numeric; no replace
v2lgfunds_ord_codelow already numeric; no replace
v2lgfunds_ord_codehigh already numeric; no replace
v2lgfunds_mean already numeric; no replace
v2lgfunds_nr already numeric; no replace
v2ex_hosw already numeric; no replace
v2ex_legconhos already numeric; no replace
v2lgelecup already numeric; no replace
v2lginelup already numeric; no replace
v2lgello already numeric; no replace
v2lgfemleg already numeric; no replace
v2lginello already numeric; no replace
v2dlreason already numeric; no replace
v2dlreason_codelow already numeric; no replace
v2dlreason_codehigh already numeric; no replace
v2dlreason_sd already numeric; no replace
v2dlreason_osp already numeric; no replace
v2dlreason_osp_codelow already numeric; no replace
v2dlreason_osp_codehigh already numeric; no replace
v2dlreason_osp_sd already numeric; no replace
v2dlreason_ord already numeric; no replace
v2dlreason_ord_codelow already numeric; no replace
v2dlreason_ord_codehigh already numeric; no replace
v2dlreason_mean already numeric; no replace
v2dlreason_nr already numeric; no replace
v2dlcommon already numeric; no replace
v2dlcommon_codelow already numeric; no replace
v2dlcommon_codehigh already numeric; no replace
v2dlcommon_sd already numeric; no replace
v2dlcommon_osp already numeric; no replace
v2dlcommon_osp_codelow already numeric; no replace
v2dlcommon_osp_codehigh already numeric; no replace
v2dlcommon_osp_sd already numeric; no replace
v2dlcommon_ord already numeric; no replace
v2dlcommon_ord_codelow already numeric; no replace
v2dlcommon_ord_codehigh already numeric; no replace
v2dlcommon_mean already numeric; no replace
v2dlcommon_nr already numeric; no replace
v2dlcountr already numeric; no replace
v2dlcountr_codelow already numeric; no replace
v2dlcountr_codehigh already numeric; no replace
v2dlcountr_sd already numeric; no replace
v2dlcountr_osp already numeric; no replace
v2dlcountr_osp_codelow already numeric; no replace
v2dlcountr_osp_codehigh already numeric; no replace
v2dlcountr_osp_sd already numeric; no replace
v2dlcountr_ord already numeric; no replace
v2dlcountr_ord_codelow already numeric; no replace
v2dlcountr_ord_codehigh already numeric; no replace
v2dlcountr_mean already numeric; no replace
v2dlcountr_nr already numeric; no replace
v2dlconslt already numeric; no replace
v2dlconslt_codelow already numeric; no replace
v2dlconslt_codehigh already numeric; no replace
v2dlconslt_sd already numeric; no replace
v2dlconslt_osp already numeric; no replace
v2dlconslt_osp_codelow already numeric; no replace
v2dlconslt_osp_codehigh already numeric; no replace
v2dlconslt_osp_sd already numeric; no replace
v2dlconslt_ord already numeric; no replace
v2dlconslt_ord_codelow already numeric; no replace
v2dlconslt_ord_codehigh already numeric; no replace
v2dlconslt_mean already numeric; no replace
v2dlconslt_nr already numeric; no replace
v2dlengage already numeric; no replace
v2dlengage_codelow already numeric; no replace
v2dlengage_codehigh already numeric; no replace
v2dlengage_sd already numeric; no replace
v2dlengage_osp already numeric; no replace
v2dlengage_osp_codelow already numeric; no replace
v2dlengage_osp_codehigh already numeric; no replace
v2dlengage_osp_sd already numeric; no replace
v2dlengage_ord already numeric; no replace
v2dlengage_ord_codelow already numeric; no replace
v2dlengage_ord_codehigh already numeric; no replace
v2dlengage_mean already numeric; no replace
v2dlengage_nr already numeric; no replace
v2dlencmps already numeric; no replace
v2dlencmps_codelow already numeric; no replace
v2dlencmps_codehigh already numeric; no replace
v2dlencmps_sd already numeric; no replace
v2dlencmps_osp already numeric; no replace
v2dlencmps_osp_codelow already numeric; no replace
v2dlencmps_osp_codehigh already numeric; no replace
v2dlencmps_osp_sd already numeric; no replace
v2dlencmps_ord already numeric; no replace
v2dlencmps_ord_codelow already numeric; no replace
v2dlencmps_ord_codehigh already numeric; no replace
v2dlencmps_mean already numeric; no replace
v2dlencmps_nr already numeric; no replace
v2dlunivl already numeric; no replace
v2dlunivl_codelow already numeric; no replace
v2dlunivl_codehigh already numeric; no replace
v2dlunivl_sd already numeric; no replace
v2dlunivl_osp already numeric; no replace
v2dlunivl_osp_codelow already numeric; no replace
v2dlunivl_osp_codehigh already numeric; no replace
v2dlunivl_osp_sd already numeric; no replace
v2dlunivl_ord already numeric; no replace
v2dlunivl_ord_codelow already numeric; no replace
v2dlunivl_ord_codehigh already numeric; no replace
v2dlunivl_mean already numeric; no replace
v2dlunivl_nr already numeric; no replace
v2juaccnt already numeric; no replace
v2juaccnt_codelow already numeric; no replace
v2juaccnt_codehigh already numeric; no replace
v2juaccnt_sd already numeric; no replace
v2juaccnt_osp already numeric; no replace
v2juaccnt_osp_codelow already numeric; no replace
v2juaccnt_osp_codehigh already numeric; no replace
v2juaccnt_osp_sd already numeric; no replace
v2juaccnt_ord already numeric; no replace
v2juaccnt_ord_codelow already numeric; no replace
v2juaccnt_ord_codehigh already numeric; no replace
v2juaccnt_mean already numeric; no replace
v2juaccnt_nr already numeric; no replace
v2jucorrdc already numeric; no replace
v2jucorrdc_codelow already numeric; no replace
v2jucorrdc_codehigh already numeric; no replace
v2jucorrdc_sd already numeric; no replace
v2jucorrdc_osp already numeric; no replace
v2jucorrdc_osp_codelow already numeric; no replace
v2jucorrdc_osp_codehigh already numeric; no replace
v2jucorrdc_osp_sd already numeric; no replace
v2jucorrdc_ord already numeric; no replace
v2jucorrdc_ord_codelow already numeric; no replace
v2jucorrdc_ord_codehigh already numeric; no replace
v2jucorrdc_mean already numeric; no replace
v2jucorrdc_nr already numeric; no replace
v2juhcind already numeric; no replace
v2juhcind_codelow already numeric; no replace
v2juhcind_codehigh already numeric; no replace
v2juhcind_sd already numeric; no replace
v2juhcind_osp already numeric; no replace
v2juhcind_osp_codelow already numeric; no replace
v2juhcind_osp_codehigh already numeric; no replace
v2juhcind_osp_sd already numeric; no replace
v2juhcind_ord already numeric; no replace
v2juhcind_ord_codelow already numeric; no replace
v2juhcind_ord_codehigh already numeric; no replace
v2juhcind_mean already numeric; no replace
v2juhcind_nr already numeric; no replace
v2juncind already numeric; no replace
v2juncind_codelow already numeric; no replace
v2juncind_codehigh already numeric; no replace
v2juncind_sd already numeric; no replace
v2juncind_osp already numeric; no replace
v2juncind_osp_codelow already numeric; no replace
v2juncind_osp_codehigh already numeric; no replace
v2juncind_osp_sd already numeric; no replace
v2juncind_ord already numeric; no replace
v2juncind_ord_codelow already numeric; no replace
v2juncind_ord_codehigh already numeric; no replace
v2juncind_mean already numeric; no replace
v2juncind_nr already numeric; no replace
v2juhccomp already numeric; no replace
v2juhccomp_codelow already numeric; no replace
v2juhccomp_codehigh already numeric; no replace
v2juhccomp_sd already numeric; no replace
v2juhccomp_osp already numeric; no replace
v2juhccomp_osp_codelow already numeric; no replace
v2juhccomp_osp_codehigh already numeric; no replace
v2juhccomp_osp_sd already numeric; no replace
v2juhccomp_ord already numeric; no replace
v2juhccomp_ord_codelow already numeric; no replace
v2juhccomp_ord_codehigh already numeric; no replace
v2juhccomp_mean already numeric; no replace
v2juhccomp_nr already numeric; no replace
v2jucomp already numeric; no replace
v2jucomp_codelow already numeric; no replace
v2jucomp_codehigh already numeric; no replace
v2jucomp_sd already numeric; no replace
v2jucomp_osp already numeric; no replace
v2jucomp_osp_codelow already numeric; no replace
v2jucomp_osp_codehigh already numeric; no replace
v2jucomp_osp_sd already numeric; no replace
v2jucomp_ord already numeric; no replace
v2jucomp_ord_codelow already numeric; no replace
v2jucomp_ord_codehigh already numeric; no replace
v2jucomp_mean already numeric; no replace
v2jucomp_nr already numeric; no replace
v2cltort already numeric; no replace
v2cltort_codelow already numeric; no replace
v2cltort_codehigh already numeric; no replace
v2cltort_sd already numeric; no replace
v2cltort_osp already numeric; no replace
v2cltort_osp_codelow already numeric; no replace
v2cltort_osp_codehigh already numeric; no replace
v2cltort_osp_sd already numeric; no replace
v2cltort_ord already numeric; no replace
v2cltort_ord_codelow already numeric; no replace
v2cltort_ord_codehigh already numeric; no replace
v2cltort_mean already numeric; no replace
v2cltort_nr already numeric; no replace
v2clkill already numeric; no replace
v2clkill_codelow already numeric; no replace
v2clkill_codehigh already numeric; no replace
v2clkill_sd already numeric; no replace
v2clkill_osp already numeric; no replace
v2clkill_osp_codelow already numeric; no replace
v2clkill_osp_codehigh already numeric; no replace
v2clkill_osp_sd already numeric; no replace
v2clkill_ord already numeric; no replace
v2clkill_ord_codelow already numeric; no replace
v2clkill_ord_codehigh already numeric; no replace
v2clkill_mean already numeric; no replace
v2clkill_nr already numeric; no replace
v2clslavem already numeric; no replace
v2clslavem_codelow already numeric; no replace
v2clslavem_codehigh already numeric; no replace
v2clslavem_sd already numeric; no replace
v2clslavem_osp already numeric; no replace
v2clslavem_osp_codelow already numeric; no replace
v2clslavem_osp_codehigh already numeric; no replace
v2clslavem_osp_sd already numeric; no replace
v2clslavem_ord already numeric; no replace
v2clslavem_ord_codelow already numeric; no replace
v2clslavem_ord_codehigh already numeric; no replace
v2clslavem_mean already numeric; no replace
v2clslavem_nr already numeric; no replace
v2clslavef already numeric; no replace
v2clslavef_codelow already numeric; no replace
v2clslavef_codehigh already numeric; no replace
v2clslavef_sd already numeric; no replace
v2clslavef_osp already numeric; no replace
v2clslavef_osp_codelow already numeric; no replace
v2clslavef_osp_codehigh already numeric; no replace
v2clslavef_osp_sd already numeric; no replace
v2clslavef_ord already numeric; no replace
v2clslavef_ord_codelow already numeric; no replace
v2clslavef_ord_codehigh already numeric; no replace
v2clslavef_mean already numeric; no replace
v2clslavef_nr already numeric; no replace
v2cltrnslw already numeric; no replace
v2cltrnslw_codelow already numeric; no replace
v2cltrnslw_codehigh already numeric; no replace
v2cltrnslw_sd already numeric; no replace
v2cltrnslw_osp already numeric; no replace
v2cltrnslw_osp_codelow already numeric; no replace
v2cltrnslw_osp_codehigh already numeric; no replace
v2cltrnslw_osp_sd already numeric; no replace
v2cltrnslw_ord already numeric; no replace
v2cltrnslw_ord_codelow already numeric; no replace
v2cltrnslw_ord_codehigh already numeric; no replace
v2cltrnslw_mean already numeric; no replace
v2cltrnslw_nr already numeric; no replace
v2clrspct already numeric; no replace
v2clrspct_codelow already numeric; no replace
v2clrspct_codehigh already numeric; no replace
v2clrspct_sd already numeric; no replace
v2clrspct_osp already numeric; no replace
v2clrspct_osp_codelow already numeric; no replace
v2clrspct_osp_codehigh already numeric; no replace
v2clrspct_osp_sd already numeric; no replace
v2clrspct_ord already numeric; no replace
v2clrspct_ord_codelow already numeric; no replace
v2clrspct_ord_codehigh already numeric; no replace
v2clrspct_mean already numeric; no replace
v2clrspct_nr already numeric; no replace
v2clacjstm already numeric; no replace
v2clacjstm_codelow already numeric; no replace
v2clacjstm_codehigh already numeric; no replace
v2clacjstm_sd already numeric; no replace
v2clacjstm_osp already numeric; no replace
v2clacjstm_osp_codelow already numeric; no replace
v2clacjstm_osp_codehigh already numeric; no replace
v2clacjstm_osp_sd already numeric; no replace
v2clacjstm_ord already numeric; no replace
v2clacjstm_ord_codelow already numeric; no replace
v2clacjstm_ord_codehigh already numeric; no replace
v2clacjstm_mean already numeric; no replace
v2clacjstm_nr already numeric; no replace
v2clacjstw already numeric; no replace
v2clacjstw_codelow already numeric; no replace
v2clacjstw_codehigh already numeric; no replace
v2clacjstw_sd already numeric; no replace
v2clacjstw_osp already numeric; no replace
v2clacjstw_osp_codelow already numeric; no replace
v2clacjstw_osp_codehigh already numeric; no replace
v2clacjstw_osp_sd already numeric; no replace
v2clacjstw_ord already numeric; no replace
v2clacjstw_ord_codelow already numeric; no replace
v2clacjstw_ord_codehigh already numeric; no replace
v2clacjstw_mean already numeric; no replace
v2clacjstw_nr already numeric; no replace
v2clacjust already numeric; no replace
v2clacjust_codelow already numeric; no replace
v2clacjust_codehigh already numeric; no replace
v2clacjust_sd already numeric; no replace
v2clacjust_osp already numeric; no replace
v2clacjust_osp_codelow already numeric; no replace
v2clacjust_osp_codehigh already numeric; no replace
v2clacjust_osp_sd already numeric; no replace
v2clacjust_ord already numeric; no replace
v2clacjust_ord_codelow already numeric; no replace
v2clacjust_ord_codehigh already numeric; no replace
v2clacjust_mean already numeric; no replace
v2clacjust_nr already numeric; no replace
v2clsocgrp already numeric; no replace
v2clsocgrp_codelow already numeric; no replace
v2clsocgrp_codehigh already numeric; no replace
v2clsocgrp_sd already numeric; no replace
v2clsocgrp_osp already numeric; no replace
v2clsocgrp_osp_codelow already numeric; no replace
v2clsocgrp_osp_codehigh already numeric; no replace
v2clsocgrp_osp_sd already numeric; no replace
v2clsocgrp_ord already numeric; no replace
v2clsocgrp_ord_codelow already numeric; no replace
v2clsocgrp_ord_codehigh already numeric; no replace
v2clsocgrp_mean already numeric; no replace
v2clsocgrp_nr already numeric; no replace
v2clsnlpct already numeric; no replace
v2clsnlpct_codelow already numeric; no replace
v2clsnlpct_codehigh already numeric; no replace
v2clsnlpct_sd already numeric; no replace
v2clsnlpct_mean already numeric; no replace
v2clsnlpct_nr already numeric; no replace
v2cldiscm already numeric; no replace
v2cldiscm_codelow already numeric; no replace
v2cldiscm_codehigh already numeric; no replace
v2cldiscm_sd already numeric; no replace
v2cldiscm_osp already numeric; no replace
v2cldiscm_osp_codelow already numeric; no replace
v2cldiscm_osp_codehigh already numeric; no replace
v2cldiscm_osp_sd already numeric; no replace
v2cldiscm_ord already numeric; no replace
v2cldiscm_ord_codelow already numeric; no replace
v2cldiscm_ord_codehigh already numeric; no replace
v2cldiscm_mean already numeric; no replace
v2cldiscm_nr already numeric; no replace
v2cldiscw already numeric; no replace
v2cldiscw_codelow already numeric; no replace
v2cldiscw_codehigh already numeric; no replace
v2cldiscw_sd already numeric; no replace
v2cldiscw_osp already numeric; no replace
v2cldiscw_osp_codelow already numeric; no replace
v2cldiscw_osp_codehigh already numeric; no replace
v2cldiscw_osp_sd already numeric; no replace
v2cldiscw_ord already numeric; no replace
v2cldiscw_ord_codelow already numeric; no replace
v2cldiscw_ord_codehigh already numeric; no replace
v2cldiscw_mean already numeric; no replace
v2cldiscw_nr already numeric; no replace
v2clacfree already numeric; no replace
v2clacfree_codelow already numeric; no replace
v2clacfree_codehigh already numeric; no replace
v2clacfree_sd already numeric; no replace
v2clacfree_osp already numeric; no replace
v2clacfree_osp_codelow already numeric; no replace
v2clacfree_osp_codehigh already numeric; no replace
v2clacfree_osp_sd already numeric; no replace
v2clacfree_ord already numeric; no replace
v2clacfree_ord_codelow already numeric; no replace
v2clacfree_ord_codehigh already numeric; no replace
v2clacfree_mean already numeric; no replace
v2clacfree_nr already numeric; no replace
v2clrelig already numeric; no replace
v2clrelig_codelow already numeric; no replace
v2clrelig_codehigh already numeric; no replace
v2clrelig_sd already numeric; no replace
v2clrelig_osp already numeric; no replace
v2clrelig_osp_codelow already numeric; no replace
v2clrelig_osp_codehigh already numeric; no replace
v2clrelig_osp_sd already numeric; no replace
v2clrelig_ord already numeric; no replace
v2clrelig_ord_codelow already numeric; no replace
v2clrelig_ord_codehigh already numeric; no replace
v2clrelig_mean already numeric; no replace
v2clrelig_nr already numeric; no replace
v2clfmove already numeric; no replace
v2clfmove_codelow already numeric; no replace
v2clfmove_codehigh already numeric; no replace
v2clfmove_sd already numeric; no replace
v2clfmove_osp already numeric; no replace
v2clfmove_osp_codelow already numeric; no replace
v2clfmove_osp_codehigh already numeric; no replace
v2clfmove_osp_sd already numeric; no replace
v2clfmove_ord already numeric; no replace
v2clfmove_ord_codelow already numeric; no replace
v2clfmove_ord_codehigh already numeric; no replace
v2clfmove_mean already numeric; no replace
v2clfmove_nr already numeric; no replace
v2cldmovem already numeric; no replace
v2cldmovem_codelow already numeric; no replace
v2cldmovem_codehigh already numeric; no replace
v2cldmovem_sd already numeric; no replace
v2cldmovem_osp already numeric; no replace
v2cldmovem_osp_codelow already numeric; no replace
v2cldmovem_osp_codehigh already numeric; no replace
v2cldmovem_osp_sd already numeric; no replace
v2cldmovem_ord already numeric; no replace
v2cldmovem_ord_codelow already numeric; no replace
v2cldmovem_ord_codehigh already numeric; no replace
v2cldmovem_mean already numeric; no replace
v2cldmovem_nr already numeric; no replace
v2cldmovew already numeric; no replace
v2cldmovew_codelow already numeric; no replace
v2cldmovew_codehigh already numeric; no replace
v2cldmovew_sd already numeric; no replace
v2cldmovew_osp already numeric; no replace
v2cldmovew_osp_codelow already numeric; no replace
v2cldmovew_osp_codehigh already numeric; no replace
v2cldmovew_osp_sd already numeric; no replace
v2cldmovew_ord already numeric; no replace
v2cldmovew_ord_codelow already numeric; no replace
v2cldmovew_ord_codehigh already numeric; no replace
v2cldmovew_mean already numeric; no replace
v2cldmovew_nr already numeric; no replace
v2clprptym already numeric; no replace
v2clprptym_codelow already numeric; no replace
v2clprptym_codehigh already numeric; no replace
v2clprptym_sd already numeric; no replace
v2clprptym_osp already numeric; no replace
v2clprptym_osp_codelow already numeric; no replace
v2clprptym_osp_codehigh already numeric; no replace
v2clprptym_osp_sd already numeric; no replace
v2clprptym_ord already numeric; no replace
v2clprptym_ord_codelow already numeric; no replace
v2clprptym_ord_codehigh already numeric; no replace
v2clprptym_mean already numeric; no replace
v2clprptym_nr already numeric; no replace
v2clprptyw already numeric; no replace
v2clprptyw_codelow already numeric; no replace
v2clprptyw_codehigh already numeric; no replace
v2clprptyw_sd already numeric; no replace
v2clprptyw_osp already numeric; no replace
v2clprptyw_osp_codelow already numeric; no replace
v2clprptyw_osp_codehigh already numeric; no replace
v2clprptyw_osp_sd already numeric; no replace
v2clprptyw_ord already numeric; no replace
v2clprptyw_ord_codelow already numeric; no replace
v2clprptyw_ord_codehigh already numeric; no replace
v2clprptyw_mean already numeric; no replace
v2clprptyw_nr already numeric; no replace
v2cseeorgs already numeric; no replace
v2cseeorgs_codelow already numeric; no replace
v2cseeorgs_codehigh already numeric; no replace
v2cseeorgs_sd already numeric; no replace
v2cseeorgs_osp already numeric; no replace
v2cseeorgs_osp_codelow already numeric; no replace
v2cseeorgs_osp_codehigh already numeric; no replace
v2cseeorgs_osp_sd already numeric; no replace
v2cseeorgs_ord already numeric; no replace
v2cseeorgs_ord_codelow already numeric; no replace
v2cseeorgs_ord_codehigh already numeric; no replace
v2cseeorgs_mean already numeric; no replace
v2cseeorgs_nr already numeric; no replace
v2csreprss already numeric; no replace
v2csreprss_codelow already numeric; no replace
v2csreprss_codehigh already numeric; no replace
v2csreprss_sd already numeric; no replace
v2csreprss_osp already numeric; no replace
v2csreprss_osp_codelow already numeric; no replace
v2csreprss_osp_codehigh already numeric; no replace
v2csreprss_osp_sd already numeric; no replace
v2csreprss_ord already numeric; no replace
v2csreprss_ord_codelow already numeric; no replace
v2csreprss_ord_codehigh already numeric; no replace
v2csreprss_mean already numeric; no replace
v2csreprss_nr already numeric; no replace
v2cscnsult already numeric; no replace
v2cscnsult_codelow already numeric; no replace
v2cscnsult_codehigh already numeric; no replace
v2cscnsult_sd already numeric; no replace
v2cscnsult_osp already numeric; no replace
v2cscnsult_osp_codelow already numeric; no replace
v2cscnsult_osp_codehigh already numeric; no replace
v2cscnsult_osp_sd already numeric; no replace
v2cscnsult_ord already numeric; no replace
v2cscnsult_ord_codelow already numeric; no replace
v2cscnsult_ord_codehigh already numeric; no replace
v2cscnsult_mean already numeric; no replace
v2cscnsult_nr already numeric; no replace
v2csprtcpt already numeric; no replace
v2csprtcpt_codelow already numeric; no replace
v2csprtcpt_codehigh already numeric; no replace
v2csprtcpt_sd already numeric; no replace
v2csprtcpt_osp already numeric; no replace
v2csprtcpt_osp_codelow already numeric; no replace
v2csprtcpt_osp_codehigh already numeric; no replace
v2csprtcpt_osp_sd already numeric; no replace
v2csprtcpt_ord already numeric; no replace
v2csprtcpt_ord_codelow already numeric; no replace
v2csprtcpt_ord_codehigh already numeric; no replace
v2csprtcpt_mean already numeric; no replace
v2csprtcpt_nr already numeric; no replace
v2csgender already numeric; no replace
v2csgender_codelow already numeric; no replace
v2csgender_codehigh already numeric; no replace
v2csgender_sd already numeric; no replace
v2csgender_osp already numeric; no replace
v2csgender_osp_codelow already numeric; no replace
v2csgender_osp_codehigh already numeric; no replace
v2csgender_osp_sd already numeric; no replace
v2csgender_ord already numeric; no replace
v2csgender_ord_codelow already numeric; no replace
v2csgender_ord_codehigh already numeric; no replace
v2csgender_mean already numeric; no replace
v2csgender_nr already numeric; no replace
v2csrlgrep already numeric; no replace
v2csrlgrep_codelow already numeric; no replace
v2csrlgrep_codehigh already numeric; no replace
v2csrlgrep_sd already numeric; no replace
v2csrlgrep_osp already numeric; no replace
v2csrlgrep_osp_codelow already numeric; no replace
v2csrlgrep_osp_codehigh already numeric; no replace
v2csrlgrep_osp_sd already numeric; no replace
v2csrlgrep_ord already numeric; no replace
v2csrlgrep_ord_codelow already numeric; no replace
v2csrlgrep_ord_codehigh already numeric; no replace
v2csrlgrep_mean already numeric; no replace
v2csrlgrep_nr already numeric; no replace
v2mecenefm already numeric; no replace
v2mecenefm_codelow already numeric; no replace
v2mecenefm_codehigh already numeric; no replace
v2mecenefm_sd already numeric; no replace
v2mecenefm_osp already numeric; no replace
v2mecenefm_osp_codelow already numeric; no replace
v2mecenefm_osp_codehigh already numeric; no replace
v2mecenefm_osp_sd already numeric; no replace
v2mecenefm_ord already numeric; no replace
v2mecenefm_ord_codelow already numeric; no replace
v2mecenefm_ord_codehigh already numeric; no replace
v2mecenefm_mean already numeric; no replace
v2mecenefm_nr already numeric; no replace
v2mecenefi already numeric; no replace
v2mecenefi_codelow already numeric; no replace
v2mecenefi_codehigh already numeric; no replace
v2mecenefi_sd already numeric; no replace
v2mecenefi_osp already numeric; no replace
v2mecenefi_osp_codelow already numeric; no replace
v2mecenefi_osp_codehigh already numeric; no replace
v2mecenefi_osp_sd already numeric; no replace
v2mecenefi_ord already numeric; no replace
v2mecenefi_ord_codelow already numeric; no replace
v2mecenefi_ord_codehigh already numeric; no replace
v2mecenefi_mean already numeric; no replace
v2mecenefi_nr already numeric; no replace
v2mecrit already numeric; no replace
v2mecrit_codelow already numeric; no replace
v2mecrit_codehigh already numeric; no replace
v2mecrit_sd already numeric; no replace
v2mecrit_osp already numeric; no replace
v2mecrit_osp_codelow already numeric; no replace
v2mecrit_osp_codehigh already numeric; no replace
v2mecrit_osp_sd already numeric; no replace
v2mecrit_ord already numeric; no replace
v2mecrit_ord_codelow already numeric; no replace
v2mecrit_ord_codehigh already numeric; no replace
v2mecrit_mean already numeric; no replace
v2mecrit_nr already numeric; no replace
v2merange already numeric; no replace
v2merange_codelow already numeric; no replace
v2merange_codehigh already numeric; no replace
v2merange_sd already numeric; no replace
v2merange_osp already numeric; no replace
v2merange_osp_codelow already numeric; no replace
v2merange_osp_codehigh already numeric; no replace
v2merange_osp_sd already numeric; no replace
v2merange_ord already numeric; no replace
v2merange_ord_codelow already numeric; no replace
v2merange_ord_codehigh already numeric; no replace
v2merange_mean already numeric; no replace
v2merange_nr already numeric; no replace
v2mefemjrn already numeric; no replace
v2mefemjrn_codelow already numeric; no replace
v2mefemjrn_codehigh already numeric; no replace
v2mefemjrn_sd already numeric; no replace
v2mefemjrn_mean already numeric; no replace
v2mefemjrn_nr already numeric; no replace
v2meharjrn already numeric; no replace
v2meharjrn_codelow already numeric; no replace
v2meharjrn_codehigh already numeric; no replace
v2meharjrn_sd already numeric; no replace
v2meharjrn_osp already numeric; no replace
v2meharjrn_osp_codelow already numeric; no replace
v2meharjrn_osp_codehigh already numeric; no replace
v2meharjrn_osp_sd already numeric; no replace
v2meharjrn_ord already numeric; no replace
v2meharjrn_ord_codelow already numeric; no replace
v2meharjrn_ord_codehigh already numeric; no replace
v2meharjrn_mean already numeric; no replace
v2meharjrn_nr already numeric; no replace
v2meslfcen already numeric; no replace
v2meslfcen_codelow already numeric; no replace
v2meslfcen_codehigh already numeric; no replace
v2meslfcen_sd already numeric; no replace
v2meslfcen_osp already numeric; no replace
v2meslfcen_osp_codelow already numeric; no replace
v2meslfcen_osp_codehigh already numeric; no replace
v2meslfcen_osp_sd already numeric; no replace
v2meslfcen_ord already numeric; no replace
v2meslfcen_ord_codelow already numeric; no replace
v2meslfcen_ord_codehigh already numeric; no replace
v2meslfcen_mean already numeric; no replace
v2meslfcen_nr already numeric; no replace
v2mebias already numeric; no replace
v2mebias_codelow already numeric; no replace
v2mebias_codehigh already numeric; no replace
v2mebias_sd already numeric; no replace
v2mebias_osp already numeric; no replace
v2mebias_osp_codelow already numeric; no replace
v2mebias_osp_codehigh already numeric; no replace
v2mebias_osp_sd already numeric; no replace
v2mebias_ord already numeric; no replace
v2mebias_ord_codelow already numeric; no replace
v2mebias_ord_codehigh already numeric; no replace
v2mebias_mean already numeric; no replace
v2mebias_nr already numeric; no replace
v2pepwrses already numeric; no replace
v2pepwrses_codelow already numeric; no replace
v2pepwrses_codehigh already numeric; no replace
v2pepwrses_sd already numeric; no replace
v2pepwrses_osp already numeric; no replace
v2pepwrses_osp_codelow already numeric; no replace
v2pepwrses_osp_codehigh already numeric; no replace
v2pepwrses_osp_sd already numeric; no replace
v2pepwrses_ord already numeric; no replace
v2pepwrses_ord_codelow already numeric; no replace
v2pepwrses_ord_codehigh already numeric; no replace
v2pepwrses_mean already numeric; no replace
v2pepwrses_nr already numeric; no replace
v2pepwrsoc already numeric; no replace
v2pepwrsoc_codelow already numeric; no replace
v2pepwrsoc_codehigh already numeric; no replace
v2pepwrsoc_sd already numeric; no replace
v2pepwrsoc_osp already numeric; no replace
v2pepwrsoc_osp_codelow already numeric; no replace
v2pepwrsoc_osp_codehigh already numeric; no replace
v2pepwrsoc_osp_sd already numeric; no replace
v2pepwrsoc_ord already numeric; no replace
v2pepwrsoc_ord_codelow already numeric; no replace
v2pepwrsoc_ord_codehigh already numeric; no replace
v2pepwrsoc_mean already numeric; no replace
v2pepwrsoc_nr already numeric; no replace
v2pepwrgen already numeric; no replace
v2pepwrgen_codelow already numeric; no replace
v2pepwrgen_codehigh already numeric; no replace
v2pepwrgen_sd already numeric; no replace
v2pepwrgen_osp already numeric; no replace
v2pepwrgen_osp_codelow already numeric; no replace
v2pepwrgen_osp_codehigh already numeric; no replace
v2pepwrgen_osp_sd already numeric; no replace
v2pepwrgen_ord already numeric; no replace
v2pepwrgen_ord_codelow already numeric; no replace
v2pepwrgen_ord_codehigh already numeric; no replace
v2pepwrgen_mean already numeric; no replace
v2pepwrgen_nr already numeric; no replace
v2peedueq already numeric; no replace
v2peedueq_codelow already numeric; no replace
v2peedueq_codehigh already numeric; no replace
v2peedueq_sd already numeric; no replace
v2peedueq_osp already numeric; no replace
v2peedueq_osp_codelow already numeric; no replace
v2peedueq_osp_codehigh already numeric; no replace
v2peedueq_osp_sd already numeric; no replace
v2peedueq_ord already numeric; no replace
v2peedueq_ord_codelow already numeric; no replace
v2peedueq_ord_codehigh already numeric; no replace
v2peedueq_mean already numeric; no replace
v2peedueq_nr already numeric; no replace
v2pehealth already numeric; no replace
v2pehealth_codelow already numeric; no replace
v2pehealth_codehigh already numeric; no replace
v2pehealth_sd already numeric; no replace
v2pehealth_osp already numeric; no replace
v2pehealth_osp_codelow already numeric; no replace
v2pehealth_osp_codehigh already numeric; no replace
v2pehealth_osp_sd already numeric; no replace
v2pehealth_ord already numeric; no replace
v2pehealth_ord_codelow already numeric; no replace
v2pehealth_ord_codehigh already numeric; no replace
v2pehealth_mean already numeric; no replace
v2pehealth_nr already numeric; no replace
v2peapsecon already numeric; no replace
v2peapsecon_codelow already numeric; no replace
v2peapsecon_codehigh already numeric; no replace
v2peapsecon_sd already numeric; no replace
v2peapsecon_osp already numeric; no replace
v2peapsecon_osp_codelow already numeric; no replace
v2peapsecon_osp_codehigh already numeric; no replace
v2peapsecon_osp_sd already numeric; no replace
v2peapsecon_ord already numeric; no replace
v2peapsecon_ord_codelow already numeric; no replace
v2peapsecon_ord_codehigh already numeric; no replace
v2peapsecon_mean already numeric; no replace
v2peapsecon_nr already numeric; no replace
v2peasjsoecon already numeric; no replace
v2peasjsoecon_codelow already numeric; no replace
v2peasjsoecon_codehigh already numeric; no replace
v2peasjsoecon_sd already numeric; no replace
v2peasjsoecon_osp already numeric; no replace
v2peasjsoecon_osp_codelow already numeric; no replace
v2peasjsoecon_osp_codehigh already numeric; no replace
v2peasjsoecon_osp_sd already numeric; no replace
v2peasjsoecon_ord already numeric; no replace
v2peasjsoecon_ord_codelow already numeric; no replace
v2peasjsoecon_ord_codehigh already numeric; no replace
v2peasjsoecon_mean already numeric; no replace
v2peasjsoecon_nr already numeric; no replace
v2peasbecon already numeric; no replace
v2peasbecon_codelow already numeric; no replace
v2peasbecon_codehigh already numeric; no replace
v2peasbecon_sd already numeric; no replace
v2peasbecon_osp already numeric; no replace
v2peasbecon_osp_codelow already numeric; no replace
v2peasbecon_osp_codehigh already numeric; no replace
v2peasbecon_osp_sd already numeric; no replace
v2peasbecon_ord already numeric; no replace
v2peasbecon_ord_codelow already numeric; no replace
v2peasbecon_ord_codehigh already numeric; no replace
v2peasbecon_mean already numeric; no replace
v2peasbecon_nr already numeric; no replace
v2clgencl already numeric; no replace
v2clgencl_codelow already numeric; no replace
v2clgencl_codehigh already numeric; no replace
v2clgencl_sd already numeric; no replace
v2clgencl_osp already numeric; no replace
v2clgencl_osp_codelow already numeric; no replace
v2clgencl_osp_codehigh already numeric; no replace
v2clgencl_osp_sd already numeric; no replace
v2clgencl_ord already numeric; no replace
v2clgencl_ord_codelow already numeric; no replace
v2clgencl_ord_codehigh already numeric; no replace
v2clgencl_mean already numeric; no replace
v2clgencl_nr already numeric; no replace
v2peapsgen already numeric; no replace
v2peapsgen_codelow already numeric; no replace
v2peapsgen_codehigh already numeric; no replace
v2peapsgen_sd already numeric; no replace
v2peapsgen_osp already numeric; no replace
v2peapsgen_osp_codelow already numeric; no replace
v2peapsgen_osp_codehigh already numeric; no replace
v2peapsgen_osp_sd already numeric; no replace
v2peapsgen_ord already numeric; no replace
v2peapsgen_ord_codelow already numeric; no replace
v2peapsgen_ord_codehigh already numeric; no replace
v2peapsgen_mean already numeric; no replace
v2peapsgen_nr already numeric; no replace
v2peasjgen already numeric; no replace
v2peasjgen_codelow already numeric; no replace
v2peasjgen_codehigh already numeric; no replace
v2peasjgen_sd already numeric; no replace
v2peasjgen_osp already numeric; no replace
v2peasjgen_osp_codelow already numeric; no replace
v2peasjgen_osp_codehigh already numeric; no replace
v2peasjgen_osp_sd already numeric; no replace
v2peasjgen_ord already numeric; no replace
v2peasjgen_ord_codelow already numeric; no replace
v2peasjgen_ord_codehigh already numeric; no replace
v2peasjgen_mean already numeric; no replace
v2peasjgen_nr already numeric; no replace
v2peasbgen already numeric; no replace
v2peasbgen_codelow already numeric; no replace
v2peasbgen_codehigh already numeric; no replace
v2peasbgen_sd already numeric; no replace
v2peasbgen_osp already numeric; no replace
v2peasbgen_osp_codelow already numeric; no replace
v2peasbgen_osp_codehigh already numeric; no replace
v2peasbgen_osp_sd already numeric; no replace
v2peasbgen_ord already numeric; no replace
v2peasbgen_ord_codelow already numeric; no replace
v2peasbgen_ord_codehigh already numeric; no replace
v2peasbgen_mean already numeric; no replace
v2peasbgen_nr already numeric; no replace
v2pepwrgeo already numeric; no replace
v2pepwrgeo_codelow already numeric; no replace
v2pepwrgeo_codehigh already numeric; no replace
v2pepwrgeo_sd already numeric; no replace
v2pepwrgeo_osp already numeric; no replace
v2pepwrgeo_osp_codelow already numeric; no replace
v2pepwrgeo_osp_codehigh already numeric; no replace
v2pepwrgeo_osp_sd already numeric; no replace
v2pepwrgeo_ord already numeric; no replace
v2pepwrgeo_ord_codelow already numeric; no replace
v2pepwrgeo_ord_codehigh already numeric; no replace
v2pepwrgeo_mean already numeric; no replace
v2pepwrgeo_nr already numeric; no replace
v2clgeocl already numeric; no replace
v2clgeocl_codelow already numeric; no replace
v2clgeocl_codehigh already numeric; no replace
v2clgeocl_sd already numeric; no replace
v2clgeocl_osp already numeric; no replace
v2clgeocl_osp_codelow already numeric; no replace
v2clgeocl_osp_codehigh already numeric; no replace
v2clgeocl_osp_sd already numeric; no replace
v2clgeocl_ord already numeric; no replace
v2clgeocl_ord_codelow already numeric; no replace
v2clgeocl_ord_codehigh already numeric; no replace
v2clgeocl_mean already numeric; no replace
v2clgeocl_nr already numeric; no replace
v2peapsgeo already numeric; no replace
v2peapsgeo_codelow already numeric; no replace
v2peapsgeo_codehigh already numeric; no replace
v2peapsgeo_sd already numeric; no replace
v2peapsgeo_osp already numeric; no replace
v2peapsgeo_osp_codelow already numeric; no replace
v2peapsgeo_osp_codehigh already numeric; no replace
v2peapsgeo_osp_sd already numeric; no replace
v2peapsgeo_ord already numeric; no replace
v2peapsgeo_ord_codelow already numeric; no replace
v2peapsgeo_ord_codehigh already numeric; no replace
v2peapsgeo_mean already numeric; no replace
v2peapsgeo_nr already numeric; no replace
v2peasjgeo already numeric; no replace
v2peasjgeo_codelow already numeric; no replace
v2peasjgeo_codehigh already numeric; no replace
v2peasjgeo_sd already numeric; no replace
v2peasjgeo_osp already numeric; no replace
v2peasjgeo_osp_codelow already numeric; no replace
v2peasjgeo_osp_codehigh already numeric; no replace
v2peasjgeo_osp_sd already numeric; no replace
v2peasjgeo_ord already numeric; no replace
v2peasjgeo_ord_codelow already numeric; no replace
v2peasjgeo_ord_codehigh already numeric; no replace
v2peasjgeo_mean already numeric; no replace
v2peasjgeo_nr already numeric; no replace
v2peasbegeo already numeric; no replace
v2peasbegeo_codelow already numeric; no replace
v2peasbegeo_codehigh already numeric; no replace
v2peasbegeo_sd already numeric; no replace
v2peasbegeo_osp already numeric; no replace
v2peasbegeo_osp_codelow already numeric; no replace
v2peasbegeo_osp_codehigh already numeric; no replace
v2peasbegeo_osp_sd already numeric; no replace
v2peasbegeo_ord already numeric; no replace
v2peasbegeo_ord_codelow already numeric; no replace
v2peasbegeo_ord_codehigh already numeric; no replace
v2peasbegeo_mean already numeric; no replace
v2peasbegeo_nr already numeric; no replace
v2clpolcl already numeric; no replace
v2clpolcl_codelow already numeric; no replace
v2clpolcl_codehigh already numeric; no replace
v2clpolcl_sd already numeric; no replace
v2clpolcl_osp already numeric; no replace
v2clpolcl_osp_codelow already numeric; no replace
v2clpolcl_osp_codehigh already numeric; no replace
v2clpolcl_osp_sd already numeric; no replace
v2clpolcl_ord already numeric; no replace
v2clpolcl_ord_codelow already numeric; no replace
v2clpolcl_ord_codehigh already numeric; no replace
v2clpolcl_mean already numeric; no replace
v2clpolcl_nr already numeric; no replace
v2peapspol already numeric; no replace
v2peapspol_codelow already numeric; no replace
v2peapspol_codehigh already numeric; no replace
v2peapspol_sd already numeric; no replace
v2peapspol_osp already numeric; no replace
v2peapspol_osp_codelow already numeric; no replace
v2peapspol_osp_codehigh already numeric; no replace
v2peapspol_osp_sd already numeric; no replace
v2peapspol_ord already numeric; no replace
v2peapspol_ord_codelow already numeric; no replace
v2peapspol_ord_codehigh already numeric; no replace
v2peapspol_mean already numeric; no replace
v2peapspol_nr already numeric; no replace
v2peasjpol already numeric; no replace
v2peasjpol_codelow already numeric; no replace
v2peasjpol_codehigh already numeric; no replace
v2peasjpol_sd already numeric; no replace
v2peasjpol_osp already numeric; no replace
v2peasjpol_osp_codelow already numeric; no replace
v2peasjpol_osp_codehigh already numeric; no replace
v2peasjpol_osp_sd already numeric; no replace
v2peasjpol_ord already numeric; no replace
v2peasjpol_ord_codelow already numeric; no replace
v2peasjpol_ord_codehigh already numeric; no replace
v2peasjpol_mean already numeric; no replace
v2peasjpol_nr already numeric; no replace
v2peasbepol already numeric; no replace
v2peasbepol_codelow already numeric; no replace
v2peasbepol_codehigh already numeric; no replace
v2peasbepol_sd already numeric; no replace
v2peasbepol_osp already numeric; no replace
v2peasbepol_osp_codelow already numeric; no replace
v2peasbepol_osp_codehigh already numeric; no replace
v2peasbepol_osp_sd already numeric; no replace
v2peasbepol_ord already numeric; no replace
v2peasbepol_ord_codelow already numeric; no replace
v2peasbepol_ord_codehigh already numeric; no replace
v2peasbepol_mean already numeric; no replace
v2peasbepol_nr already numeric; no replace
v2peapssoc already numeric; no replace
v2peapssoc_codelow already numeric; no replace
v2peapssoc_codehigh already numeric; no replace
v2peapssoc_sd already numeric; no replace
v2peapssoc_osp already numeric; no replace
v2peapssoc_osp_codelow already numeric; no replace
v2peapssoc_osp_codehigh already numeric; no replace
v2peapssoc_osp_sd already numeric; no replace
v2peapssoc_ord already numeric; no replace
v2peapssoc_ord_codelow already numeric; no replace
v2peapssoc_ord_codehigh already numeric; no replace
v2peapssoc_mean already numeric; no replace
v2peapssoc_nr already numeric; no replace
v2peasjsoc already numeric; no replace
v2peasjsoc_codelow already numeric; no replace
v2peasjsoc_codehigh already numeric; no replace
v2peasjsoc_sd already numeric; no replace
v2peasjsoc_osp already numeric; no replace
v2peasjsoc_osp_codelow already numeric; no replace
v2peasjsoc_osp_codehigh already numeric; no replace
v2peasjsoc_osp_sd already numeric; no replace
v2peasjsoc_ord already numeric; no replace
v2peasjsoc_ord_codelow already numeric; no replace
v2peasjsoc_ord_codehigh already numeric; no replace
v2peasjsoc_mean already numeric; no replace
v2peasjsoc_nr already numeric; no replace
v2peasbsoc already numeric; no replace
v2peasbsoc_codelow already numeric; no replace
v2peasbsoc_codehigh already numeric; no replace
v2peasbsoc_sd already numeric; no replace
v2peasbsoc_osp already numeric; no replace
v2peasbsoc_osp_codelow already numeric; no replace
v2peasbsoc_osp_codehigh already numeric; no replace
v2peasbsoc_osp_sd already numeric; no replace
v2peasbsoc_ord already numeric; no replace
v2peasbsoc_ord_codelow already numeric; no replace
v2peasbsoc_ord_codehigh already numeric; no replace
v2peasbsoc_mean already numeric; no replace
v2peasbsoc_nr already numeric; no replace
v2cafres already numeric; no replace
v2cafres_codelow already numeric; no replace
v2cafres_codehigh already numeric; no replace
v2cafres_sd already numeric; no replace
v2cafres_osp already numeric; no replace
v2cafres_osp_codelow already numeric; no replace
v2cafres_osp_codehigh already numeric; no replace
v2cafres_osp_sd already numeric; no replace
v2cafres_ord already numeric; no replace
v2cafres_ord_codelow already numeric; no replace
v2cafres_ord_codehigh already numeric; no replace
v2cafres_mean already numeric; no replace
v2cafres_nr already numeric; no replace
v2cafexch already numeric; no replace
v2cafexch_codelow already numeric; no replace
v2cafexch_codehigh already numeric; no replace
v2cafexch_sd already numeric; no replace
v2cafexch_osp already numeric; no replace
v2cafexch_osp_codelow already numeric; no replace
v2cafexch_osp_codehigh already numeric; no replace
v2cafexch_osp_sd already numeric; no replace
v2cafexch_ord already numeric; no replace
v2cafexch_ord_codelow already numeric; no replace
v2cafexch_ord_codehigh already numeric; no replace
v2cafexch_mean already numeric; no replace
v2cafexch_nr already numeric; no replace
v2cainsaut already numeric; no replace
v2cainsaut_codelow already numeric; no replace
v2cainsaut_codehigh already numeric; no replace
v2cainsaut_sd already numeric; no replace
v2cainsaut_osp already numeric; no replace
v2cainsaut_osp_codelow already numeric; no replace
v2cainsaut_osp_codehigh already numeric; no replace
v2cainsaut_osp_sd already numeric; no replace
v2cainsaut_ord already numeric; no replace
v2cainsaut_ord_codelow already numeric; no replace
v2cainsaut_ord_codehigh already numeric; no replace
v2cainsaut_mean already numeric; no replace
v2cainsaut_nr already numeric; no replace
v2casurv already numeric; no replace
v2casurv_codelow already numeric; no replace
v2casurv_codehigh already numeric; no replace
v2casurv_sd already numeric; no replace
v2casurv_osp already numeric; no replace
v2casurv_osp_codelow already numeric; no replace
v2casurv_osp_codehigh already numeric; no replace
v2casurv_osp_sd already numeric; no replace
v2casurv_ord already numeric; no replace
v2casurv_ord_codelow already numeric; no replace
v2casurv_ord_codehigh already numeric; no replace
v2casurv_mean already numeric; no replace
v2casurv_nr already numeric; no replace
v2x_regime already numeric; no replace
v2x_regime_amb already numeric; no replace
v2x_accountability already numeric; no replace
v2x_accountability_codelow already numeric; no replace
v2x_accountability_codehigh already numeric; no replace
v2x_accountability_osp already numeric; no replace
v2x_accountability_osp_codelow already numeric; no replace
v2x_accountability_osp_codehigh already numeric; no replace
v2x_veracc already numeric; no replace
v2x_veracc_codelow already numeric; no replace
v2x_veracc_codehigh already numeric; no replace
v2x_veracc_osp already numeric; no replace
v2x_veracc_osp_codelow already numeric; no replace
v2x_veracc_osp_codehigh already numeric; no replace
v2x_diagacc already numeric; no replace
v2x_diagacc_codelow already numeric; no replace
v2x_diagacc_codehigh already numeric; no replace
v2x_diagacc_osp already numeric; no replace
v2x_diagacc_osp_codelow already numeric; no replace
v2x_diagacc_osp_codehigh already numeric; no replace
v2x_horacc already numeric; no replace
v2x_horacc_codelow already numeric; no replace
v2x_horacc_codehigh already numeric; no replace
v2x_horacc_osp already numeric; no replace
v2x_horacc_osp_codelow already numeric; no replace
v2x_horacc_osp_codehigh already numeric; no replace
v2x_ex_confidence already numeric; no replace
v2x_ex_direlect already numeric; no replace
v2x_ex_hereditary already numeric; no replace
v2x_ex_military already numeric; no replace
v2x_ex_party already numeric; no replace
v2x_neopat already numeric; no replace
v2x_neopat_codelow already numeric; no replace
v2x_neopat_codehigh already numeric; no replace
v2x_neopat_sd already numeric; no replace
v2xnp_client already numeric; no replace
v2xnp_client_codelow already numeric; no replace
v2xnp_client_codehigh already numeric; no replace
v2xnp_client_sd already numeric; no replace
v2xnp_pres already numeric; no replace
v2xnp_pres_codelow already numeric; no replace
v2xnp_pres_codehigh already numeric; no replace
v2xnp_pres_sd already numeric; no replace
v2xnp_regcorr already numeric; no replace
v2xnp_regcorr_codelow already numeric; no replace
v2xnp_regcorr_codehigh already numeric; no replace
v2xnp_regcorr_sd already numeric; no replace
v2x_civlib already numeric; no replace
v2x_civlib_codelow already numeric; no replace
v2x_civlib_codehigh already numeric; no replace
v2x_civlib_sd already numeric; no replace
v2x_clphy already numeric; no replace
v2x_clphy_codelow already numeric; no replace
v2x_clphy_codehigh already numeric; no replace
v2x_clphy_sd already numeric; no replace
v2x_clpol already numeric; no replace
v2x_clpol_codelow already numeric; no replace
v2x_clpol_codehigh already numeric; no replace
v2x_clpol_sd already numeric; no replace
v2x_clpriv already numeric; no replace
v2x_clpriv_codelow already numeric; no replace
v2x_clpriv_codehigh already numeric; no replace
v2x_clpriv_sd already numeric; no replace
v2xpe_exlecon already numeric; no replace
v2xpe_exlecon_codelow already numeric; no replace
v2xpe_exlecon_codehigh already numeric; no replace
v2xpe_exlecon_sd already numeric; no replace
v2xpe_exlgender already numeric; no replace
v2xpe_exlgender_codelow already numeric; no replace
v2xpe_exlgender_codehigh already numeric; no replace
v2xpe_exlgender_sd already numeric; no replace
v2xpe_exlgeo already numeric; no replace
v2xpe_exlgeo_codelow already numeric; no replace
v2xpe_exlgeo_codehigh already numeric; no replace
v2xpe_exlgeo_sd already numeric; no replace
v2xpe_exlpol already numeric; no replace
v2xpe_exlpol_codelow already numeric; no replace
v2xpe_exlpol_codehigh already numeric; no replace
v2xpe_exlpol_sd already numeric; no replace
v2xpe_exlsocgr already numeric; no replace
v2xpe_exlsocgr_codelow already numeric; no replace
v2xpe_exlsocgr_codehigh already numeric; no replace
v2xpe_exlsocgr_sd already numeric; no replace
v2x_corr already numeric; no replace
v2x_corr_codelow already numeric; no replace
v2x_corr_codehigh already numeric; no replace
v2x_corr_sd already numeric; no replace
v2x_execorr already numeric; no replace
v2x_execorr_codelow already numeric; no replace
v2x_execorr_codehigh already numeric; no replace
v2x_execorr_sd already numeric; no replace
v2x_pubcorr already numeric; no replace
v2x_pubcorr_codelow already numeric; no replace
v2x_pubcorr_codehigh already numeric; no replace
v2x_pubcorr_sd already numeric; no replace
v2x_gender already numeric; no replace
v2x_gender_codelow already numeric; no replace
v2x_gender_codehigh already numeric; no replace
v2x_gender_sd already numeric; no replace
v2x_gencl already numeric; no replace
v2x_gencl_codelow already numeric; no replace
v2x_gencl_codehigh already numeric; no replace
v2x_gencl_sd already numeric; no replace
v2x_gencs already numeric; no replace
v2x_gencs_codelow already numeric; no replace
v2x_gencs_codehigh already numeric; no replace
v2x_gencs_sd already numeric; no replace
v2x_genpp already numeric; no replace
v2x_genpp_codelow already numeric; no replace
v2x_genpp_codehigh already numeric; no replace
v2x_genpp_sd already numeric; no replace
v2x_rule already numeric; no replace
v2x_rule_codelow already numeric; no replace
v2x_rule_codehigh already numeric; no replace
v2x_rule_sd already numeric; no replace
v2xcl_acjst already numeric; no replace
v2xcl_acjst_codelow already numeric; no replace
v2xcl_acjst_codehigh already numeric; no replace
v2xcl_acjst_sd already numeric; no replace
v2xcl_prpty already numeric; no replace
v2xcl_prpty_codelow already numeric; no replace
v2xcl_prpty_codehigh already numeric; no replace
v2xcl_prpty_sd already numeric; no replace
v2xdd_i_ci already numeric; no replace
v2xdd_i_rf already numeric; no replace
v2xdd_i_or already numeric; no replace
v2xdd_i_pl already numeric; no replace
v2xdd_cic already numeric; no replace
v2xdd_toc already numeric; no replace
v2xcs_ccsi already numeric; no replace
v2xcs_ccsi_codelow already numeric; no replace
v2xcs_ccsi_codehigh already numeric; no replace
v2xcs_ccsi_sd already numeric; no replace
v2x_elecreg already numeric; no replace
v2xex_elecreg already numeric; no replace
v2xlg_elecreg already numeric; no replace
v2x_edcomp_thick already numeric; no replace
v2x_edcomp_thick_codelow already numeric; no replace
v2x_edcomp_thick_codehigh already numeric; no replace
v2x_edcomp_thick_sd already numeric; no replace
v2x_freexp already numeric; no replace
v2x_freexp_codelow already numeric; no replace
v2x_freexp_codehigh already numeric; no replace
v2x_freexp_sd already numeric; no replace
v2x_hosabort already numeric; no replace
v2x_hosinter already numeric; no replace
v2x_legabort already numeric; no replace
v2xcl_disc already numeric; no replace
v2xcl_disc_codelow already numeric; no replace
v2xcl_disc_codehigh already numeric; no replace
v2xcl_disc_sd already numeric; no replace
v2xcl_dmove already numeric; no replace
v2xcl_dmove_codelow already numeric; no replace
v2xcl_dmove_codehigh already numeric; no replace
v2xcl_dmove_sd already numeric; no replace
v2xcl_slave already numeric; no replace
v2xcl_slave_codelow already numeric; no replace
v2xcl_slave_codehigh already numeric; no replace
v2xcl_slave_sd already numeric; no replace
v2xel_elecparl already numeric; no replace
v2xel_elecpres already numeric; no replace
v2xex_elecleg already numeric; no replace
v2xlg_leginter already numeric; no replace
v2xme_altinf already numeric; no replace
v2xme_altinf_codelow already numeric; no replace
v2xme_altinf_codehigh already numeric; no replace
v2xme_altinf_sd already numeric; no replace
v2xps_party already numeric; no replace
v2xps_party_codelow already numeric; no replace
v2xps_party_codehigh already numeric; no replace
v2x_divparctrl already numeric; no replace
v2x_feduni already numeric; no replace
v2xca_academ already numeric; no replace
v2xca_academ_codelow already numeric; no replace
v2xca_academ_codehigh already numeric; no replace
v2xca_academ_sd already numeric; no replace
incgrp: contains nonnumeric characters; no replace
wb_region already numeric; no replace
disp_area: contains nonnumeric characters; no replace
UN_status_detail already numeric; no replace
UNmemberstate already numeric; no replace
UN_status already numeric; no replace
territoryof: contains nonnumeric characters; no replace
ISO_governing: contains nonnumeric characters; no replace
UN_contregion_code: all characters numeric; replaced as int
(162 missing values generated)
UN_continental_region: contains nonnumeric characters; no replace
UN_subregion_code: all characters numeric; replaced as int
(100 missing values generated)
UN_subregion: contains nonnumeric characters; no replace
UN_intermedregion_code: all characters numeric; replaced as byte
(5726 missing values generated)
UN_intermediary_region: contains nonnumeric characters; no replace
m49_code: all characters numeric; replaced as int
(100 missing values generated)

.                                                         
.                                 // Save full dataset
.                                 save V-Dem_all, replace
file V-Dem_all.dta saved

.                                 
.                                 // Keep only the Civil Society Participation Index indicator
.                                 keep ISO country wb_region incgrp year ISO_governing UN_status_detail UNmemberstate UN_status territoryof m49_code UN_continen
> tal_region UN_subregion UN_intermediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code v2x_cspart v2x_cspart_codelow v2x_cspart_codehigh v
> 2x_cspart_sd 

.                                 ren (v2x_*) (*)

.                                 ren cspart_codelow cspart_lower 

.                                 ren cspart_codehigh cspart_upper

.                                 lab var cspart "Civil society participation index"

.                                 lab var cspart_lower "Civil society participation index, lower bound of 68% probability distribution (~1 standard deviation be
> low mean point estimate)"
note: label truncated to 80 characters

.                                 lab var cspart_upper "Civil society participation index, upper bound of 68% probability distribution (~1 standard deviation ab
> ove mean point estimate)"
note: label truncated to 80 characters

.                                                         
.                         // Save
.                                 save VDem_CSPI, replace
file VDem_CSPI.dta saved

.                                 export delimited using VDem_CSPI, replace
file VDem_CSPI.csv saved

. 
. **# % urban population living in cities signed onto the Milan Urban Food Policy Pact (MUFPP, Landscan population data, GADM administrative boundaries, FSCI) 
.                 // National populations
.                         import delimited using "$datain\all_cntry_pops", clear
(encoding automatically selected: UTF-8)
(4 vars, 226 obs)

.                         drop v1

.                         ren country_urban_pop pop_u

.                         replace pop_u = pop_u / 1000 // Change unit from individuals to thousands of people
(223 real changes made)

.                         ren country_total_pop landscan_population

.                         replace landscan_population = landscan_population / 1000 // Change unit from individuals to thousands of people
variable landscan_population was long now double
(226 real changes made)

.                         sum landscan_population

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
landscan_p~n |        226    34033.87    133375.2      2.752    1393690

.                         lab var pop_u "Total urban population, thousands"

.                         lab var landscan_population "Total population, thousands"

.                         gen year = 2020

.                         
.                         // Save
.                                 save populations_2020, replace
file populations_2020.dta saved

.         
.                 // City populations
.                         import delimited using "$datain\city_pops", clear
(encoding automatically selected: UTF-8)
(4 vars, 221 obs)

.                         ren citiescity city

.                         ren citiescountry country

.                         replace city_pop = city_pop / 1000 // Change unit from individuals to thousands of people
variable city_pop was long now double
(221 real changes made)

.                         lab var city "City"

.                         lab var city_pop "City population, thousands"

.                         egen nmufppcities = count(v1), by(country)

.                         tab nmufppcities

nmufppcitie |
          s |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         37       16.74       16.74
          2 |         28       12.67       29.41
          3 |         18        8.14       37.56
          4 |         24       10.86       48.42
          5 |         10        4.52       52.94
          6 |         18        8.14       61.09
          7 |          7        3.17       64.25
         12 |         12        5.43       69.68
         14 |         14        6.33       76.02
         24 |         24       10.86       86.88
         29 |         29       13.12      100.00
------------+-----------------------------------
      Total |        221      100.00

.                         lab var nmufppcities "Number of MUFPP cities in the country"

.                         drop v1

.                                 
.                                 // Collapse to country level totals
.                                 // Save labels
.                                         foreach v of var * {
  2.                                         local l`v' : variable label `v'
  3.                                                 if `"`l`v''"' == "" {
  4.                                                 local l`v' "`v'"
  5.                                                 }
  6.                                         }

.                                         collapse (first) nmufppcities (sum) city_pop, by(country)

.                                         // Relabel
.                                                 foreach v of var * {
  2.                                                 label var `v' "`l`v''"
  3.                                                         }

.                                 ren city_pop mufpp_urbpop 

.                                 lab var mufpp_urbpop "Total population (national) living in MUFPP municipalities, thousands"

.                                 * Merge in country populations
.                                 replace country = "Cabo Verde" if country == "Cape Verde"
(1 real change made)

.                                 merge 1:1 country using populations_2020
(variable country was str20, now str33 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           153
        from master                         0  (_merge==1)
        from using                        153  (_merge==2)

    Matched                                73  (_merge==3)
    -----------------------------------------

.                                 drop _merge

.                                 replace mufpp_urbpop = 0 if mufpp_urbpop ==.
(153 real changes made)

.         
.                 // Calculate indicator
.                         gen mufppurbshare = (mufpp_urbpop / pop_u) * 100
(3 missing values generated)

.                         sum mufppurbshare

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
mufppurbsh~e |        223    6.581647    12.61411          0   70.82452

.                         lab var mufppurbshare "Share of urban population living in MUFPP signatory municipalities (%)"

.                                 
.                         // Merge in country classifications
.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(1 real change made)

.                                 replace country = "Republic of Moldova" if country == "Moldova"
(1 real change made)

.                                 replace country = "Russian Federation" if country == "Russia"
(1 real change made)

.                                 replace country = "Republic of Korea" if country == "South Korea"
(1 real change made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania"
(1 real change made)

.                                 replace country = "Türkiye" if country == "Turkey"
(1 real change made)

.                                 replace country = "United States of America" if country == "United States"
(1 real change made)

.                                 replace country = "Czechia" if country == "Czech Republic"
(1 real change made)

.                                 replace country = "Timor-Leste" if country == "East Timor"
(1 real change made)

.                                 replace country = "Falkland Islands (Malvinas)" if country == "Falkland Islands"
(1 real change made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran"
(1 real change made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Laos"
(1 real change made)

.                                 replace country = "North Macedonia" if country == "Macedonia"
(1 real change made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia"
(1 real change made)

.                                 replace country = "Dem People's Rep of Korea" if country == "North Korea"
(1 real change made)

.                                 replace country = "Svalbard and Jan Mayen Islands" if country == "Svalbard and Jan Mayen"
(1 real change made)

.                                 replace country = "Syrian Arab Republic" if country == "Syria"
(1 real change made)

.                                 replace country = "Sao Tome and Principe" if country == "São Tomé and Príncipe"
(1 real change made)

.                                 replace country = "Viet Nam" if country == "Vietnam"
(1 real change made)

.                                 replace country = "United States Virgin Islands" if country == "Virgin Islands, U.S."
(1 real change made)

.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(1 real change made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(1 real change made)

.                                 replace country = "Palestine, State of" if country == "Palestine"
(1 real change made)

.                                 replace country = "Reunion" if country == "Réunion"
(1 real change made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom"
variable country was str33 now str52
(1 real change made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela"
(1 real change made)

.                                 replace country = "Saint Pierre et Miquelon" if country == "Saint Pierre and Miquelon"  
(1 real change made)

.                                 replace country = "Macau" if country == "Macao" 
(1 real change made)

.                                 replace country = "Saint Martin (French Part)" if country == "Saint-Martin" 
(1 real change made)

.                                 replace country = "Sint Maarten (Dutch part)" if country == "Sint Maarten" 
(1 real change made)

.                                 replace country = "Bonaire, Sint Eustatius and Saba" if country == "Bonaire, Saint Eustatius and Saba" 
(1 real change made)

.                                 merge 1:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            39
        from master                         8  (_merge==1)
        from using                         31  (_merge==2)

    Matched                               218  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(39 observations deleted)

.                                 drop _merge

.                                 merge 1:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            71
        from master                         0  (_merge==1)
        from using                         71  (_merge==2)

    Matched                               218  (_merge==3)
    -----------------------------------------

.                                 browse if _merge != 3 

.                                 tab country if _merge == 1
no observations

.                                         /* Drop territories not in GAUL: Akrotiri and Dhekelia
>                                                 Bonaire, Saint Eustatius and Saba
>                                                 Brunei
>                                                 Caspian Sea
>                                                 Curaçao
>                                                 Kosovo
>                                                 Northern Cyprus
>                                                 Saint-Martin
>                                                 Sint Maarten
>                                                 Åland */
.                                 drop if _merge != 3 
(71 observations deleted)

.                                 drop _merge

.                                 sort ISO 

.                                 order ISO country wb_region incgrp year mufppurbshare   

.                         
.                         // Save
.                                 save mufpp_pop, replace
file mufpp_pop.dta saved

.                                 export delimited using mufpp_pop, replace
file mufpp_pop.csv saved

. 
. **# Degree of legal recognition of the Right to Food (FAO / FSCI)
.                 import excel using "$datain\Rigth-to-Food_Dataset", firstrow clear sheet("Sheet1")
(2 vars, 308 obs)

.                 tab constitutional_recognition

             constitutional_recognition |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
   Directive principles of state policy |         28        9.09        9.09
Explicit protection of the right to a.. |         29        9.42       18.51
Implicit protection of the right to a.. |         16        5.19       23.70
National status of international obli.. |        112       36.36       60.06
Other pertinent provisions for the re.. |        123       39.94      100.00
----------------------------------------+-----------------------------------
                                  Total |        308      100.00

.                 ren constitutional_recognition legal_recognition

.                 encode legal_recognition, gen(legrectype)

.                         // Merge in country classification
.                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(3 real changes made)

.                         replace country = "Côte D'Ivoire" if country == "Cote d'Ivoire"
(2 real changes made)

.                         replace country = "Democratic Republic of the Congo" if country == "Democratic Republic of Congo"
(3 real changes made)

.                         replace country = "Iran (Islamic Republic of)" if country == "Iran"
(2 real changes made)

.                         replace country = "Syrian Arab Republic" if country == "Syrian Arab Repubic"
(1 real change made)

.                         replace country = "Türkiye" if country == "Turkey"
(2 real changes made)

.                         replace country = "Uzbekistan" if country == "Uzbekistan "
(1 real change made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela"
(3 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(1 real change made)

.                         replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(3 real changes made)

.                         merge m:1 country using iso
(variable country was str37, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            88
        from master                         0  (_merge==1)
        from using                         88  (_merge==2)

    Matched                               308  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(88 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           128
        from master                         0  (_merge==1)
        from using                        128  (_merge==2)

    Matched                               308  (_merge==3)
    -----------------------------------------

.                         browse if _merge != 3

.                         
.                         ** Note:  Record as "none" for UN member states that were not in the constitutional recognition database
.                                 tab legrectype

             constitutional_recognition |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
   Directive principles of state policy |         28        9.09        9.09
Explicit protection of the right to ade |         29        9.42       18.51
Implicit protection of the right to ade |         16        5.19       23.70
National status of international obliga |        112       36.36       60.06
Other pertinent provisions for the real |        123       39.94      100.00
----------------------------------------+-----------------------------------
                                  Total |        308      100.00

.                                 tab legrectype, nolabel

constitutio |
nal_recogni |
       tion |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         28        9.09        9.09
          2 |         29        9.42       18.51
          3 |         16        5.19       23.70
          4 |        112       36.36       60.06
          5 |        123       39.94      100.00
------------+-----------------------------------
      Total |        308      100.00

.                                 describe legrectype

Variable      Storage   Display    Value
    name         type    format    label      Variable label
----------------------------------------------------------------------------------------------------------------------------------------------------------------
legrectype      long    %76.0g     legrectype
                                              constitutional_recognition

.                                 lab def legrectype 0 "None", modify

.                                 replace legrectype = 0 if _merge==2 & UNmemberstate == 1
(33 real changes made)

.                                 drop if _merge == 2 & UNmemberstate == 0
(81 observations deleted)

.                                 drop _merge

.                                 order ISO country legrectype wb_region incgrp

.                                 drop legal_recognition

.                                 lab var legrectype "Type of recognition of the right to food"

. 
.                 // Aggregate into explicit and directive, other, none
.                         gen righttofood = 1 if inlist(legrectype, 1, 2)
(298 missing values generated)

.                         replace righttofood = 2 if inlist(legrectype, 3, 4, 5)
(251 real changes made)

.                         replace righttofood = 3 if legrectype == 0
(33 real changes made)

.                         lab def rtf 1 "Explicit protection or directive principle of state policy" 2 "Other implicit or national codification of international
>  obligations or relevant provisions" 3 "None"

.                         lab val righttofood rtf

.                         lab var righttofood "Degree of legal recognition of the Right to Food"

.                         order righttofood, after(country)

. 
.                 // Collapse to country level, keeping max level of recognition (e.g., explicit > implicit > none) 
.                         drop legrectype

.                         duplicates tag ISO righttofood, gen(dup)

Duplicates in terms of ISO righttofood

.                         tab dup

        dup |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        144       40.56       40.56
          1 |        190       53.52       94.08
          2 |         21        5.92      100.00
------------+-----------------------------------
      Total |        355      100.00

.                         
.                         // Create a variable to identify countries with multiple policies
.                                 preserve

.                                         collapse (max) dup, by(ISO)

.                                                 gen multiple_policies=0

.                                                 replace multiple_policies = 1 if dup!=0
(96 real changes made)

.                                                 keep ISO multiple_policies

.                                                 tempfile mp

.                                                 save `mp', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000j.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000j.tmp saved as .dta format

.                                 restore

.                                 merge m:1 ISO using `mp'

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                               355  (_merge==3)
    -----------------------------------------

.                                 drop _merge

. 
.                                 // Save labels
.                                 foreach v of var * {
  2.                                 local l`v' : variable label `v'
  3.                                         if `"`l`v''"' == "" {
  4.                                         local l`v' "`v'"
  5.                                         }
  6.                                 }

.                                 collapse (min) righttofood (first) country wb_region incgrp multiple_policies UNmemberstate ISO_governing m49_code UN_continen
> tal_region UN_subregion UN_intermediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code, by(ISO)

.                                 // Relabel
.                                         foreach v of var * {
  2.                                         label var `v' "`l`v''"
  3.                                                 }

.                 gen year = 2021 // last update of the website was April 2021

.                 
.                                 // Territories
.                                         sort country ISO year

.                                         browse if UNmemberstate == 0

.                                         tab ISO_governing if UNmemberstate == 0
no observations

.                                         tab country if UNmemberstate == 0
no observations

.                                         * 59 areas and territories
.                 // Save
.                         save righttofood, replace
file righttofood.dta saved

.                         export delimited using righttofood, replace
file righttofood.csv saved

. 
. **# Presence of a national food systems transformation pathway (FAO)
.                 import delimited using "$datain\FSPathways_data", varnames(1) bindquote(strict) clear
(encoding automatically selected: UTF-8)
(5 vars, 21,104 obs)

.                 ren theme fstrans_theme

.                 ren meanofimplementation fstrans_means

.                 ren priorityinpathway fstrans_priority

.                 ren measureinpathway fstrans_measure

.                 gen fspathway = 1

. 
.                 // Merge in country classification
.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(87 real changes made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           139
        from master                         0  (_merge==1)
        from using                        139  (_merge==2)

    Matched                            21,104  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(139 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           179
        from master                         0  (_merge==1)
        from using                        179  (_merge==2)

    Matched                            21,104  (_merge==3)
    -----------------------------------------

.                         browse if _merge != 3

.                         drop if _merge == 2 & UNmemberstate == 0 
(81 observations deleted)

.                         drop _merge 

.                         replace fspathway = 0 if fspathway == .
(98 real changes made)

.                         lab var fspathway "Presence of a national food systems transformation pathway"

.                         gen year = 2022

. 
.                 // Encode the detailed classifications
.                         encode fstrans_theme, gen(fstrans_theme2)

.                         encode fstrans_means, gen(fstrans_means2)

.                         drop fstrans_theme fstrans_means

.                         ren *2 *

.                 
.                 // Record categories for theme and means of implementation
.                         tab fstrans_theme

                                  Theme |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                  Achieving Zero Hunger |        947        4.49        4.49
                       Agrobiodiversity |        109        0.52        5.00
                            Agroecology |        242        1.15        6.15
                   Aquatic / Blue Foods |        492        2.33        8.48
                            Better Data |        542        2.57       11.05
Climate and disasters Resilient Develop |        738        3.50       14.55
Decent Work and Living Incomes and Wage |        355        1.68       16.23
        Different Forms of Malnutrition |        231        1.09       17.32
                                Digital |        231        1.09       18.42
                  Equitable Livelihoods |         28        0.13       18.55
                         Family Farming |        307        1.45       20.01
                 Finance and Investment |        706        3.35       23.35
                    Food Loss and Waste |        497        2.36       25.71
       Food Systems for Women and Girls |        539        2.55       28.26
                Food quality and safety |        567        2.69       30.95
Governance for sustainable food systems |        259        1.23       32.17
Halting Deforestation & Conversion from |         82        0.39       32.56
Healthy Diets from Sustainable Food Sys |        635        3.01       35.57
              Human Resource Capacities |      1,207        5.72       41.29
                           Human Rights |         78        0.37       41.66
        Indigenous Peoples Food Systems |        179        0.85       42.51
                         Infrastructure |        362        1.72       44.22
               Innovation and Knowledge |      2,216       10.50       54.72
                                   Land |        216        1.02       55.75
             Nature-Positive Innovation |        375        1.78       57.52
                           Partnerships |        607        2.88       60.40
                  Policy and Regulation |      2,892       13.70       74.10
                     Public information |        646        3.06       77.17
            Resilience to Health Crises |        225        1.07       78.23
Resilience to Stress and Vulnerabilitie |         10        0.05       78.28
Resilience to shocks and violent confli |        129        0.61       78.89
           Resilient Food Supply Chains |        662        3.14       82.03
Restoring grasslands and shrublands and |         53        0.25       82.28
School Meals: Nutrition and Health and  |        187        0.89       83.16
Social Protection for Food Systems Tran |        144        0.68       83.85
                            Soil Health |        139        0.66       84.51
                Sustainable Consumption |        620        2.94       87.44
                  Sustainable Livestock |        237        1.12       88.57
        Sustainable Productivity Growth |        768        3.64       92.21
                 The True Value of Food |         46        0.22       92.42
                                  Trade |        557        2.64       95.06
                     Urban Food Systems |         26        0.12       95.19
        Vulnerable Peoples Food Systems |        259        1.23       96.41
                                  Water |        406        1.92       98.34
                     Youth Food Systems |        351        1.66      100.00
----------------------------------------+-----------------------------------
                                  Total |     21,104      100.00

.                         tab fstrans_means

                 Mean of Implementation |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                            Better Data |        961        4.55        4.55
                                Digital |        336        1.59        6.15
                 Finance and Investment |      1,323        6.27       12.41
Governance for sustainable food systems |        269        1.27       13.69
              Human Resource Capacities |      2,008        9.51       23.20
                           Human Rights |        135        0.64       23.84
                         Infrastructure |        675        3.20       27.04
               Innovation and Knowledge |      3,361       15.93       42.97
                                  Other |      3,666       17.37       60.34
                           Partnerships |        862        4.08       64.42
                  Policy and Regulation |      5,438       25.77       90.19
                     Public information |      1,100        5.21       95.40
                                  Trade |        970        4.60      100.00
----------------------------------------+-----------------------------------
                                  Total |     21,104      100.00

.                 
.                 // Save detailed dataset
.                         save fspathways_detail, replace
file fspathways_detail.dta saved

.                         export delimited using fspathways_detail, replace
file fspathways_detail.csv saved

.                 
.                 // Collapse to one data point per country for binary indicator to merge into master datasets
.                         // Save labels
.                         foreach v of var * {
  2.                         local l`v' : variable label `v'
  3.                                 if `"`l`v''"' == "" {
  4.                                 local l`v' "`v'"
  5.                                 }
  6.                         }

.                         collapse (first) fspathway country wb_region incgrp year ISO_governing UNmemberstate m49_code UN_continental_region UN_subregion UN_in
> termediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code, by(ISO)

.                         // Relabel
.                                 foreach v of var * {
  2.                                 label var `v' "`l`v''"
  3.                                         }

.                 // Save
.                         save fspathways, replace
file fspathways.dta saved

.                         export delimited using fspathways, replace
file fspathways.csv saved

. 
. ** EFFECTIVE IMPLEMENTATION ****************************************************
. 
. **# Government effectiveness index (World Governance Indicators)
.         * NOTE: Estimate of governance (ranges from approximately -2.5 (weak) to 2.5 (strong) governance performance)
.                 import excel using "$datain\wgidataset.xlsx", sheet("GovernmentEffectiveness") cellrange(A14) firstrow clear 
(134 vars, 215 obs)

.                 ren A country

.                 ren B ISO

.                 ren C ge1996

.                 ren D ge_se1996

.                 ren E ge_score1996

.                 ren F ge_rank1996

.                 ren G ge_lower1996

.                 ren H ge_upper1996

.                 ren I ge1998

.                 ren J ge_se1998

.                 ren K ge_score1998

.                 ren L ge_rank1998

.                 ren M ge_lower1998

.                 ren N ge_upper1998

.                 ren O ge2000

.                 ren P ge_se2000

.                 ren Q ge_score2000

.                 ren R ge_rank2000

.                 ren S ge_lower2000

.                 ren T ge_upper2000

.                 ren U ge2002

.                 ren V ge_se2002

.                 ren W ge_score2002

.                 ren X ge_rank2002

.                 ren Y ge_lower2002

.                 ren Z ge_upper2002

.                 ren AA ge2003

.                 ren AB ge_se2003

.                 ren AC ge_score2003

.                 ren AD ge_rank2003

.                 ren AE ge_lower2003

.                 ren AF ge_upper2003

.                 ren AG ge2004

.                 ren AH ge_se2004

.                 ren AI ge_score2004

.                 ren AJ ge_rank2004

.                 ren AK ge_lower2004

.                 ren AL ge_upper2004

.                 ren AM ge2005

.                 ren AN ge_se2005

.                 ren AO ge_score2005

.                 ren AP ge_rank2005

.                 ren AQ ge_lower2005

.                 ren AR ge_upper2005

.                 ren AS ge2006

.                 ren AT ge_se2006

.                 ren AU ge_score2006

.                 ren AV ge_rank2006

.                 ren AW ge_lower2006

.                 ren AX ge_upper2006

.                 ren AY ge2007

.                 ren AZ ge_se2007

.                 ren BA ge_score2007

.                 ren BB ge_rank2007

.                 ren BC ge_lower2007

.                 ren BD ge_upper2007

.                 ren BE ge2008

.                 ren BF ge_se2008

.                 ren BG ge_score2008

.                 ren BH ge_rank2008

.                 ren BI ge_lower2008

.                 ren BJ ge_upper2008

.                 ren BK ge2009

.                 ren BL ge_se2009

.                 ren BM ge_score2009

.                 ren BN ge_rank2009

.                 ren BO ge_lower2009

.                 ren BP ge_upper2009

.                 ren BQ ge2010

.                 ren BR ge_se2010

.                 ren BS ge_score2010

.                 ren BT ge_rank2010

.                 ren BU ge_lower2010

.                 ren BV ge_upper2010

.                 ren BW ge2011

.                 ren BX ge_se2011

.                 ren BY ge_score2011

.                 ren BZ ge_rank2011

.                 ren CA ge_lower2011

.                 ren CB ge_upper2011

.                 ren CC ge2012

.                 ren CD ge_se2012

.                 ren CE ge_score2012

.                 ren CF ge_rank2012

.                 ren CG ge_lower2012

.                 ren CH ge_upper2012

.                 ren CI ge2013

.                 ren CJ ge_se2013

.                 ren CK ge_score2013

.                 ren CL ge_rank2013

.                 ren CM ge_lower2013

.                 ren CN ge_upper2013

.                 ren CO ge2014

.                 ren CP ge_se2014

.                 ren CQ ge_score2014

.                 ren CR ge_rank2014

.                 ren CS ge_lower2014

.                 ren CT ge_upper2014

.                 ren CU ge2015

.                 ren CV ge_se2015

.                 ren CW ge_score2015

.                 ren CX ge_rank2015

.                 ren CY ge_lower2015

.                 ren CZ ge_upper2015

.                 ren DA ge2016

.                 ren DB ge_se2016

.                 ren DC ge_score2016

.                 ren DD ge_rank2016

.                 ren DE ge_lower2016

.                 ren DF ge_upper2016

.                 ren DG ge2017

.                 ren DH ge_se2017

.                 ren DI ge_score2017

.                 ren DJ ge_rank2017

.                 ren DK ge_lower2017

.                 ren DL ge_upper2017

.                 ren DM ge2018

.                 ren DN ge_se2018

.                 ren DO ge_score2018

.                 ren DP ge_rank2018

.                 ren DQ ge_lower2018

.                 ren DR ge_upper2018

.                 ren DS ge2019

.                 ren DT ge_se2019

.                 ren DU ge_score2019

.                 ren DV ge_rank2019

.                 ren DW ge_lower2019

.                 ren DX ge_upper2019

.                 ren DY ge2020

.                 ren DZ ge_se2020

.                 ren EA ge_score2020

.                 ren EB ge_rank2020

.                 ren EC ge_lower2020

.                 ren ED ge_upper2020

.                 drop in 1/1 // drop sub-heading row
(1 observation deleted)

.                 
.                 // Reshape
.                         reshape long ge ge_se ge_score ge_rank ge_lower ge_upper, i(ISO country) j(year)
(j = 1996 1998 2000 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              214   ->   4,708       
Number of variables                 134   ->   9           
j variable (22 values)                    ->   year
xij variables:
               ge1996 ge1998 ... ge2020   ->   ge
      ge_se1996 ge_se1998 ... ge_se2020   ->   ge_se
ge_score1996 ge_score1998 ... ge_score2020->   ge_score
ge_rank1996 ge_rank1998 ... ge_rank2020   ->   ge_rank
ge_lower1996 ge_lower1998 ... ge_lower2020->   ge_lower
ge_upper1996 ge_upper1998 ... ge_upper2020->   ge_upper
-----------------------------------------------------------------------------

.                         order ISO country ge*

.                         drop if ISO==""
(0 observations deleted)

.                         lab var ge "Government Effectiveness Index, World Governance Indicators"

.                         foreach v of varlist ge* {
  2.                         replace `v'="" if `v'=="#N/A"
  3.                         destring `v', replace
  4.                         }
(192 real changes made)
ge: all characters numeric; replaced as double
(192 missing values generated)
(192 real changes made)
ge_se: all characters numeric; replaced as double
(192 missing values generated)
(192 real changes made)
ge_score: all characters numeric; replaced as byte
(192 missing values generated)
(192 real changes made)
ge_rank: all characters numeric; replaced as double
(192 missing values generated)
(192 real changes made)
ge_lower: all characters numeric; replaced as double
(192 missing values generated)
(192 real changes made)
ge_upper: all characters numeric; replaced as double
(192 missing values generated)

.                         ren ge govteffect

.                         
.                         // Merge in country classifiers
.                                 replace ISO="AND" if country=="Andorra"
(22 real changes made)

.                                 replace ISO="COD" if ISO=="ZAR"
(22 real changes made)

.                                 replace ISO="TLS" if ISO=="TMP"
(22 real changes made)

.                                 replace ISO="ROU" if ISO=="ROM"
(22 real changes made)

.                                 replace country = "Bahamas" if country == "Bahamas, The"
(22 real changes made)

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
variable country was str30 now str32
(22 real changes made)

.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(22 real changes made)

.                                 replace country = "Democratic Republic of the Congo" if country == "Congo, Dem. Rep."
(22 real changes made)

.                                 replace country = "Congo" if country == "Congo, Rep."
(22 real changes made)

.                                 replace country = "Cabo Verde" if country == "Cape Verde"
(22 real changes made)

.                                 replace country = "Czechia" if country == "Czech Republic"
(22 real changes made)

.                                 replace country = "Egypt" if country == "Egypt, Arab Rep."
(22 real changes made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia, Fed. Sts."
(22 real changes made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom"
variable country was str32 now str52
(22 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia, The"
(22 real changes made)

.                                 replace country = "Hong Kong" if country == "Hong Kong SAR, China"
(22 real changes made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Rep."
(22 real changes made)

.                                 replace country = "Jersey" if country == "Jersey, Channel Islands"
(22 real changes made)

.                                 replace country = "Kyrgyzstan" if country == "Kyrgyz Republic"
(22 real changes made)

.                                 replace country = "Saint Kitts and Nevis" if country == "St. Kitts and Nevis"
(22 real changes made)

.                                 replace country = "Republic of Korea" if country == "Korea, Rep."
(22 real changes made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Lao PDR"
(22 real changes made)

.                                 replace country = "Saint Lucia" if country == "St. Lucia"
(22 real changes made)

.                                 replace country = "Macao" if country == "Macao SAR, China"
(22 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova"
(22 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Korea, Dem. Rep."
(22 real changes made)

.                                 replace country = "Reunion" if country == "Réunion"
(22 real changes made)

.                                 replace country = "Sao Tome and Principe" if country == "São Tomé and Principe"
(22 real changes made)

.                                 replace country = "Slovakia" if country == "Slovak Republic"
(22 real changes made)

.                                 replace country = "Türkiye" if country == "Turkey"
(22 real changes made)

.                                 replace country = "Taiwan" if country == "Taiwan, China"
(22 real changes made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania"
(22 real changes made)

.                                 replace country = "United States of America" if country == "United States"
(22 real changes made)

.                                 replace country = "Saint Vincent and the Grenadines" if country == "St. Vincent and the Grenadines"
(22 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela, RB"
(22 real changes made)

.                                 replace country = "United States Virgin Islands" if country == "Virgin Islands (U.S.)"
(22 real changes made)

.                                 replace country = "Viet Nam" if country == "Vietnam"
(22 real changes made)

.                                 replace country = "Yemen" if country == "Yemen, Rep."
(22 real changes made)

.                                 replace country = "Palestine, State of" if country == "West Bank and Gaza"
(22 real changes made)

.                                 replace ISO = "PSE" if country == "Palestine, State of"
(22 real changes made)

.                                 replace country = "Macau" if country == "Macao" 
(22 real changes made)

.                                 merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str4, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           121
        from master                        44  (_merge==1)
        from using                         77  (_merge==2)

    Matched                             4,664  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3 

.                                 drop if _merge!=3
(121 observations deleted)

.                                 drop _merge

.                         
.                         // Further clean 
.                                 drop ge_score ge_rank

.                                 lab var ge_se "Government Effectiveness Index, std. error"

.                                 ren ge_lower ge_LCI

.                                 ren ge_upper ge_UCI

.                                 lab var ge_LCI "Government Effectiveness Index, 90% confidence interval lower bound"

.                                 lab var ge_UCI "Government Effectiveness Index, 90% confidence interval upper bound"

.                                 
.                 // Save
.                         save goveffectiveness, replace
file goveffectiveness.dta saved

.                         export delimited using goveffectiveness, replace
file goveffectiveness.csv saved

. 
. **# International Health Regulations State Party Assessment report (IHR SPAR), Food safety capacity (WHO Global Health Observatory)
.                 import delimited using "$datain\WHO-GHO_FoodSafety_2018-2020.csv", clear
(encoding automatically selected: UTF-8)
(34 vars, 529 obs)

.                 keep indicatorcode indicator valuetype parentlocationcode parentlocation locationtype spatialdimvaluecode location datasource value period

.                 ren value foodsafety

.                 lab var foodsafety "Food Safety Capacity Score"

.                 ren period year

.                 ren spatialdimvaluecode ISO

.                 ren location country

.                 drop indicatorcode indicator valuetype parentlocationcode parentlocation locationtype datasource

.                         
.                 // Merge in country classification
.                         replace country = "Côte D'Ivoire" if ISO == "CIV"
(3 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(3 real changes made)

.                         replace country = "North Macedonia" if country == "The former Yugoslav Republic of Macedonia"
(3 real changes made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(3 real changes made)

.                         replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(3 real changes made)

.                         merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            96
        from master                         0  (_merge==1)
        from using                         96  (_merge==2)

    Matched                               529  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3 

.                         drop if _merge!=3
(96 observations deleted)

.                         drop _merge

.                         
.                 // Save all years
.                         save foodsafety, replace
file foodsafety.dta saved

.                         export delimited using foodsafety, replace
file foodsafety.csv saved

.                         
.                         // Save 2020
.                         unique country
Number of unique values of country is  193
Number of records is  529

.                         distinct country if year==2020

         |        Observations
         |      total   distinct
---------+----------------------
 country |        172        172

.                         reshape wide foodsafety, i(ISO country wb_region incgrp) j(year)
(j = 2018 2019 2020)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations              529   ->   193         
Number of variables                  19   ->   20          
j variable (3 values)              year   ->   (dropped)
xij variables:
                             foodsafety   ->   foodsafety2018 foodsafety2019 foodsafety2020
-----------------------------------------------------------------------------

.                         gen foodsafety_latestyear = foodsafety2020 if foodsafety2020 != .
(21 missing values generated)

.                                 replace foodsafety_latestyear = foodsafety2019 if foodsafety2020 == .
(15 real changes made)

.                                 replace foodsafety_latestyear = foodsafety2018 if foodsafety_latestyear == .
(6 real changes made)

.                                 * NOTE: latest year is 2020 for most countries, for 21 countries data come from 2019 (N=15) or 2018 (N=6)
.                 
.                 // Save         
.                         save foodsafety_latestyear, replace
file foodsafety_latestyear.dta saved

.                         export delimited using foodsafety_latestyear, replace
file foodsafety_latestyear.csv saved

.                 
. **# Presence of health-related food taxes (World Cancer Research Fund International NOURISHING)
.                 import delimited using "$datain\policy-export06-Jul-2022.csv", varnames(1) colrange(1:6) bindquote(strict) maxquotedrows(50) stringcols(_all) 
> clear // Note the data are not machine readable and users may encounter challenges importing this raw file. Any country in this dataset has at least one healt
> h-related food tax within its borders, though some are only at subnational level (USA, Norway). Information on the policy design is contained under subpolicya
> rea and policyaction, but contains extensive text
(encoding automatically selected: UTF-8)
(6 vars, 53 obs)

.                 gen healthtax_any = 1

.                 lab var healthtax_any "Presence of any health-related food taxes at national or sub-national level"

.                 drop type policyarea subpolicyarea // type and policyarea have no variation, subpolicy area identifies this indicator of interest ("health-rel
> ated food taxes") 

.                 // policy action variable contains extensive text, if interested in specific policy attributes, it is advised to read this content online as t
> he download overwrite much of the text with other characters. 
.                 sort country

.                 egen order = seq()

.                 gen national = 1

.                 replace national = 0 if order == 36 // Catalonia has additional law beyond national laws in Spain
(1 real change made)

.                 replace national = 0 if country == "USA"
(9 real changes made)

.                 drop order

.                 lab var national "Policy is applied at national level (1=yes)"

.                 lab def yesno 0 "No" 1 "Yes"

.                 lab val national yesno

.                         
.                         // Save full information dataset
.                                 save healthtax_details, replace
file healthtax_details.dta saved

.                                 export delimited using healthtax_details, replace
file healthtax_details.csv saved

. 
.                 // Distinguish between national and subnational taxes
.                 gen healthtax = 1 if national == 1
(10 missing values generated)

.                         replace healthtax = 0 if national == 0
(10 real changes made)

.                 gen healthtax_subnational = 1 if national == 0
(43 missing values generated)

.                         replace healthtax_subnational = 1 if national == 0
(0 real changes made)

.                 drop national healthtax_any

.                         
.                         // Save labels
.                                 foreach v of var * {
  2.                                 local l`v' : variable label `v'
  3.                                         if `"`l`v''"' == "" {
  4.                                         local l`v' "`v'"
  5.                                         }
  6.                                 }

.                         
.                         // Collapse to country level
.                                 collapse (first) healthtax healthtax_subnational, by(country)

.                         
.                         // Relabel
.                                 foreach v of var * {
  2.                                 label var `v' "`l`v''"
  3.                                         }

. 
.                         // Merge in ISO, regions, and income groups
.                                 replace country = "Brunei Darussalam" if country == "Brunei"
(1 real change made)

.                                 replace country = "Saint Vincent and the Grenadines" if country == "St Vincent and the Grenadines"
variable country was str29 now str32
(1 real change made)

.                                 replace country = "United Arab Emirates" if country == "UAE"
(1 real change made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "UK"
variable country was str32 now str52
(1 real change made)

.                                 replace country = "United States of America" if country == "USA"
(1 real change made)

.                                 replace country = "Saint Helena" if country == "St Helena"
(1 real change made)

.                                 merge 1:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           206
        from master                         0  (_merge==1)
        from using                        206  (_merge==2)

    Matched                                43  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(206 observations deleted)

.                                 drop _merge

.                                 merge 1:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           246
        from master                         0  (_merge==1)
        from using                        246  (_merge==2)

    Matched                                43  (_merge==3)
    -----------------------------------------

.                                 browse if _merge != 3

.                                 replace healthtax = 0 if _merge == 2 & UNmemberstate == 1
(155 real changes made)

.                                 replace healthtax_subnational = 0 if _merge == 2 & UNmemberstate == 1
(155 real changes made)

.                                 drop if _merge != 3 & UNmemberstate == 0
(77 observations deleted)

.                                 drop _merge

.                                 
.                         // Further clean
.                                 gen year = 2021 // last documented update of the NOURISHING database, which is continually updated and was accessed in July 20
> 22

.                                 order ISO country wb_region incgrp year healthtax

.                                 replace healthtax_subnational = 0 if healthtax == 1 // National level indicator is hierarchical to subnational - subnational o
> nly recorded where national does not exist
(42 real changes made)

.                                 lab var healthtax "Presence of any health-related food taxes at the national level"

.                                 lab var healthtax_subnational "Presence of any health-related food taxes but only at sub-national level"

.                 
.                         // Save 
.                                 save healthtax, replace
file healthtax.dta saved

.                                 export delimited using healthtax, replace
file healthtax.csv saved

. 
.         
. ** ACCOUNTABILITY **************************************************************
. 
. **# V-Dem Accountability index (Varieties of Democracy)
.         use V-Dem_all, clear

.                 
.                 // Keep accountability index indicators only
.                 keep ISO country year wb_region incgrp v2x_accountability v2x_accountability_codelow v2x_accountability_codehigh ISO_governing UNmemberstate m
> 49_code UN_continental_region UN_subregion UN_intermediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code

.                 ren (v2x_*) (*)

.                 ren accountability_codelow accountability_lower 

.                 ren accountability_codehigh accountability_upper

.                 lab var accountability "Accountability index"

.                 lab var accountability_lower "Accountability index, lower bound of 68% probability distribution (~1 standard deviation below mean point estima
> te)"
note: label truncated to 80 characters

.                 lab var accountability_upper "Accountability index, upper bound of 68% probability distribution (~1 standard deviation above mean point estima
> te)"
note: label truncated to 80 characters

.                 
.                 // Save
.                         save VDem_Accountability, replace
file VDem_Accountability.dta saved

.                         export delimited using VDem_Accountability, replace
file VDem_Accountability.csv saved

. 
. **# Budget transparency score (Open Budget Initiative)
.                 import delimited using "$datain\ibp_data_summary_2006-2012.csv", clear
(encoding automatically selected: ISO-8859-1)
(4 vars, 338 obs)

.                         tempfile series

.                         save `series', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000k.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000k.tmp saved as .dta format

.                 import delimited using "$datain\ibp_data_summary_2015.csv", clear
(encoding automatically selected: ISO-8859-9)
(4 vars, 102 obs)

.                         tempfile y2015

.                         save `y2015', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000l.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000l.tmp saved as .dta format

.                 import delimited using "$datain\ibp_data_summary_2017.csv", clear
(encoding automatically selected: ISO-8859-1)
(4 vars, 115 obs)

.                         tempfile y2017

.                         save `y2017', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000m.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000m.tmp saved as .dta format

.                 import delimited using "$datain\ibp_data_summary_2019.csv", clear
(encoding automatically selected: ISO-8859-1)
(4 vars, 117 obs)

.                         tempfile y2019

.                         save `y2019', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000n.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000n.tmp saved as .dta format

.                 import delimited using "$datain\ibp_data_summary_2021.csv", clear
(encoding automatically selected: ISO-8859-9)
(4 vars, 120 obs)

.                         tempfile y2021

.                         save `y2021', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000o.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000o.tmp saved as .dta format

.                 use `series', clear

.                 append using `y2015'
(variable rank was byte, now int to accommodate using data's values)

.                 append using `y2017'

.                 append using `y2019'

.                 append using `y2021'

.                 drop rank

.                 lab var open_budget_index "Open Budget Index Score"

. 
.                         ** NOTE: 2-digit country codes need to me matched to 3-digit ISO codes
.                         preserve

.                                 import delimited using "$datain\countries-codes", clear
(encoding automatically selected: UTF-8)
(11 vars, 247 obs)

.                                 ren iso2code ISO2

.                                 ren iso3code ISO3

.                                 keep ISO2 ISO3

.                                 save iso-2_crosswalk, replace
file iso-2_crosswalk.dta saved

.                         restore

.                                 ren country ISO2

.                                 merge m:1 ISO2 using iso-2_crosswalk, keepusing(ISO3)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           127
        from master                         0  (_merge==1)
        from using                        127  (_merge==2)

    Matched                               792  (_merge==3)
    -----------------------------------------

.                                 drop if _merge != 3
(127 observations deleted)

.                                 drop _merge

.                                 ren ISO3 ISO

.                                 drop ISO2

.                         
.                         // Merge in country classifications
.                                 browse if ISO == ""

.                                 tab ISO

  ISO3 CODE |      Freq.     Percent        Cum.
------------+-----------------------------------
        AFG |          7        0.88        0.88
        AGO |          8        1.01        1.89
        ALB |          8        1.01        2.90
        ARG |          8        1.01        3.91
        ARM |          1        0.13        4.04
        AUS |          3        0.38        4.42
        AZE |          8        1.01        5.43
        BDI |          3        0.38        5.81
        BEN |          5        0.63        6.44
        BFA |          8        1.01        7.45
        BGD |          8        1.01        8.46
        BGR |          8        1.01        9.47
        BIH |          7        0.88       10.35
        BOL |          8        1.01       11.36
        BRA |          8        1.01       12.37
        BWA |          8        1.01       13.38
        CAN |          3        0.38       13.76
        CHL |          6        0.76       14.52
        CHN |          7        0.88       15.40
        CIV |          3        0.38       15.78
        CMR |          8        1.01       16.79
        COD |          7        0.88       17.68
        COL |          8        1.01       18.69
        COM |          3        0.38       19.07
        CRI |          8        1.01       20.08
        CZE |          8        1.01       21.09
        DEU |          7        0.88       21.97
        DOM |          7        0.88       22.85
        DZA |          8        1.01       23.86
        ECU |          8        1.01       24.87
        EGY |          8        1.01       25.88
        ESP |          6        0.76       26.64
        ETH |          1        0.13       26.77
        FJI |          7        0.88       27.65
        FRA |          8        1.01       28.66
        GBR |          8        1.01       29.67
        GEO |          8        1.01       30.68
        GHA |          8        1.01       31.69
        GMB |          2        0.25       31.94
        GNQ |          7        0.88       32.83
        GTM |          8        1.01       33.84
        HND |          8        1.01       34.85
        HRV |          8        1.01       35.86
        HUN |          4        0.51       36.36
        IDN |          8        1.01       37.37
        IND |          8        1.01       38.38
        IRQ |          6        0.76       39.14
        ITA |          6        0.76       39.90
        JAM |          2        0.25       40.15
        JOR |          8        1.01       41.16
        JPN |          3        0.38       41.54
        KAZ |          8        1.01       42.55
        KEN |          8        1.01       43.56
        KGZ |          7        0.88       44.44
        KHM |          7        0.88       45.33
        KOR |          8        1.01       46.34
        LBN |          7        0.88       47.22
        LBR |          7        0.88       48.11
        LKA |          8        1.01       49.12
        LSO |          3        0.38       49.49
        MAR |          8        1.01       50.51
        MDA |          3        0.38       50.88
        MDG |          3        0.38       51.26
        MEX |          8        1.01       52.27
        MKD |          7        0.88       53.16
        MLI |          6        0.76       53.91
        MMR |          5        0.63       54.55
        MNG |          8        1.01       55.56
        MOZ |          6        0.76       56.31
        MWI |          8        1.01       57.32
        MYS |          7        0.88       58.21
        NAM |          8        1.01       59.22
        NER |          7        0.88       60.10
        NGA |          8        1.01       61.11
        NIC |          8        1.01       62.12
        NOR |          8        1.01       63.13
        NPL |          8        1.01       64.14
        NZL |          8        1.01       65.15
        PAK |          8        1.01       66.16
        PER |          8        1.01       67.17
        PHL |          8        1.01       68.18
        PNG |          8        1.01       69.19
        POL |          8        1.01       70.20
        PRT |          6        0.76       70.96
        PRY |          3        0.38       71.34
        QAT |          5        0.63       71.97
        ROU |          8        1.01       72.98
        RUS |          8        1.01       73.99
        RWA |          7        0.88       74.87
        SAU |          7        0.88       75.76
        SDN |          6        0.76       76.52
        SEN |          7        0.88       77.40
        SLE |          5        0.63       78.03
        SLV |          8        1.01       79.04
        SOM |          3        0.38       79.42
        SRB |          7        0.88       80.30
        SSD |          3        0.38       80.68
        STP |          7        0.88       81.57
        SVK |          6        0.76       82.32
        SVN |          8        1.01       83.33
        SWE |          8        1.01       84.34
        SWZ |          3        0.38       84.72
        TCD |          8        1.01       85.73
        TGO |          1        0.13       85.86
        THA |          7        0.88       86.74
        TJK |          5        0.63       87.37
        TLS |          6        0.76       88.13
        TTO |          7        0.88       89.02
        TUN |          5        0.63       89.65
        TUR |          8        1.01       90.66
        TZA |          8        1.01       91.67
        UGA |          8        1.01       92.68
        UKR |          7        0.88       93.56
        USA |          8        1.01       94.57
        VEN |          7        0.88       95.45
        VNM |          8        1.01       96.46
        YEM |          7        0.88       97.35
        ZAF |          8        1.01       98.36
        ZMB |          8        1.01       99.37
        ZWE |          5        0.63      100.00
------------+-----------------------------------
      Total |        792      100.00

.                                 preserve 

.                                         use countryclassification, clear

.                                         drop if ISO == ""
(34 observations deleted)

.                                         drop if inlist(country,"West Bank", "Gaza Strip")
(2 observations deleted)

.                                         drop if ISO == "IOT" // British Indian Ocean Territory and Chagos Archipelago
(2 observations deleted)

.                                         tempfile class

.                                                 save `class', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000r.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000r.tmp saved as .dta format

.                                 restore

.                                         merge m:1 ISO using `class'
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           131
        from master                         0  (_merge==1)
        from using                        131  (_merge==2)

    Matched                               792  (_merge==3)
    -----------------------------------------

.                                         drop if _merge != 3
(131 observations deleted)

.                                         drop _merge

.                                         lab var year ""

. * Value for China is mainland only
.                                 
.                 // Save
.                         save OBI, replace
file OBI.dta saved

.                         export delimited using OBI, replace
file OBI.csv saved

. 
. **# Guarantees for public access to information
.                 import excel using "$datain\SG_INF_ACCSS.xlsx", firstrow clear
(52 vars, 135 obs)

.                         ren GeoAreaName country

.                         ren J yearofadoption

.                         lab var yearofadoption "Year of adoption"

.                         drop SeriesCode GeoAreaCode ReportingType Units K-AZ

.                         ren SeriesDescription accessinfo

.                         lab var accessinfo "Country has adopted and implemented constitutional, statutory and/or policy guarantees for public access to inform
> ation"
note: label truncated to 80 characters

.                         replace accessinfo = "1"
(135 real changes made)

.                         destring accessinfo, replace
accessinfo: all characters numeric; replaced as byte

.                         
.                         // Merge in country classification
.                                 replace country = "Türkiye" if country == "Turkey"
(1 real change made)

.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(1 real change made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(1 real change made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(1 real change made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           114
        from master                         0  (_merge==1)
        from using                        114  (_merge==2)

    Matched                               135  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(114 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           154
        from master                         0  (_merge==1)
        from using                        154  (_merge==2)

    Matched                               135  (_merge==3)
    -----------------------------------------

.                         replace accessinfo = 0 if accessinfo ==. & _merge == 2 & UNmemberstate == 1
(60 real changes made)

.                                 drop if _merge == 2 & UNmemberstate == 0
(80 observations deleted)

.                                 drop _merge Goal Target Indicator

.                                 order ISO country accessinfo yearofadoption 

.                                 gen year = 2021 // policy picture as of 2021 (last year of adoption recorded)

.                         
.                 // Save
.                         save AccessInfo, replace
file AccessInfo.dta saved

.                         export delimited using AccessInfo, replace
file AccessInfo.csv saved

. 
. // RESILIENCE & SUSTAINABILITY /////////////////////////////////////////////////
. 
. ** EXPOSURE TO SHOCKS **********************************************************
. 
. **# Total damages by GDP of all disasters (2021 $US) (EM-DAT)
.                 
.                 // Numerator: Total damages (2021 $US)
.                 import excel using "$datain\emdat_public_2022_10_09.xlsx", cellrange(A7:AX24426) firstrow clear // Take care to import the correct cell range 
> to include all data, may vary by download of raw data 
(50 vars, 24,419 obs)

.                         destring, replace
DisNo: contains nonnumeric characters; no replace
Year: all characters numeric; replaced as int
Seq: all characters numeric; replaced as int
Glide: contains nonnumeric characters; no replace
DisasterGroup: contains nonnumeric characters; no replace
DisasterSubgroup: contains nonnumeric characters; no replace
DisasterType: contains nonnumeric characters; no replace
DisasterSubtype: contains nonnumeric characters; no replace
DisasterSubsubtype: contains nonnumeric characters; no replace
EventName: contains nonnumeric characters; no replace
Country: contains nonnumeric characters; no replace
ISO: contains nonnumeric characters; no replace
Region: contains nonnumeric characters; no replace
Continent: contains nonnumeric characters; no replace
Location: contains nonnumeric characters; no replace
Origin: contains nonnumeric characters; no replace
AssociatedDis: contains nonnumeric characters; no replace
AssociatedDis2: contains nonnumeric characters; no replace
OFDAResponse: contains nonnumeric characters; no replace
Appeal: contains nonnumeric characters; no replace
Declaration: contains nonnumeric characters; no replace
AIDContribution000US already numeric; no replace
DisMagValue already numeric; no replace
DisMagScale: contains nonnumeric characters; no replace
Latitude: contains nonnumeric characters; no replace
Longitude: contains nonnumeric characters; no replace
LocalTime: contains nonnumeric characters; no replace
RiverBasin: contains nonnumeric characters; no replace
StartYear already numeric; no replace
StartMonth already numeric; no replace
StartDay already numeric; no replace
EndYear already numeric; no replace
EndMonth already numeric; no replace
EndDay already numeric; no replace
TotalDeaths already numeric; no replace
NoInjured already numeric; no replace
NoAffected already numeric; no replace
NoHomeless already numeric; no replace
TotalAffected already numeric; no replace
ReconstructionCosts000US already numeric; no replace
ReconstructionCostsAdjusted already numeric; no replace
InsuredDamages000US already numeric; no replace
InsuredDamagesAdjusted000 already numeric; no replace
TotalDamages000US already numeric; no replace
TotalDamagesAdjusted000US already numeric; no replace
CPI already numeric; no replace
AdmLevel: contains nonnumeric characters; no replace
Admin1Code: contains nonnumeric characters; no replace
Admin2Code: contains nonnumeric characters; no replace
GeoLocations: contains nonnumeric characters; no replace

.                         describe OFDAResponse Appeal Declaration AIDContribution000US DisMagValue DisMagScale 

Variable      Storage   Display    Value
    name         type    format    label      Variable label
----------------------------------------------------------------------------------------------------------------------------------------------------------------
OFDAResponse    str3    %9s                   OFDA Response
Appeal          str3    %9s                   Appeal
Declaration     str3    %9s                   Declaration
AIDContributi~S long    %10.0g                AID Contribution ('000 US$)
DisMagValue     long    %10.0g                Dis Mag Value
DisMagScale     str10   %10s                  Dis Mag Scale

.                         foreach v in OFDAResponse Appeal Declaration DisMagScale  {
  2.                                 tab `v'
  3.                         }

       OFDA |
   Response |      Freq.     Percent        Cum.
------------+-----------------------------------
        Yes |      1,852      100.00      100.00
------------+-----------------------------------
      Total |      1,852      100.00

     Appeal |      Freq.     Percent        Cum.
------------+-----------------------------------
         No |      6,036       96.50       96.50
        Yes |        219        3.50      100.00
------------+-----------------------------------
      Total |      6,255      100.00

Declaration |      Freq.     Percent        Cum.
------------+-----------------------------------
         No |      6,004       85.66       85.66
        Yes |      1,005       14.34      100.00
------------+-----------------------------------
      Total |      7,009      100.00

    Dis Mag |
      Scale |      Freq.     Percent        Cum.
------------+-----------------------------------
        Km2 |      6,796       42.74       42.74
        Kph |      4,276       26.89       69.64
    Richter |      1,255        7.89       77.53
 Vaccinated |      1,487        9.35       86.88
         m3 |      1,489        9.36       96.25
         °C |        597        3.75      100.00
------------+-----------------------------------
      Total |     15,900      100.00

.                         sum DisMagValue AIDContribution000US

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
 DisMagValue |      4,729    59467.17    666676.7        -57   4.00e+07
AIDContrib~S |        788    19798.97    167753.4          1    3518530

. 
.                         // Collapse to country-year level, summing impact variables
.                                 // Save labels
.                                 foreach v of var * {
  2.                                 local l`v' : variable label `v'
  3.                                         if `"`l`v''"' == "" {
  4.                                         local l`v' "`v'"
  5.                                         }
  6.                                 }

.                                 *** Note we are not clear if there is possibility of double counting in this summation of all disasters
.                                 collapse (sum) TotalDeaths NoInjured NoAffected NoHomeless TotalAffected  AIDContribution000US ReconstructionCosts000US Recons
> tructionCostsAdjusted InsuredDamages000US InsuredDamagesAdjusted000 TotalDamages000US TotalDamagesAdjusted000US (first) ISO, by(Country Year)

.                                 
.                                 // Relabel
.                                         foreach v of var * {
  2.                                         label var `v' "`l`v''"
  3.                                                 }

.                         
.                         // Merge in country classification
.                                 ren Country country 

.                                 ren Year year

.                                 replace ISO = "" if country == "Netherlands Antilles"
(4 real changes made)

.                                 replace country = "United Arab Emirates" if country == "United Arab Emirates (the)"
(14 real changes made)

.                                 replace ISO = "" if country == "Azores Islands"
(8 real changes made)

.                                 replace country = "Bahamas" if country == "Bahamas (the)"
(22 real changes made)

.                                 replace country = "Côte D'Ivoire" if ISO == "CIV"
(34 real changes made)

.                                 replace country = "Democratic Republic of the Congo" if country == "Congo (the Democratic Republic of the)"
(40 real changes made)

.                                 replace country = "Congo" if country == "Congo (the)"
(29 real changes made)

.                                 replace country = "Cook Islands" if country == "Cook Islands (the)"
(10 real changes made)

.                                 replace country = "Comoros" if country == "Comoros (the)"
(23 real changes made)

.                                 replace country = "Cayman Islands" if country == "Cayman Islands (the)"
(4 real changes made)

.                                 replace country = "Czechia" if country == "Czech Republic (the)"
(20 real changes made)

.                                 replace country = "Dominican Republic" if country == "Dominican Republic (the)"
(45 real changes made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom of Great Britain and No
> rthern Ireland (the)"
(52 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia (the)"
(32 real changes made)

.                                 replace country = "Republic of Korea" if country == "Korea (the Republic of)"
(58 real changes made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Lao People's Democratic Republic (the)"
(36 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova (the Republic of)"
(11 real changes made)

.                                 replace country = "Marshall Islands" if country == "Marshall Islands (the)"
(8 real changes made)

.                                 replace country = "North Macedonia" if country == "Macedonia (the former Yugoslav Republic of)"
(19 real changes made)

.                                 replace country = "Northern Mariana Islands" if country == "Northern Mariana Islands (the)"
(5 real changes made)

.                                 replace country = "Niger" if country == "Niger (the)"
(42 real changes made)

.                                 replace country = "Netherlands" if country == "Netherlands (the)"
(34 real changes made)

.                                 replace country = "Philippines" if country == "Philippines (the)"
(63 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Korea (the Democratic People's Republic of)"
(26 real changes made)

.                                 replace country = "Reunion" if country == "Réunion"
(14 real changes made)

.                                 replace country = "Russian Federation" if country == "Russian Federation (the)"
(32 real changes made)

.                                 replace country = "Sudan" if country == "Sudan (the)"
(43 real changes made)

.                                 replace country = "Turks and Caicos Islands" if country == "Turks and Caicos Islands (the)"
(8 real changes made)

.                                 replace country = "Türkiye" if country == "Turkey"
(58 real changes made)

.                                 replace country = "Taiwan" if country == "Taiwan (Province of China)"
(49 real changes made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania, United Republic of"
(49 real changes made)

.                                 replace country = "United States of America" if country == "United States of America (the)"
(63 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(43 real changes made)

.                                 replace country = "British Virgin Islands" if country == "Virgin Island (British)"
(2 real changes made)

.                                 replace country = "United States Virgin Islands" if country == "Virgin Island (U.S.)"                           
(6 real changes made)

.                                 replace country = "Macau" if country == "Macao"
(5 real changes made)

. 
.                                 merge m:1 ISO country using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           187
        from master                       118  (_merge==1)
        from using                         69  (_merge==2)

    Matched                             6,111  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3 

.                                 drop if _merge!=3 // Drops historic states and Canary Islands that do not appear in any other dataset
(187 observations deleted)

.                                 drop _merge

.                         
.                         // Save full dataset
.                                 save EM-DAT_all, replace
file EM-DAT_all.dta saved

.                                 export delimited EM-DAT_all, replace
file EM-DAT_all.csv saved

.                         
.                 // Bring in variables for denominator - GDP is selected, but also merge in alternative of land area
.                         use landarea, clear

.                         
.                         // merge in GDP
.                         merge 1:1 ISO year using GDP
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                            13,671  (_merge==3)
    -----------------------------------------

.                         drop _merge

.                         
.                         drop if year == 2022
(217 observations deleted)

.                         
.                         // Save denominator dataset
.                         save GDP_sqkm, replace
file GDP_sqkm.dta saved

.                         
.                 // Generate indicator 
.                         use EM-DAT_all, clear

.                         
.                         // Keep total damages (nominal/current US$ impact variable) and real dollars and merge in denominator
.                         keep year TotalDamages000US TotalDamagesAdjusted000US ISO wb_region incgrp country

.                         tab year

       Year |      Freq.     Percent        Cum.
------------+-----------------------------------
       1960 |         26        0.43        0.43
       1961 |         21        0.34        0.77
       1962 |         23        0.38        1.15
       1963 |         32        0.52        1.67
       1964 |         41        0.67        2.34
       1965 |         52        0.85        3.19
       1966 |         58        0.95        4.14
       1967 |         48        0.79        4.93
       1968 |         53        0.87        5.79
       1969 |         56        0.92        6.71
       1970 |         51        0.83        7.54
       1971 |         42        0.69        8.23
       1972 |         43        0.70        8.93
       1973 |         40        0.65        9.59
       1974 |         41        0.67       10.26
       1975 |         47        0.77       11.03
       1976 |         54        0.88       11.91
       1977 |         70        1.15       13.06
       1978 |         63        1.03       14.09
       1979 |         70        1.15       15.23
       1980 |         79        1.29       16.53
       1981 |         70        1.15       17.67
       1982 |         65        1.06       18.74
       1983 |         90        1.47       20.21
       1984 |         74        1.21       21.42
       1985 |         78        1.28       22.70
       1986 |         84        1.37       24.07
       1987 |        103        1.69       25.76
       1988 |         95        1.55       27.31
       1989 |        106        1.73       29.05
       1990 |        116        1.90       30.94
       1991 |        110        1.80       32.74
       1992 |        112        1.83       34.58
       1993 |        106        1.73       36.31
       1994 |        109        1.78       38.10
       1995 |        131        2.14       40.24
       1996 |        122        2.00       42.24
       1997 |        125        2.05       44.28
       1998 |        140        2.29       46.57
       1999 |        149        2.44       49.01
       2000 |        145        2.37       51.38
       2001 |        135        2.21       53.59
       2002 |        145        2.37       55.96
       2003 |        128        2.09       58.06
       2004 |        152        2.49       60.55
       2005 |        148        2.42       62.97
       2006 |        125        2.05       65.01
       2007 |        151        2.47       67.48
       2008 |        145        2.37       69.86
       2009 |        134        2.19       72.05
       2010 |        144        2.36       74.41
       2011 |        124        2.03       76.44
       2012 |        131        2.14       78.58
       2013 |        129        2.11       80.69
       2014 |        122        2.00       82.69
       2015 |        136        2.23       84.91
       2016 |        123        2.01       86.93
       2017 |        133        2.18       89.10
       2018 |        141        2.31       91.41
       2019 |        131        2.14       93.55
       2020 |        134        2.19       95.75
       2021 |        140        2.29       98.04
       2022 |        120        1.96      100.00
------------+-----------------------------------
      Total |      6,111      100.00

.                         unique ISO year
Number of unique values of ISO year is  6110
Number of records is  6111

.                         unique ISO
Number of unique values of ISO is  219
Number of records is  6111

.                         merge 1:1 ISO country year using GDP_sqkm
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         7,879
        from master                       268  (_merge==1)
        from using                      7,611  (_merge==2)

    Matched                             5,843  (_merge==3)
    -----------------------------------------

.                         tab country if _merge==1 // non-zero damages records for territories that have no GDP and land area data: American Samoa, Anguilla, Az
> ores Islands, Bermuda, British Virgin Islands, Cayman Islands, Cook Islands, French Guiana, French Polynesia, Guadeloupe, Guam, Hong Kong, Macao, Martinique, 
> Montserrat, Netherlands Antilles, New Caledonia, Niue, Northern Mariana Islands, Palestine, Puerto Rico, Reunion, Saint Helena, Ascension and Tristan,  Taiwan
> , Tokelau, Turks and Caicos Islands, United States Virgin Islands, Wallis and Futuna.

                                Country |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                            Afghanistan |          1        0.37        0.37
                                Algeria |          1        0.37        0.75
                               Anguilla |          5        1.87        2.61
                              Argentina |          1        0.37        2.99
                                Armenia |          1        0.37        3.36
                              Australia |          1        0.37        3.73
                                Austria |          1        0.37        4.10
                         Azores Islands |          8        2.99        7.09
                                Bahamas |          1        0.37        7.46
                             Bangladesh |          1        0.37        7.84
                                Belgium |          1        0.37        8.21
       Bolivia (Plurinational State of) |          1        0.37        8.58
                 Bosnia and Herzegovina |          1        0.37        8.96
                                 Brazil |          1        0.37        9.33
                           Burkina Faso |          1        0.37        9.70
                             Cabo Verde |          1        0.37       10.07
                               Cambodia |          1        0.37       10.45
                               Cameroon |          1        0.37       10.82
                                 Canada |          1        0.37       11.19
               Central African Republic |          1        0.37       11.57
                                   Chad |          1        0.37       11.94
                                  China |          1        0.37       12.31
                               Colombia |          1        0.37       12.69
                                Comoros |          1        0.37       13.06
                                  Congo |          1        0.37       13.43
                           Cook Islands |         10        3.73       17.16
                                   Cuba |          1        0.37       17.54
                                Czechia |          1        0.37       17.91
                          Côte D'Ivoire |          1        0.37       18.28
       Democratic Republic of the Congo |          1        0.37       18.66
                                Denmark |          1        0.37       19.03
                               Djibouti |          1        0.37       19.40
                     Dominican Republic |          1        0.37       19.78
                                Ecuador |          1        0.37       20.15
                                  Egypt |          1        0.37       20.52
                            El Salvador |          1        0.37       20.90
                               Ethiopia |          1        0.37       21.27
                                   Fiji |          1        0.37       21.64
                                 France |          1        0.37       22.01
                          French Guiana |          3        1.12       23.13
               Gambia (Republic of The) |          1        0.37       23.51
                                Georgia |          1        0.37       23.88
                                Germany |          1        0.37       24.25
                                  Ghana |          1        0.37       24.63
                                 Greece |          1        0.37       25.00
                             Guadeloupe |         17        6.34       31.34
                              Guatemala |          1        0.37       31.72
                                 Guinea |          1        0.37       32.09
                                 Guyana |          1        0.37       32.46
                                  Haiti |          1        0.37       32.84
                               Honduras |          1        0.37       33.21
                                  India |          1        0.37       33.58
                              Indonesia |          1        0.37       33.96
             Iran (Islamic Republic of) |          1        0.37       34.33
                                   Iraq |          1        0.37       34.70
                                Ireland |          1        0.37       35.07
                                  Italy |          1        0.37       35.45
                                  Japan |          1        0.37       35.82
                                 Jordan |          1        0.37       36.19
                                  Kenya |          1        0.37       36.57
                             Kyrgyzstan |          1        0.37       36.94
       Lao People's Democratic Republic |          1        0.37       37.31
                                Lebanon |          1        0.37       37.69
                                Liberia |          1        0.37       38.06
                                  Libya |          1        0.37       38.43
                             Madagascar |          1        0.37       38.81
                                 Malawi |          1        0.37       39.18
                               Malaysia |          1        0.37       39.55
                                   Mali |          1        0.37       39.93
                       Marshall Islands |          1        0.37       40.30
                             Martinique |         16        5.97       46.27
                             Mauritania |          1        0.37       46.64
                              Mauritius |          1        0.37       47.01
                                Mayotte |          3        1.12       48.13
                                 Mexico |          1        0.37       48.51
                               Mongolia |          1        0.37       48.88
                             Montserrat |          6        2.24       51.12
                                Morocco |          1        0.37       51.49
                             Mozambique |          1        0.37       51.87
                                Myanmar |          1        0.37       52.24
                                  Nepal |          1        0.37       52.61
                            Netherlands |          1        0.37       52.99
                   Netherlands Antilles |          4        1.49       54.48
                            New Zealand |          1        0.37       54.85
                              Nicaragua |          1        0.37       55.22
                                  Niger |          1        0.37       55.60
                                Nigeria |          1        0.37       55.97
                                   Niue |          5        1.87       57.84
                                 Norway |          1        0.37       58.21
                               Pakistan |          1        0.37       58.58
                    Palestine, State of |          1        0.37       58.96
                       Papua New Guinea |          1        0.37       59.33
                                   Peru |          1        0.37       59.70
                            Philippines |          1        0.37       60.07
                                 Poland |          1        0.37       60.45
                               Portugal |          1        0.37       60.82
                            Puerto Rico |          1        0.37       61.19
                      Republic of Korea |          1        0.37       61.57
                                Reunion |         14        5.22       66.79
                     Russian Federation |          1        0.37       67.16
                                 Rwanda |          1        0.37       67.54
                       Saint Barthélemy |          1        0.37       67.91
                                Senegal |          1        0.37       68.28
                           Sierra Leone |          1        0.37       68.66
                                Somalia |          1        0.37       69.03
                           South Africa |          1        0.37       69.40
                            South Sudan |          1        0.37       69.78
                                  Spain |          1        0.37       70.15
                              Sri Lanka |          1        0.37       70.52
                                  Sudan |          1        0.37       70.90
                               Suriname |          1        0.37       71.27
                   Syrian Arab Republic |          1        0.37       71.64
                                 Taiwan |         49       18.28       89.93
                               Thailand |          1        0.37       90.30
                            Timor-Leste |          1        0.37       90.67
                                   Togo |          1        0.37       91.04
                                Tokelau |          4        1.49       92.54
                                  Tonga |          1        0.37       92.91
                                Tunisia |          1        0.37       93.28
                                Türkiye |          1        0.37       93.66
                                 Uganda |          1        0.37       94.03
                                Ukraine |          1        0.37       94.40
United Kingdom of Great Britain and N.. |          1        0.37       94.78
            United Republic of Tanzania |          1        0.37       95.15
               United States of America |          1        0.37       95.52
                                Uruguay |          1        0.37       95.90
                             Uzbekistan |          1        0.37       96.27
      Venezuela, Bolivarian Republic of |          1        0.37       96.64
                               Viet Nam |          1        0.37       97.01
                      Wallis and Futuna |          5        1.87       98.88
                                  Yemen |          1        0.37       99.25
                                 Zambia |          1        0.37       99.63
                               Zimbabwe |          1        0.37      100.00
----------------------------------------+-----------------------------------
                                  Total |        268      100.00

.                         drop _merge 

. 
.                         // Generate indicator: Total damages of all disasters (current US$, thousands) (EM-DAT), by GDP (current US$, thousands) 
. 
.                                 // Convert current dollar damages from thousands to units to match GDP digits
.                                         gen damages = TotalDamages000US*1000
(7,611 missing values generated)

.                                         lab var damages "Total Damages (current $US)"

.                                         gen damages_gdp = damages / GDP
(8,172 missing values generated)

.                                         lab var damages_gdp "Ratio of total damages to GDP"

.                                         gen damages_sqkm = TotalDamagesAdjusted000US / landarea
(8,046 missing values generated)

.                                         lab var damages_sqkm "Total damages (2015 US$, thousands) per square km"

.                                         drop if year == 2022 // drop because the year is still incomplete                                       
(120 observations deleted)

.                         
.                 // Save
.                         save damages, replace
file damages.dta saved

.                         export delimited using damages, replace
file damages.csv saved

.                         
.                         
. ** RESILIENCE CAPACITIES *******************************************************
. 
. **# Dietary sourcing flexibility index (FAO) - provided directly by FAO 
.                 import excel using "$datain\DSFI_EnergyFruitVeg_2016-2018.xlsx", clear
(9 vars, 191 obs)

.                         drop in 1/1 // drop info line
(1 observation deleted)

.                         ren A country

.                         ren B kcal_production

.                         ren C kcal_import

.                         ren D kcal_stocks

.                         ren E kcal_total

.                         ren F fv_production

.                         ren G fv_imports

.                         ren H fv_stocks

.                         ren I fv_total

.                         lab var kcal_production "Kcal diversity, domestic production"

.                         lab var kcal_import "Kcal diversity, imports"

.                         lab var kcal_stocks "Kcal diversity, stocks"

.                         lab var kcal_total "Dietary sourcing flexibility index, calories (all sources)"

.                         lab var fv_production "Fruit & vegetable diversity, domestic production"

.                         lab var fv_imports "Fruit & vegetable diversity, imports"

.                         lab var fv_stocks "Fruit & vegetable diversity, stocks"

.                         lab var fv_total "Dietary sourcing flexibility index, fruits & vegetables (all sources)"

.                         drop in 1/3 // drop remaining headers
(3 observations deleted)

.                         
.                         // Drop aggregated areas
.                         drop if inlist(country, "WORLD", "AFRICA", "AMERICA", "ASIA", "EUROPE", "OCEANIA ", "Northern Africa")
(7 observations deleted)

.                         drop if inlist(country, "Sub-Saharan Africa", "Middle Africa", "Western Africa", "Latin America and the Caribbean", "Northern America"
> )
(5 observations deleted)

.                         drop if inlist(country, "Central Asia", "South-eastern Asia", "Southern Asoa", "Western Asia", "Eastern Europe", "Northern Europe", "S
> outhern Europe", "Caribbean", "South America")
(8 observations deleted)

.                         drop if inlist(country, "Australia and New Zealand", "Central America", "Eastern Africa", "Eastern Asia", "Melanesia", "Polynesia")
(6 observations deleted)

.                         drop if inlist(country, "Southern Africa", "Southern Asia", "Western Europe")
(3 observations deleted)

.                         tempfile kcal_fv

.                                 save `kcal_fv', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000s.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000s.tmp saved as .dta format

. 
.                 import excel using "$datain\DSFI_ProteinFat_2016-2018.xlsx", clear
(9 vars, 191 obs)

.                         drop in 1/1 // drop info line
(1 observation deleted)

.                         ren A country

.                         ren B protein_production

.                         ren C protein_import

.                         ren D protein_stocks

.                         ren E protein_total

.                         ren F fat_production

.                         ren G fat_imports

.                         ren H fat_stocks

.                         ren I fat_total

.                         lab var protein_production "Protein diversity, domestic production"

.                         lab var protein_import "Protein diversity, imports"

.                         lab var protein_stocks "Protein diversity, stocks"

.                         lab var protein_total "Dietary sourcing flexibility index, protein (all sources)"

.                         lab var fat_production "Fats diversity, domestic production"

.                         lab var fat_imports "Fats diversity, imports"

.                         lab var fat_stocks "Fats diversity, stocks"

.                         lab var fat_total "Dietary sourcing flexibility index, fats (all sources)"

.                         drop in 1/3 // drop remaining headers
(3 observations deleted)

.                                 
.                                 // Drop aggregated areas
.                                 drop if inlist(country, "WORLD", "AFRICA", "AMERICA", "ASIA", "EUROPE", "OCEANIA ", "Northern Africa")
(7 observations deleted)

.                                 drop if inlist(country, "Sub-Saharan Africa", "Middle Africa", "Western Africa", "Latin America and the Caribbean", "Northern 
> America")
(5 observations deleted)

.                                 drop if inlist(country, "Central Asia", "South-eastern Asia", "Southern Asoa", "Western Asia", "Eastern Europe", "Northern Eur
> ope", "Southern Europe", "Caribbean", "South America")
(8 observations deleted)

.                                 drop if inlist(country, "Australia and New Zealand", "Central America", "Eastern Africa", "Eastern Asia", "Melanesia", "Polyne
> sia")
(6 observations deleted)

.                                 drop if inlist(country, "Southern Africa", "Southern Asia", "Western Europe")
(3 observations deleted)

.                                 tempfile pro_fat

.                                         save `pro_fat', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000t.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000t.tmp saved as .dta format

.                 
.                 use `kcal_fv', clear

.                         merge 1:1 country using `pro_fat'

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                               158  (_merge==3)
    -----------------------------------------

.                         drop _merge

.                         
.                         // Merge in country classification
.                                 replace country = "Türkiye" if country == "Turkey"
(1 real change made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia"
(1 real change made)

.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(1 real change made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(1 real change made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(1 real change made)

.                                 drop if country == "China" // aggregate - drop to avoid double counting
(1 observation deleted)

.                                 replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(1 real change made)

.                                 replace country = "Macau" if country == "China, Macao SAR"
(1 real change made)

.                                 replace country = "Taiwan" if country == "China, Taiwan Province of"
(1 real change made)

.                                 replace country = "China" if country == "China, mainland"
(1 real change made)

.                                 merge 1:1 country using iso

    Result                      Number of obs
    -----------------------------------------
    Not matched                            92
        from master                         0  (_merge==1)
        from using                         92  (_merge==2)

    Matched                               157  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(92 observations deleted)

.                                 drop _merge

.                                 merge 1:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           132
        from master                         0  (_merge==1)
        from using                        132  (_merge==2)

    Matched                               157  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3

.                                 drop if _merge != 3 
(132 observations deleted)

.                                 drop _merge

.                                 destring, replace
country: contains nonnumeric characters; no replace
kcal_production: all characters numeric; replaced as double
(1 missing value generated)
kcal_import: all characters numeric; replaced as double
(1 missing value generated)
kcal_stocks: all characters numeric; replaced as double
(1 missing value generated)
kcal_total: all characters numeric; replaced as double
(1 missing value generated)
fv_production: all characters numeric; replaced as double
(3 missing values generated)
fv_imports: all characters numeric; replaced as double
(3 missing values generated)
fv_stocks: all characters numeric; replaced as double
(3 missing values generated)
fv_total: all characters numeric; replaced as double
(3 missing values generated)
protein_production: all characters numeric; replaced as double
(1 missing value generated)
protein_import: all characters numeric; replaced as double
(1 missing value generated)
protein_stocks: all characters numeric; replaced as double
(1 missing value generated)
protein_total: all characters numeric; replaced as double
(1 missing value generated)
fat_production: all characters numeric; replaced as double
(1 missing value generated)
fat_imports: all characters numeric; replaced as double
(1 missing value generated)
fat_stocks: all characters numeric; replaced as double
(1 missing value generated)
fat_total: all characters numeric; replaced as double
(1 missing value generated)
ISO: contains nonnumeric characters; no replace
incgrp: contains nonnumeric characters; no replace
wb_region already numeric; no replace
disp_area: contains nonnumeric characters; no replace
UN_status_detail already numeric; no replace
UNmemberstate already numeric; no replace
UN_status already numeric; no replace
territoryof: contains nonnumeric characters; no replace
ISO_governing: contains nonnumeric characters; no replace
UN_contregion_code: all characters numeric; replaced as int
UN_continental_region: contains nonnumeric characters; no replace
UN_subregion_code: all characters numeric; replaced as int
UN_subregion: contains nonnumeric characters; no replace
UN_intermedregion_code: all characters numeric; replaced as byte
(90 missing values generated)
UN_intermediary_region: contains nonnumeric characters; no replace
m49_code: all characters numeric; replaced as int

.                                 gen dsfiyearrange = "2016-2018"

.                                 gen year = 2018

. 
.                         // Save
.                                 save dsfi, replace
file dsfi.dta saved

.                                 export delimited using dsfi, replace
file dsfi.csv saved

. 
. **# Mobile cellular subscriptions (per 100 people) (International Telecommunications Union / World Bank)
.                 import delimited using "$datain\API_IT.CEL.SETS.P2_DS2_en_csv_v2_4151010.csv", clear rowrange(4:271)
(encoding automatically selected: UTF-8)
(67 vars, 267 obs)

.                         ren v1 country

.                         ren v2 ISO

.                         drop v4 // WDI code

.                         drop v66 v67 // 2021 with no data and an extra column of all missing data

.                         ren v5-v65 mobile#, addnumber(1960)

.                         drop mobile1960-mobile1990 // years before consumer mobile technology

.                         drop v3 // variable label "Mobile cellular subscriptions (per 100 people)"

.                         reshape long mobile, i(country ISO) j(year)
(j = 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              267   ->   8,010       
Number of variables                  32   ->   4           
j variable (30 values)                    ->   year
xij variables:
   mobile1991 mobile1992 ... mobile2020   ->   mobile
-----------------------------------------------------------------------------

.                         lab var mobile "Mobile cellular subscriptions (number, per 100 people)"

.                         
.                         // Add in country classification
.                                 replace country = "Bahamas" if country == "Bahamas, The"
(30 real changes made)

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(30 real changes made)

.                                 replace country = "Côte D'Ivoire" if country == "Cote d'Ivoire"
(30 real changes made)

.                                 replace country = "Democratic Republic of the Congo" if country == "Congo, Dem. Rep."
(30 real changes made)

.                                 replace country = "Congo" if country == "Congo, Rep."
(30 real changes made)

.                                 replace country = "Curaçao" if country == "Curacao"
(30 real changes made)

.                                 replace country = "Czechia" if country == "Czech Republic"
(30 real changes made)

.                                 replace country = "Egypt" if country == "Egypt, Arab Rep."
(30 real changes made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia, Fed. Sts."
(30 real changes made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom"
(30 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia, The"
(30 real changes made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran, Islamic Rep."
(30 real changes made)

.                                 replace country = "Kyrgyzstan" if country == "Kyrgyz Republic"
(30 real changes made)

.                                 replace country = "Saint Kitts and Nevis" if country == "St. Kitts and Nevis"
(30 real changes made)

.                                 replace country = "Republic of Korea" if country == "Korea, Rep."
(30 real changes made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Lao PDR"
(30 real changes made)

.                                 replace country = "Saint Lucia" if country == "St. Lucia"
(30 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova"
(30 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Korea, Dem. People's Rep."
(30 real changes made)

.                                 replace country = "Slovakia" if country == "Slovak Republic"
(30 real changes made)

.                                 replace country = "Türkiye" if country == "Turkey"
(30 real changes made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania"
(30 real changes made)

.                                 replace country = "Saint Vincent and the Grenadines" if country == "St. Vincent and the Grenadines"
(30 real changes made)

.                                 replace country = "United States of America" if country == "United States"
(30 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela, RB"
(30 real changes made)

.                                 replace country = "United States Virgin Islands" if country == "Virgin Islands (U.S.)"
(30 real changes made)

.                                 replace country = "Viet Nam" if country == "Vietnam"
(30 real changes made)

.                                 replace country = "Yemen" if country == "Yemen, Rep."
(30 real changes made)

.                                 replace country = "Macau" if country == "Macao SAR, China"
(30 real changes made)

.                                 replace country = "Hong Kong" if country == "Hong Kong SAR, China"
(30 real changes made)

.                                 replace country = "Sint Maarten (Dutch part)" if country == "Sint Maarten (Dutch Part)"
(0 real changes made)

.                                 replace country = "Saint Martin (French Part)" if country == "Saint Martin (French part)"
(0 real changes made)

.                                 replace country = "Palestine, State of" if country == "West Bank and Gaza"
(30 real changes made)

.                                 merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str12, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         1,603
        from master                     1,530  (_merge==1)
        from using                         73  (_merge==2)

    Matched                             6,480  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3

.                                 drop if _merge!=3 // aggregate groups, Curacao, Kosovo, Saint Martin, Sint Maarten
(1,603 observations deleted)

.                                 drop _merge

.                                 sort ISO country wb_region incgrp mobile

.                         
.                 // Save
.                         save mobile, replace
file mobile.dta saved

.                         export delimited using mobile, replace
file mobile.csv saved

. 
. **# Social Capital Index - Legatum Prosperity Index
.                 import excel using "$datain\2021_Full_Data_Set_-_Legatum_Prosperity_Index.xlsx", sheet("Indicators x 300") firstrow clear
(51 vars, 49,913 obs)

.                         destring, replace
area_name: contains nonnumeric characters; no replace
area_code: contains nonnumeric characters; no replace
area_group: contains nonnumeric characters; no replace
pillar_name: contains nonnumeric characters; no replace
element_name: contains nonnumeric characters; no replace
indicator_name: contains nonnumeric characters; no replace
rank_2007 already numeric; no replace
rank_2008 already numeric; no replace
rank_2009 already numeric; no replace
rank_2010 already numeric; no replace
rank_2011 already numeric; no replace
rank_2012 already numeric; no replace
rank_2013 already numeric; no replace
rank_2014 already numeric; no replace
rank_2015 already numeric; no replace
rank_2016 already numeric; no replace
rank_2017 already numeric; no replace
rank_2018 already numeric; no replace
rank_2019 already numeric; no replace
rank_2020 already numeric; no replace
rank_2021 already numeric; no replace
raw_value_2007 already numeric; no replace
raw_value_2008 already numeric; no replace
raw_value_2009 already numeric; no replace
raw_value_2010 already numeric; no replace
raw_value_2011 already numeric; no replace
raw_value_2012 already numeric; no replace
raw_value_2013 already numeric; no replace
raw_value_2014 already numeric; no replace
raw_value_2015 already numeric; no replace
raw_value_2016 already numeric; no replace
raw_value_2017 already numeric; no replace
raw_value_2018 already numeric; no replace
raw_value_2019 already numeric; no replace
raw_value_2020 already numeric; no replace
raw_value_2021 already numeric; no replace
score_2007 already numeric; no replace
score_2008 already numeric; no replace
score_2009 already numeric; no replace
score_2010 already numeric; no replace
score_2011 already numeric; no replace
score_2012 already numeric; no replace
score_2013 already numeric; no replace
score_2014 already numeric; no replace
score_2015 already numeric; no replace
score_2016 already numeric; no replace
score_2017 already numeric; no replace
score_2018 already numeric; no replace
score_2019 already numeric; no replace
score_2020 already numeric; no replace
score_2021 already numeric; no replace

.                         describe

Contains data
 Observations:        49,913                  
    Variables:            51                  
----------------------------------------------------------------------------------------------------------------------------------------------------------------
Variable      Storage   Display    Value
    name         type    format    label      Variable label
----------------------------------------------------------------------------------------------------------------------------------------------------------------
area_name       str28   %28s                  area_name
area_code       str3    %9s                   area_code
area_group      str31   %31s                  area_group
pillar_name     str32   %32s                  pillar_name
element_name    str43   %43s                  element_name
indicator_name  str73   %73s                  indicator_name
rank_2007       int     %10.0g                rank_2007
rank_2008       int     %10.0g                rank_2008
rank_2009       int     %10.0g                rank_2009
rank_2010       int     %10.0g                rank_2010
rank_2011       int     %10.0g                rank_2011
rank_2012       int     %10.0g                rank_2012
rank_2013       int     %10.0g                rank_2013
rank_2014       int     %10.0g                rank_2014
rank_2015       int     %10.0g                rank_2015
rank_2016       int     %10.0g                rank_2016
rank_2017       int     %10.0g                rank_2017
rank_2018       int     %10.0g                rank_2018
rank_2019       int     %10.0g                rank_2019
rank_2020       int     %10.0g                rank_2020
rank_2021       int     %10.0g                rank_2021
raw_value_2007  double  %14.2fc               raw_value_2007
raw_value_2008  double  %14.2fc               raw_value_2008
raw_value_2009  double  %14.2fc               raw_value_2009
raw_value_2010  double  %14.2fc               raw_value_2010
raw_value_2011  double  %14.2fc               raw_value_2011
raw_value_2012  double  %14.2fc               raw_value_2012
raw_value_2013  double  %14.2fc               raw_value_2013
raw_value_2014  double  %14.2fc               raw_value_2014
raw_value_2015  double  %14.2fc               raw_value_2015
raw_value_2016  double  %14.2fc               raw_value_2016
raw_value_2017  double  %14.2fc               raw_value_2017
raw_value_2018  double  %14.2fc               raw_value_2018
raw_value_2019  double  %14.2fc               raw_value_2019
raw_value_2020  double  %14.2fc               raw_value_2020
raw_value_2021  double  %14.2fc               raw_value_2021
score_2007      double  %10.0g                score_2007
score_2008      double  %10.0g                score_2008
score_2009      double  %10.0g                score_2009
score_2010      double  %10.0g                score_2010
score_2011      double  %10.0g                score_2011
score_2012      double  %10.0g                score_2012
score_2013      double  %10.0g                score_2013
score_2014      double  %10.0g                score_2014
score_2015      double  %10.0g                score_2015
score_2016      double  %10.0g                score_2016
score_2017      double  %10.0g                score_2017
score_2018      double  %10.0g                score_2018
score_2019      double  %10.0g                score_2019
score_2020      double  %10.0g                score_2020
score_2021      double  %10.0g                score_2021
----------------------------------------------------------------------------------------------------------------------------------------------------------------
Sorted by: 
     Note: Dataset has changed since last saved.

.                         ren area_name country

.                         ren area_code ISO

.                         foreach v in country area_group pillar_name element_name indicator_name {
  2.                                 encode `v', gen(`v'_)
  3.                         }

.                         drop area_group pillar_name element_name indicator_name

.                         ren country country_string

.                         rename *_ *

.                         
.                         // Keep social capital score indicators only
.                                 drop rank* raw_value* area_group

.                                 order country ISO pillar_name element_name indicator_name, first

.                                 tab pillar_name 

                     pillar_name |      Freq.     Percent        Cum.
---------------------------------+-----------------------------------
                Economic Quality |      3,173        6.36        6.36
                       Education |      3,006        6.02       12.38
           Enterprise Conditions |      3,507        7.03       19.41
                      Governance |      6,012       12.04       31.45
                          Health |      4,843        9.70       41.15
Infrastructure and Market Access |      5,010       10.04       51.19
          Investment Environment |      4,676        9.37       60.56
               Living Conditions |      5,010       10.04       70.60
             Natural Environment |      3,832        7.68       78.27
                Personal Freedom |      4,509        9.03       87.31
             Safety and Security |      3,507        7.03       94.33
                  Social Capital |      2,828        5.67      100.00
---------------------------------+-----------------------------------
                           Total |     49,913      100.00

.                                 tab pillar_name, nolabel

pillar_name |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      3,173        6.36        6.36
          2 |      3,006        6.02       12.38
          3 |      3,507        7.03       19.41
          4 |      6,012       12.04       31.45
          5 |      4,843        9.70       41.15
          6 |      5,010       10.04       51.19
          7 |      4,676        9.37       60.56
          8 |      5,010       10.04       70.60
          9 |      3,832        7.68       78.27
         10 |      4,509        9.03       87.31
         11 |      3,507        7.03       94.33
         12 |      2,828        5.67      100.00
------------+-----------------------------------
      Total |     49,913      100.00

.                                 keep if pillar_name==12
(47,085 observations deleted)

.                                 tab element_name 

                           element_name |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
         Civic and Social Participation |        657       23.23       23.23
                    Institutional Trust |      1,002       35.43       58.66
                    Interpersonal Trust |        334       11.81       70.47
      Personal and Family Relationships |        334       11.81       82.28
                        Social Networks |        501       17.72      100.00
----------------------------------------+-----------------------------------
                                  Total |      2,828      100.00

.                                 // indicators of interest:
.                                         * help from family and friends 
.                                         * generalized interpersonal trust
.                                         * confidence in financial institutions and banks
.                                         * public trust in politicians or confidence in national government
.                                 tab indicator_name

                         indicator_name |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
Confidence in financial institutions an |        167        5.91        5.91
Confidence in judicial system and court |        167        5.91       11.81
             Confidence in local police |        167        5.91       17.72
                 Confidence in military |        167        5.91       23.62
      Confidence in national government |        167        5.91       29.53
               Donated money to charity |        167        5.91       35.43
            Family give positive energy |        167        5.91       41.34
        Generalised interpersonal trust |        167        5.91       47.24
Help from family and friends when in tr |        167        5.91       53.15
                      Helped a stranger |        167        5.91       59.05
               Helped another household |        167        5.91       64.96
            Opportunity to make friends |        167        5.91       70.86
            Public trust in politicians |        167        5.91       76.77
                                Respect |        167        5.91       82.67
    Voiced opinion to a public official |        167        5.91       88.58
                           Volunteering |        167        5.91       94.48
                          Voter turnout |        156        5.52      100.00
----------------------------------------+-----------------------------------
                                  Total |      2,828      100.00

.                                 tab indicator_name, nolabel

indicator_n |
        ame |      Freq.     Percent        Cum.
------------+-----------------------------------
         50 |        167        5.91        5.91
         51 |        167        5.91       11.81
         52 |        167        5.91       17.72
         53 |        167        5.91       23.62
         54 |        167        5.91       29.53
         77 |        167        5.91       35.43
        103 |        167        5.91       41.34
        122 |        167        5.91       47.24
        139 |        167        5.91       53.15
        140 |        167        5.91       59.05
        141 |        167        5.91       64.96
        186 |        167        5.91       70.86
        226 |        167        5.91       76.77
        242 |        167        5.91       82.67
        292 |        167        5.91       88.58
        293 |        167        5.91       94.48
        294 |        156        5.52      100.00
------------+-----------------------------------
      Total |      2,828      100.00

.                                         * help from family and friends 139
.                                         * generalized interpersonal trust 122
.                                         * confidence in financial institutions   50
.                                         * public trust in politicians or confidence in national government 226
.                                 keep if inlist(indicator_name,139,122,50,226)
(2,160 observations deleted)

.                                 drop pillar_name element_name                   

.                         
.                         // Reshape
.                                 reshape long score_, i(country country_string ISO indicator_name) j(year)
(j = 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              668   ->   10,020      
Number of variables                  19   ->   6           
j variable (15 values)                    ->   year
xij variables:
   score_2007 score_2008 ... score_2021   ->   score_
-----------------------------------------------------------------------------

.                                 ren *_ *

.                                 misstable sum score
(variables nonmissing or string)

.                                 reshape wide score, i(country country_string ISO year) j(indicator_name)
(j = 50 122 139 226)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations           10,020   ->   2,505       
Number of variables                   6   ->   8           
j variable (4 values)    indicator_name   ->   (dropped)
xij variables:
                                  score   ->   score50 score122 ... score226
-----------------------------------------------------------------------------

.                                 ren *139 help_*

.                                         lab var help_score "Help from family & friends"

.                                 ren *122 trust_*

.                                         lab var trust_score "Generalized interpersonal trust"

.                                 ren *50 finconf_*

.                                         lab var finconf_score "Confidence in financial institutions"

.                                 ren *226 poltrust_*

.                                         lab var poltrust_score "Public trust in politicians or confidence in national government"                       

.                         
.                         // Confirm no strong correlations among 4 indicators:
.                                 pwcorr finconf_score trust_score help_score poltrust_score, star(.05) 

             | fincon~e trust_~e help_s~e poltru~e
-------------+------------------------------------
finconf_sc~e |   1.0000 
 trust_score |  -0.0037   1.0000 
  help_score |   0.0102   0.2372*  1.0000 
poltrust_s~e |   0.3263*  0.4476*  0.2353*  1.0000 

.                                 spearman finconf_score trust_score help_score poltrust_score, pw star(.05)
(obs=2505)

             | fincon~e trust_~e help_s~e poltru~e
-------------+------------------------------------
finconf_sc~e |   1.0000 
 trust_score |  -0.0526*  1.0000 
  help_score |  -0.0048   0.2638*  1.0000 
poltrust_s~e |   0.3181*  0.2875*  0.2053*  1.0000 

.                         
.                         // Create composite index
.                                 sum finconf_score trust_score help_score poltrust_score, d

            Confidence in financial institutions
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .1444444              0
 5%     .2666667       .0333333
10%     .3333333       .0333333       Obs               2,505
25%     .4555556       .0333333       Sum of wgt.       2,505

50%     .5888889                      Mean           .5794413
                        Largest       Std. dev.      .1830448
75%     .7111111              1
90%     .8111111              1       Variance       .0335054
95%     .8666667              1       Skewness        -.22462
99%     .9444444              1       Kurtosis       2.661978

               Generalized interpersonal trust
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0506667       .0285557
 5%     .1099879       .0373333
10%     .1415439       .0373333       Obs               2,505
25%         .192       .0373333       Sum of wgt.       2,505

50%     .2887646                      Mean            .328352
                        Largest       Std. dev.       .186485
75%           .4              1
90%     .5746165              1       Variance       .0347767
95%     .7342833              1       Skewness       1.339714
99%         .988              1       Kurtosis       4.877055

                 Help from family & friends
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .1142857              0
 5%     .3571429              0
10%     .4428571              0       Obs               2,505
25%           .6              0       Sum of wgt.       2,505

50%     .7428571                      Mean           .6997969
                        Largest       Std. dev.       .180543
75%     .8428571       .9714286
90%           .9       .9714286       Variance       .0325958
95%     .9142857       .9714286       Skewness      -1.058596
99%     .9571429       .9857143       Kurtosis       4.110353

        Public trust in politicians or confidence in
                     national government
-------------------------------------------------------------
      Percentiles      Smallest
 1%      .071717       .0417989
 5%     .1019608       .0417989
10%     .1328234       .0454927       Obs               2,505
25%     .2040279       .0476674       Sum of wgt.       2,505

50%     .3040402                      Mean           .3384646
                        Largest       Std. dev.      .1846744
75%     .4286354       .9033527
90%     .6143995       .9033527       Variance       .0341046
95%      .740417       .9076637       Skewness       .9507627
99%     .8448032       .9125115       Kurtosis       3.424276

.                                 ameans finconf_score trust_score help_score poltrust_score

    Variable |       Type          Obs        Mean       [95% conf. interval]
-------------+---------------------------------------------------------------
finconf_sc~e | Arithmetic        2,505    .5794413        .5722698   .5866128
             |  Geometric        2,504    .5432154        .5347633    .551801
             |   Harmonic        2,504    .4846712        .4686577   .5018177
-------------+---------------------------------------------------------------
 trust_score | Arithmetic        2,505     .328352        .3210457   .3356584
             |  Geometric        2,505    .2815657        .2753388   .2879334
             |   Harmonic        2,505    .2358272        .2292194   .2428274
-------------+---------------------------------------------------------------
  help_score | Arithmetic        2,505    .6997969        .6927234   .7068704
             |  Geometric        2,495    .6707547        .6615318   .6801062
             |   Harmonic        2,495    .6021684        .5771676   .6294332
-------------+---------------------------------------------------------------
poltrust_s~e | Arithmetic        2,505    .3384646        .3312292      .3457
             |  Geometric        2,505    .2905508        .2841079   .2971398
             |   Harmonic        2,505    .2442117        .2379249   .2508398
-----------------------------------------------------------------------------

.                                 tempfile wide

.                                         save `wide', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000u.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000u.tmp saved as .dta format

.                                 ren (finconf_score trust_score help_score poltrust_score) (soccap(#)), addnumber

.                                 reshape long soccap, i(country country_string year) j(origvar)
(j = 1 2 3 4)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations            2,505   ->   10,020      
Number of variables                   8   ->   6           
j variable (4 values)                     ->   origvar
xij variables:
            soccap1 soccap2 ... soccap4   ->   soccap
-----------------------------------------------------------------------------

.                                 lab drop indicator_name_

.                                 egen soccapindex=gmean(soccap), by(country year)

.                                 lab var soccapindex "Social capital (index)"

.                                         // Save labels
.                                         foreach v of var * {
  2.                                         local l`v' : variable label `v'
  3.                                                 if `"`l`v''"' == "" {
  4.                                                 local l`v' "`v'"
  5.                                                 }
  6.                                         }

.                                 collapse (first) ISO soccapindex, by(country country_string year)

.                                         // Relabel
.                                                 foreach v of var * {
  2.                                                 label var `v' "`l`v''"
  3.                                                         }

.                                 
.                                 // Merge individual variables back in
.                                         merge 1:1 country year using `wide', keepusing(finconf_score trust_score help_score poltrust_score)
(label country_ already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                             2,505  (_merge==3)
    -----------------------------------------

.                                         drop _merge

.                         
.                         // Merge in country classification
.                                 drop country

.                                 ren country_string country

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
variable country was str28 now str32
(15 real changes made)

.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(15 real changes made)

.                                 replace country = "Democratic Republic of the Congo" if country == "Democratic Republic of Congo"
(15 real changes made)

.                                 replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "United Kingdom"
variable country was str32 now str52
(15 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "The Gambia"
(15 real changes made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran"
(15 real changes made)

.                                 replace country = "Republic of Korea" if country == "South Korea"
(15 real changes made)

.                                 replace country = "Lao People's Democratic Republic" if country == "Laos"
(15 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova"
(15 real changes made)

.                                 replace country = "Russian Federation" if country == "Russia"
(15 real changes made)

.                                 replace country = "Sao Tome and Principe" if country == "São Tomé and Príncipe"
(15 real changes made)

.                                 replace country = "Syrian Arab Republic" if country == "Syria"
(15 real changes made)

.                                 replace country = "Türkiye" if country == "Turkey"
(15 real changes made)

.                                 replace country = "Taiwan" if country == "Taiwan, China"
(15 real changes made)

.                                 replace country = "United Republic of Tanzania" if country == "Tanzania"
(15 real changes made)

.                                 replace country = "United States of America" if country == "United States"
(15 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela"
(15 real changes made)

.                                 replace country = "Viet Nam" if country == "Vietnam"
(15 real changes made)

.                                 merge m:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           122
        from master                         0  (_merge==1)
        from using                        122  (_merge==2)

    Matched                             2,505  (_merge==3)
    -----------------------------------------

.                                         browse if _merge!=3 

.                                         drop if _merge!=3 
(122 observations deleted)

.                                         drop _merge

.                                 sort ISO year

.                                 order ISO country year, first

.         
.                 // save dataset
.                         save socialcapital, replace
file socialcapital.dta saved

.                         export delimited socialcapital, replace
file socialcapital.csv saved

. 
. ** AGRO- AND FOOD DIVERISTY
. **# Proportion of agricultural land with minimum level of species diversity (crop and pasture) (FAO, SPAM / FSCI)
.         /* Method to produce the input dataset: We adopted total crop species (1-32) and total livestock species (0-8) distributions for the year 2010 as glob
> al georeferenced data in a 10x10km resolution from Jones et al. 2021. Using QGIS 3.26.1, we generated a dataset on total global species richness (0-38) by add
> ing up both individual layers, and produced country-level zonal histograms based on world administrative boundaries by the World Food Programme (2019). 
>         Reference: Jones, SK et al. (2021) Agrobiodiversity Index scores show agrobiodiversity is underutilized in national food systems. https://doi.org/10.1
> 038/s43016-021-00344-3
>         Layer sources: 
>                 https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/2PEPLH
>                         File name crops: sr_2010_spam_v2r0_42c
>                         File name livestock: Livestock_8_richness       
>                 https://public.opendatasoft.com/explore/dataset/world-administrative-boundaries/information/
> */
.         
.                 import delimited using "$datain\global.hist.tsr.csv", clear
(encoding automatically selected: UTF-8)
(47 vars, 256 obs)

.                 drop status color_code region continent iso_3166_1_ french_shor

.                 ren name country

.                 ren iso3 ISO

.                 ren histo_# aglandpixels_#

.                 foreach v of varlist aglandpixels* {
  2.                         lab var `v' ""
  3.                 }

.                 ren histo_nodata nonagpixels

.                         * HISTO_ variables denote distribution of no of pixels (1 pixel = 10x10km or 10,000 ha) for species count 1-38) within each country
.                         * sum total number of pixels per country
.                         egen totalagpixels_country = rowtotal(aglandpixels_1-aglandpixels_38)

.                                         // Drop countries where all land area is missing species data
.                                         tempvar missingcheck

.                                                 gen `missingcheck' = 1 if totalagpixels_country == 0
(196 missing values generated)

.                                                 tab country if `missingcheck' == 1

                                country |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                             Aksai Chin |          1        1.67        1.67
                         American Samoa |          1        1.67        3.33
                               Anguilla |          1        1.67        5.00
                                  Aruba |          1        1.67        6.67
                         Azores Islands |          1        1.67        8.33
                          Bouvet Island |          1        1.67       10.00
         British Indian Ocean Territory |          1        1.67       11.67
                 British Virgin Islands |          1        1.67       13.33
                       Christmas Island |          1        1.67       15.00
                Cocos (Keeling) Islands |          1        1.67       16.67
                                Comoros |          1        1.67       18.33
                           Cook Islands |          1        1.67       20.00
            Falkland Islands (Malvinas) |          1        1.67       21.67
                          Faroe Islands |          1        1.67       23.33
                       French Polynesia |          1        1.67       25.00
French Southern and Antarctic Territo.. |          1        1.67       26.67
                              Gibraltar |          1        1.67       28.33
                       Glorioso Islands |          1        1.67       30.00
                              Greenland |          1        1.67       31.67
                                   Guam |          1        1.67       33.33
                             Guantanamo |          1        1.67       35.00
                               Guernsey |          1        1.67       36.67
                       Hala'ib Triangle |          1        1.67       38.33
      Heard Island and McDonald Islands |          1        1.67       40.00
                              Hong Kong |          1        1.67       41.67
                            Isle of Man |          1        1.67       43.33
                          Jarvis Island |          1        1.67       45.00
                                 Jersey |          1        1.67       46.67
                               Kiribati |          1        1.67       48.33
                          Kuril Islands |          1        1.67       50.00
                        Ma'tan al-Sarra |          1        1.67       51.67
                                  Macao |          1        1.67       53.33
                        Madeira Islands |          1        1.67       55.00
                               Maldives |          1        1.67       56.67
                       Marshall Islands |          1        1.67       58.33
                                Mayotte |          1        1.67       60.00
       Micronesia (Federated States of) |          1        1.67       61.67
                             Midway Is. |          1        1.67       63.33
                                  Nauru |          1        1.67       65.00
                   Netherlands Antilles |          1        1.67       66.67
                                   Niue |          1        1.67       68.33
                         Norfolk Island |          1        1.67       70.00
               Northern Mariana Islands |          1        1.67       71.67
                                  Palau |          1        1.67       73.33
                        Paracel Islands |          1        1.67       75.00
                        Pitcairn Island |          1        1.67       76.67
                                Reunion |          1        1.67       78.33
                                  Samoa |          1        1.67       80.00
                             San Marino |          1        1.67       81.67
                             Seychelles |          1        1.67       83.33
                        Solomon Islands |          1        1.67       85.00
South Georgia & the South Sandwich Is.. |          1        1.67       86.67
                        Spratly Islands |          1        1.67       88.33
         Svalbard and Jan Mayen Islands |          1        1.67       90.00
                                Tokelau |          1        1.67       91.67
                                  Tonga |          1        1.67       93.33
               Turks and Caicos Islands |          1        1.67       95.00
                                 Tuvalu |          1        1.67       96.67
           United States Virgin Islands |          1        1.67       98.33
                                Vanuatu |          1        1.67      100.00
----------------------------------------+-----------------------------------
                                  Total |         60      100.00

.                                                 drop if `missingcheck' == 1
(60 observations deleted)

.                         
.                         // Collapse the dataset to the global level to find the threshold number of species at which (and above) covers 25% of global ag land 
> (the 25% of land with the most diversity)
.                                 preserve 

.                                         // Save labels
.                                                 foreach v of var * {
  2.                                                 local l`v' : variable label `v'
  3.                                                         if `"`l`v''"' == "" {
  4.                                                         local l`v' "`v'"
  5.                                                         }
  6.                                                 }

.                                         collapse (sum) aglandpixels_* totalagpixels_country

.                                                 // Relabel
.                                                         foreach v of var * {
  2.                                                         label var `v' "`l`v''"
  3.                                                                 }

.                                         ren totalagpixels_country totalagpixels_world

.                                         lab var totalagpixels_world ""

.                                         gen topquartile_allagpix = totalagpixels_world / 4

.                                         
.                                         // Reshape long
.                                         gen i = 1

.                                         reshape long aglandpixels_, i(i) j(N_species)
(j = 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations                1   ->   38          
Number of variables                  41   ->   5           
j variable (38 values)                    ->   N_species
xij variables:
aglandpixels_1 aglandpixels_2 ... aglandpixels_38->aglandpixels_
-----------------------------------------------------------------------------

.                                         ren aglandpixels_ aglandpixels

.                                         
.                                         // Identify cumulative percent of agricultural land by number of species
.                                         gsort- N_species

.                                                 // Generate cumulative share of total agricultural land
.                                                 gen cumagpix = aglandpixels if N_species == 38
(37 missing values generated)

.                                                 forval N = 37(-1)1 {
  2.                                                 replace cumagpix = aglandpixels + cumagpix[_n-1] if N_species == `N'
  3.                                                         }
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

.                                                         
.                                                         * Identify the number of species where the cumulative number of pixels most closely approximates the t
> op 25% of all ag land ranked by species diversity
.                                                         tab N_species, sum(cumagpix)

            |         Summary of cumagpix
  N_species |        Mean   Std. dev.       Freq.
------------+------------------------------------
          1 |      812134           0           1
          2 |      810903           0           1
          3 |      809428           0           1
          4 |      808363           0           1
          5 |      807360           0           1
          6 |      806355           0           1
          7 |      804841           0           1
          8 |      800303           0           1
          9 |      782762           0           1
         10 |      758295           0           1
         11 |      733057           0           1
         12 |      703768           0           1
         13 |      671161           0           1
         14 |      637473           0           1
         15 |      598905           0           1
         16 |      556017           0           1
         17 |      511563           0           1
         18 |      466179           0           1
         19 |      417026           0           1
         20 |      368467           0           1
         21 |      323954           0           1
         22 |      286344           0           1
         23 |      246717           0           1
         24 |      207477           0           1
         25 |      172149           0           1
         26 |      142165           0           1
         27 |      108228           0           1
         28 |       74757           0           1
         29 |       53965           0           1
         30 |       38859           0           1
         31 |       26834           0           1
         32 |       18522           0           1
         33 |       11993           0           1
         34 |        6434           0           1
         35 |        2821           0           1
         36 |        1229           0           1
         37 |         329           0           1
         38 |          38           0           1
------------+------------------------------------
      Total |   404925.66   323946.21          38

.                                 restore

.                 
.                                 // Merge in country classification
.                                         replace country = "Antigua and Barbuda" if country == "Antigua & Barbuda"
(1 real change made)

.                                         replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(1 real change made)

.                                         replace country = "Bosnia and Herzegovina" if country == "Bosnia & Herzegovina"
(1 real change made)

.                                         replace country = "Cabo Verde" if country == "Cape Verde"
(1 real change made)

.                                         replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(1 real change made)

.                                         replace country = "Czechia" if country == "Czech Republic"
(1 real change made)

.                                         replace country = "Eswatini" if country == "Swaziland"
(1 real change made)

.                                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(1 real change made)

.                                         replace country = "Libya" if country == "Libyan Arab Jamahiriya"
(1 real change made)

.                                         replace country = "North Macedonia" if country == "The former Yugoslav Republic of Macedonia"
(1 real change made)

.                                         replace country = "Republic of Moldova" if country == "Moldova, Republic of"
(1 real change made)

.                                         replace country = "Türkiye" if country == "Turkey"
(1 real change made)

.                                         replace country = "United Kingdom of Great Britain and Northern Ireland" if country == "U.K. of Great Britain and Nort
> hern Ireland"
variable country was str42 now str52
(1 real change made)

.                                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela"
(1 real change made)

.                                         replace country = "Viet Nam" if country == "Vietnam"            
(1 real change made)

.                                         replace ISO = "PSE" if inlist(country,"West Bank", "Gaza Strip")
(0 real changes made)

.                                         replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(1 real change made)

.                                         replace country = "Ilemi triangle" if country == "Ilemi Triangle" 
(1 real change made)

.                                         replace country = "Jammu and Kashmir" if country == "Jammu-Kashmir" 
(1 real change made)

.                                         merge 1:1 ISO country using countryclassification
(variable country was str52, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            95
        from master                         1  (_merge==1)
        from using                         94  (_merge==2)

    Matched                               195  (_merge==3)
    -----------------------------------------

.                                                 browse if _merge!=3

.                                         
.                                         drop if _merge != 3 // Drop Abyei
(95 observations deleted)

.                                         drop _merge

. 
.                                 // Calculate percent of total ag land that has the minimum species diversity per country
.                                         egen pixelsminspecies = rowtotal(aglandpixels_24-aglandpixels_38)

.                                         gen pctagland_minspecies = (pixelsminspecies / totalagpixels_country)*100

.                                         lab var pctagland_minspecies "Percent of agricultural land with minimum species diversity (24 or more species)"

.                                         drop aglandpixels* nonagpixels

.                                 
.                                 gen year = 2010

. 
.                                 // Save
.                                         save minspeciesrichness, replace
file minspeciesrichness.dta saved

.                                         export delimited using minspeciesrichness, replace
file minspeciesrichness.csv saved

. 
. **# Number of animal genetic resources and wild useful plants for food and agriculture secured in conservation facilities (SDGs)
.                 // Plants
.                         import excel using "$datain\ER_GRF_PLNTSTOR.xlsx", firstrow clear
(52 vars, 296 obs)

.                         drop Goal Target Indicator SeriesCode SeriesDescription ReportingType GeoAreaCode Units T-AZ

.                         ren GeoAreaName country

.                         ren J-S genres_plant#, addnumber(1)

.                         ren genres_plant1 genres_plant2000

.                         ren genres_plant2 genres_plant2005

.                         ren genres_plant3 genres_plant2010

.                         ren genres_plant4 genres_plant2012

.                         ren genres_plant5 genres_plant2014

.                         ren genres_plant6 genres_plant2016

.                         ren genres_plant7 genres_plant2017

.                         ren genres_plant8 genres_plant2018

.                         ren genres_plant9 genres_plant2019

.                         ren genres_plant10 genres_plant2020

.                         reshape long genres_plant, i(country) j(year)
(j = 2000 2005 2010 2012 2014 2016 2017 2018 2019 2020)

Data                               Wide   ->   Long
-----------------------------------------------------------------------------
Number of observations              296   ->   2,960       
Number of variables                  11   ->   3           
j variable (10 values)                    ->   year
xij variables:
genres_plant2000 genres_plant2005 ... genres_plant2020->genres_plant
-----------------------------------------------------------------------------

.                         lab var genres_plant "Plant genetic resources accessions stored ex situ (number)"

.                         replace genres_plant = "" if genres_plant == "NaN"
(1,380 real changes made)

.                         destring genres_plant, replace
genres_plant: all characters numeric; replaced as long
(1380 missing values generated)

.                         replace genres_plant = genres_plant / 1000 // convert to thousands
variable genres_plant was long now double
(1,565 real changes made)

.                         lab var genres_plant "Plant genetic resources accessions stored ex situ (thousands)"

.                         
.                         // Merge in country classification
.                                 replace country = "Hong Kong" if country == "China, Hong Kong Special Administrative Region"
(10 real changes made)

.                                 replace country = "Macau" if country == "China, Macao Special Administrative Region"
(10 real changes made)

.                                 replace country = "Palestine, State of" if country == "State of Palestine"
(10 real changes made)

.                                 replace country = "Heard Island and McDonald Islands" if country == "Heard and McDonald Islands"
(0 real changes made)

.                                 replace country = "French Southern and Antarctic Territories" if country == "French Southern Territories"
(10 real changes made)

.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(10 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(10 real changes made)

.                                 replace country = "Pitcairn" if country == "Pitcairn Islands"
(0 real changes made)

.                                 replace country = "Reunion" if country == "Réunion"
(10 real changes made)

.                                 replace country = "South Georgia & the South Sandwich Islands" if country == "South Georgia and the South Sandwich Islands"
(10 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(10 real changes made)

.                                 replace country = "Wallis and Futuna" if country == "Wallis and Futuna Islands" 
(10 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(10 real changes made)

.                         replace country = "Saint Pierre et Miquelon" if country == "Saint Pierre and Miquelon"
(10 real changes made)

.                         merge m:1 country using iso

    Result                      Number of obs
    -----------------------------------------
    Not matched                           547
        from master                       540  (_merge==1)
        from using                          7  (_merge==2)

    Matched                             2,420  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(547 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            47
        from master                         0  (_merge==1)
        from using                         47  (_merge==2)

    Matched                             2,420  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                                 drop if _merge != 3 // drops regions 
(47 observations deleted)

.                                 drop _merge

.                                 sort ISO year

.                         
.                         // Save
.                                 save plant_genres, replace
file plant_genres.dta saved

.                                 
.                 // Animals
.                         import excel using "$datain\2.5.1.b_Number_of_animal_genetic_resources_for_food_and_agriculture_secured_in_medium_or_long_term_conserv
> ation_facilities.xlsx", firstrow clear
(23 vars, 6,555 obs)

.                         tab2 GeoAreaName TimePeriod if TimePeriod != Time_Detail

-> tabulation of GeoAreaName by TimePeriod if TimePeriod != Time_Detail 
no observations

.                         drop Indicator SeriesID SeriesDescription GeoAreaCode Time_Detail Source FootNote Nature Units ReportingType SeriesCode Q R S T U V W

.                         tab Type

       Type |      Freq.     Percent        Cum.
------------+-----------------------------------
    Country |      5,658       86.32       86.32
     Region |        897       13.68      100.00
------------+-----------------------------------
      Total |      6,555      100.00

.                         drop if Type == "Region"
(897 observations deleted)

.                         drop Type

.                         ren GeoAreaName country

.                         ren Value genres_animal

.                         lab var genres_animal "Number of local breeds for which sufficient genetic resources are stored for reconstitution"
note: label truncated to 80 characters

.                         ren TimePeriod year

.                         ren ISOalpha3 ISO

.                         replace genres_animal = "" if genres_animal == "NaN"
(5,011 real changes made)

.                         destring genres_animal, replace
genres_animal: all characters numeric; replaced as byte
(5011 missing values generated)

.                         
.                         // Merge in country classification
.                                 replace country = "Hong Kong" if country == "China, Hong Kong Special Administrative Region"
(23 real changes made)

.                                 replace country = "Macau" if country == "China, Macao Special Administrative Region"
(23 real changes made)

.                                 replace country = "Palestine, State of" if country == "Palestine"
(23 real changes made)

.                                 replace country = "Heard Island and McDonald Islands" if country == "Heard and McDonald Islands"
(0 real changes made)

.                                 replace country = "French Southern and Antarctic Territories" if country == "French Southern Territories"
(0 real changes made)

.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(23 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(23 real changes made)

.                                 replace country = "Reunion" if country == "Réunion"
(23 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(23 real changes made)

.                                 replace country = "Wallis and Futuna" if country == "Wallis and Futuna Islands"         
(23 real changes made)

.                                 replace country = "North Macedonia" if country == "Republic of North Macedonia"
(23 real changes made)

.                                 replace country = "Türkiye" if country == "Turkey"
(23 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(23 real changes made)

.                                 replace country = "Micronesia (Federated States of)" if country == "Micronesia"
(0 real changes made)

.                         replace country = "Saint Pierre et Miquelon" if country == "Saint Pierre and Miquelon"
(23 real changes made)

.                         replace country = "United States Minor Outlying Islands" if country == "United States minor outlying islands"
(23 real changes made)

.                         merge m:1 country using iso
(variable country was str55, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            99
        from master                        92  (_merge==1)
        from using                          7  (_merge==2)

    Matched                             5,566  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(99 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str4, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            47
        from master                         0  (_merge==1)
        from using                         47  (_merge==2)

    Matched                             5,566  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                                 drop if _merge != 3 
(47 observations deleted)

.                                 drop _merge

.                                 sort ISO year

.                 
.                         // Save
.                                 save animal_genres, replace
file animal_genres.dta saved

. 
.         // Combined dataset
.                 use animal_genres, clear

.                 merge 1:1 ISO country year using plant_genres
(variable country was str58, now str92 to accommodate using data's values)
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         3,166
        from master                     3,156  (_merge==1)
        from using                         10  (_merge==2)

    Matched                             2,410  (_merge==3)
    -----------------------------------------

.                 browse if _merge != 3 // no incorrect merges, there are different countries covered in each dataset

.                 drop _merge     

.                 drop if genres_animal == . & genres_plant == .
(4,038 observations deleted)

.                 unique country
Number of unique values of country is  139
Number of records is  1538

.                 * Note: there are many zero value countries for animal genetic resources and this is a distinct value from those missing data. Many more count
> ry-years have plant information
.                 order ISO country wb_region incgrp year genres_animal genres_plant

.                 sort ISO year

.                 drop if year == 2022
(98 observations deleted)

.                 
.                 // Save
.                         save geneticresources, replace
file geneticresources.dta saved

.                         export delimited geneticresources, replace
file geneticresources.csv saved

. 
.                 
. ** RESILIENCE RESPONSES/STRATEGIES *********************************************
. 
. **# Coping strategies index (WFP) 
.                 import delimited using "$datain\food_security_timeseries_2020", clear
(encoding automatically selected: ISO-8859-1)
(8 vars, 6,146 obs)

.                         * convert dates to Stata date format
.                         tab date

       date |      Freq.     Percent        Cum.
------------+-----------------------------------
   01/01/20 |          9        0.15        0.15
   01/02/20 |          8        0.13        0.28
   01/03/20 |          8        0.13        0.41
   01/04/20 |          9        0.15        0.55
   01/05/20 |         10        0.16        0.72
   01/06/20 |         16        0.26        0.98
   01/07/20 |         16        0.26        1.24
   01/08/20 |         17        0.28        1.51
   01/09/20 |         21        0.34        1.85
   01/10/20 |         23        0.37        2.23
   01/11/20 |         26        0.42        2.65
   01/12/20 |         28        0.46        3.11
   02/01/20 |          9        0.15        3.25
   02/02/20 |          8        0.13        3.38
   02/03/20 |          8        0.13        3.51
   02/04/20 |          9        0.15        3.66
   02/05/20 |         10        0.16        3.82
   02/06/20 |         16        0.26        4.08
   02/07/20 |         16        0.26        4.34
   02/08/20 |         18        0.29        4.64
   02/09/20 |         21        0.34        4.98
   02/10/20 |         23        0.37        5.35
   02/11/20 |         26        0.42        5.78
   02/12/20 |         28        0.46        6.23
   03/01/20 |          9        0.15        6.38
   03/02/20 |          8        0.13        6.51
   03/03/20 |          8        0.13        6.64
   03/04/20 |          9        0.15        6.78
   03/05/20 |         11        0.18        6.96
   03/06/20 |         16        0.26        7.22
   03/07/20 |         16        0.26        7.48
   03/08/20 |         18        0.29        7.78
   03/09/20 |         21        0.34        8.12
   03/10/20 |         23        0.37        8.49
   03/11/20 |         26        0.42        8.92
   03/12/20 |         28        0.46        9.37
   04/01/20 |          9        0.15        9.52
   04/02/20 |          8        0.13        9.65
   04/03/20 |          8        0.13        9.78
   04/04/20 |          9        0.15        9.93
   04/05/20 |         11        0.18       10.10
   04/06/20 |         16        0.26       10.36
   04/07/20 |         16        0.26       10.62
   04/08/20 |         18        0.29       10.92
   04/09/20 |         21        0.34       11.26
   04/10/20 |         23        0.37       11.63
   04/11/20 |         26        0.42       12.06
   04/12/20 |         28        0.46       12.51
   05/01/20 |          9        0.15       12.66
   05/02/20 |          8        0.13       12.79
   05/03/20 |          8        0.13       12.92
   05/04/20 |          9        0.15       13.07
   05/05/20 |         11        0.18       13.24
   05/06/20 |         16        0.26       13.50
   05/07/20 |         16        0.26       13.77
   05/08/20 |         18        0.29       14.06
   05/09/20 |         21        0.34       14.40
   05/10/20 |         23        0.37       14.77
   05/11/20 |         25        0.41       15.18
   05/12/20 |         28        0.46       15.64
   06/01/20 |          9        0.15       15.78
   06/02/20 |          8        0.13       15.91
   06/03/20 |          8        0.13       16.04
   06/04/20 |          9        0.15       16.19
   06/05/20 |         11        0.18       16.37
   06/06/20 |         16        0.26       16.63
   06/07/20 |         16        0.26       16.89
   06/08/20 |         18        0.29       17.18
   06/09/20 |         21        0.34       17.52
   06/10/20 |         24        0.39       17.91
   06/11/20 |         26        0.42       18.34
   06/12/20 |         28        0.46       18.79
   07/01/20 |          9        0.15       18.94
   07/02/20 |          8        0.13       19.07
   07/03/20 |          8        0.13       19.20
   07/04/20 |          9        0.15       19.35
   07/05/20 |         11        0.18       19.52
   07/06/20 |         16        0.26       19.79
   07/07/20 |         16        0.26       20.05
   07/08/20 |         18        0.29       20.34
   07/09/20 |         21        0.34       20.68
   07/10/20 |         24        0.39       21.07
   07/11/20 |         26        0.42       21.49
   07/12/20 |         28        0.46       21.95
   08/01/20 |          9        0.15       22.10
   08/02/20 |          8        0.13       22.23
   08/03/20 |          8        0.13       22.36
   08/04/20 |          9        0.15       22.50
   08/05/20 |         11        0.18       22.68
   08/06/20 |         16        0.26       22.94
   08/07/20 |         16        0.26       23.20
   08/08/20 |         18        0.29       23.49
   08/09/20 |         21        0.34       23.84
   08/10/20 |         24        0.39       24.23
   08/11/20 |         26        0.42       24.65
   08/12/20 |         28        0.46       25.11
   09/01/20 |          9        0.15       25.25
   09/02/20 |          8        0.13       25.38
   09/03/20 |          8        0.13       25.51
   09/04/20 |          9        0.15       25.66
   09/05/20 |         11        0.18       25.84
   09/06/20 |         16        0.26       26.10
   09/07/20 |         16        0.26       26.36
   09/08/20 |         18        0.29       26.65
   09/09/20 |         21        0.34       26.99
   09/10/20 |         24        0.39       27.38
   09/11/20 |         26        0.42       27.81
   09/12/20 |         28        0.46       28.26
   10/01/20 |          9        0.15       28.41
   10/02/20 |          8        0.13       28.54
   10/03/20 |          8        0.13       28.67
   10/04/20 |          9        0.15       28.82
   10/05/20 |         11        0.18       28.99
   10/06/20 |         16        0.26       29.25
   10/07/20 |         16        0.26       29.52
   10/08/20 |         19        0.31       29.82
   10/09/20 |         21        0.34       30.17
   10/10/20 |         24        0.39       30.56
   10/11/20 |         26        0.42       30.98
   10/12/20 |         28        0.46       31.44
   11/01/20 |          9        0.15       31.58
   11/02/20 |          8        0.13       31.71
   11/03/20 |          8        0.13       31.84
   11/04/20 |          9        0.15       31.99
   11/05/20 |         13        0.21       32.20
   11/06/20 |         16        0.26       32.46
   11/07/20 |         16        0.26       32.72
   11/08/20 |         19        0.31       33.03
   11/09/20 |         21        0.34       33.37
   11/10/20 |         24        0.39       33.76
   11/11/20 |         26        0.42       34.18
   11/12/20 |         28        0.46       34.64
   12/01/20 |          9        0.15       34.79
   12/02/20 |          8        0.13       34.92
   12/03/20 |          8        0.13       35.05
   12/04/20 |          9        0.15       35.19
   12/05/20 |         14        0.23       35.42
   12/06/20 |         16        0.26       35.68
   12/07/20 |         16        0.26       35.94
   12/08/20 |         19        0.31       36.25
   12/09/20 |         21        0.34       36.59
   12/10/20 |         24        0.39       36.98
   12/11/20 |         26        0.42       37.41
   12/12/20 |         29        0.47       37.88
   13/01/20 |          9        0.15       38.02
   13/02/20 |          8        0.13       38.15
   13/03/20 |          8        0.13       38.29
   13/04/20 |          9        0.15       38.43
   13/05/20 |         15        0.24       38.68
   13/06/20 |         16        0.26       38.94
   13/07/20 |         16        0.26       39.20
   13/08/20 |         19        0.31       39.51
   13/09/20 |         21        0.34       39.85
   13/10/20 |         24        0.39       40.24
   13/11/20 |         26        0.42       40.66
   13/12/20 |         29        0.47       41.13
   14/01/20 |          9        0.15       41.28
   14/02/20 |          8        0.13       41.41
   14/03/20 |          8        0.13       41.54
   14/04/20 |          9        0.15       41.69
   14/05/20 |         15        0.24       41.93
   14/06/20 |         15        0.24       42.17
   14/07/20 |         17        0.28       42.45
   14/08/20 |         19        0.31       42.76
   14/09/20 |         21        0.34       43.10
   14/10/20 |         24        0.39       43.49
   14/11/20 |         26        0.42       43.91
   14/12/20 |         30        0.49       44.40
   15/01/20 |          9        0.15       44.55
   15/02/20 |          8        0.13       44.68
   15/03/20 |          8        0.13       44.81
   15/04/20 |          9        0.15       44.96
   15/05/20 |         15        0.24       45.20
   15/06/20 |         16        0.26       45.46
   15/07/20 |         17        0.28       45.74
   15/08/20 |         19        0.31       46.05
   15/09/20 |         21        0.34       46.39
   15/10/20 |         24        0.39       46.78
   15/11/20 |         26        0.42       47.20
   15/12/20 |         30        0.49       47.69
   16/01/20 |          9        0.15       47.84
   16/02/20 |          8        0.13       47.97
   16/03/20 |          8        0.13       48.10
   16/04/20 |          9        0.15       48.24
   16/05/20 |         15        0.24       48.49
   16/06/20 |         16        0.26       48.75
   16/07/20 |         17        0.28       49.02
   16/08/20 |         19        0.31       49.33
   16/09/20 |         21        0.34       49.67
   16/10/20 |         24        0.39       50.07
   16/11/20 |         26        0.42       50.49
   16/12/20 |         30        0.49       50.98
   17/01/20 |          9        0.15       51.12
   17/02/20 |          8        0.13       51.25
   17/03/20 |          8        0.13       51.38
   17/04/20 |          9        0.15       51.53
   17/05/20 |         15        0.24       51.77
   17/06/20 |         16        0.26       52.03
   17/07/20 |         17        0.28       52.31
   17/08/20 |         19        0.31       52.62
   17/09/20 |         21        0.34       52.96
   17/10/20 |         24        0.39       53.35
   17/11/20 |         26        0.42       53.77
   17/12/20 |         30        0.49       54.26
   18/01/20 |          9        0.15       54.41
   18/02/20 |          8        0.13       54.54
   18/03/20 |          8        0.13       54.67
   18/04/20 |          9        0.15       54.82
   18/05/20 |         15        0.24       55.06
   18/06/20 |         16        0.26       55.32
   18/07/20 |         17        0.28       55.60
   18/08/20 |         19        0.31       55.91
   18/09/20 |         21        0.34       56.25
   18/10/20 |         24        0.39       56.64
   18/11/20 |         26        0.42       57.06
   18/12/20 |         30        0.49       57.55
   19/01/20 |          9        0.15       57.70
   19/02/20 |          8        0.13       57.83
   19/03/20 |          8        0.13       57.96
   19/04/20 |          9        0.15       58.10
   19/05/20 |         15        0.24       58.35
   19/06/20 |         16        0.26       58.61
   19/07/20 |         17        0.28       58.88
   19/08/20 |         20        0.33       59.21
   19/09/20 |         22        0.36       59.57
   19/10/20 |         24        0.39       59.96
   19/11/20 |         26        0.42       60.38
   19/12/20 |         30        0.49       60.87
   20/01/20 |          8        0.13       61.00
   20/02/20 |          8        0.13       61.13
   20/03/20 |          8        0.13       61.26
   20/04/20 |          9        0.15       61.41
   20/05/20 |         15        0.24       61.65
   20/06/20 |         16        0.26       61.91
   20/07/20 |         17        0.28       62.19
   20/08/20 |         20        0.33       62.51
   20/09/20 |         22        0.36       62.87
   20/10/20 |         24        0.39       63.26
   20/11/20 |         27        0.44       63.70
   20/12/20 |         30        0.49       64.19
   21/01/20 |          8        0.13       64.32
   21/02/20 |          8        0.13       64.45
   21/03/20 |          8        0.13       64.58
   21/04/20 |          9        0.15       64.73
   21/05/20 |         15        0.24       64.97
   21/06/20 |         16        0.26       65.23
   21/07/20 |         17        0.28       65.51
   21/08/20 |         20        0.33       65.83
   21/09/20 |         23        0.37       66.21
   21/10/20 |         24        0.39       66.60
   21/11/20 |         27        0.44       67.04
   21/12/20 |         30        0.49       67.52
   22/01/20 |          8        0.13       67.65
   22/02/20 |          8        0.13       67.78
   22/03/20 |          8        0.13       67.91
   22/04/20 |          9        0.15       68.06
   22/05/20 |         15        0.24       68.30
   22/06/20 |         16        0.26       68.56
   22/07/20 |         17        0.28       68.84
   22/08/20 |         20        0.33       69.17
   22/09/20 |         23        0.37       69.54
   22/10/20 |         24        0.39       69.93
   22/11/20 |         27        0.44       70.37
   22/12/20 |         30        0.49       70.86
   23/01/20 |          8        0.13       70.99
   23/02/20 |          8        0.13       71.12
   23/03/20 |          8        0.13       71.25
   23/04/20 |          9        0.15       71.40
   23/05/20 |         15        0.24       71.64
   23/06/20 |         16        0.26       71.90
   23/07/20 |         17        0.28       72.18
   23/08/20 |         21        0.34       72.52
   23/09/20 |         23        0.37       72.89
   23/10/20 |         24        0.39       73.28
   23/11/20 |         27        0.44       73.72
   23/12/20 |         30        0.49       74.21
   24/01/20 |          8        0.13       74.34
   24/02/20 |          8        0.13       74.47
   24/03/20 |          8        0.13       74.60
   24/04/20 |         10        0.16       74.76
   24/05/20 |         15        0.24       75.01
   24/06/20 |         16        0.26       75.27
   24/07/20 |         17        0.28       75.55
   24/08/20 |         21        0.34       75.89
   24/09/20 |         23        0.37       76.26
   24/10/20 |         24        0.39       76.65
   24/11/20 |         27        0.44       77.09
   24/12/20 |         30        0.49       77.58
   25/01/20 |          8        0.13       77.71
   25/02/20 |          8        0.13       77.84
   25/03/20 |          8        0.13       77.97
   25/04/20 |         10        0.16       78.13
   25/05/20 |         15        0.24       78.38
   25/06/20 |         16        0.26       78.64
   25/07/20 |         17        0.28       78.91
   25/08/20 |         21        0.34       79.25
   25/09/20 |         23        0.37       79.63
   25/10/20 |         24        0.39       80.02
   25/11/20 |         28        0.46       80.48
   25/12/20 |         30        0.49       80.96
   26/01/20 |          8        0.13       81.09
   26/02/20 |          8        0.13       81.22
   26/03/20 |          8        0.13       81.35
   26/04/20 |         10        0.16       81.52
   26/05/20 |         16        0.26       81.78
   26/06/20 |         16        0.26       82.04
   26/07/20 |         17        0.28       82.31
   26/08/20 |         21        0.34       82.66
   26/09/20 |         23        0.37       83.03
   26/10/20 |         24        0.39       83.42
   26/11/20 |         28        0.46       83.88
   26/12/20 |         30        0.49       84.36
   27/01/20 |          8        0.13       84.49
   27/02/20 |          8        0.13       84.62
   27/03/20 |          8        0.13       84.75
   27/04/20 |         10        0.16       84.92
   27/05/20 |         16        0.26       85.18
   27/06/20 |         16        0.26       85.44
   27/07/20 |         17        0.28       85.71
   27/08/20 |         21        0.34       86.06
   27/09/20 |         23        0.37       86.43
   27/10/20 |         24        0.39       86.82
   27/11/20 |         28        0.46       87.28
   27/12/20 |         30        0.49       87.76
   28/01/20 |          8        0.13       87.89
   28/02/20 |          8        0.13       88.02
   28/03/20 |          8        0.13       88.15
   28/04/20 |         10        0.16       88.32
   28/05/20 |         16        0.26       88.58
   28/06/20 |         16        0.26       88.84
   28/07/20 |         17        0.28       89.11
   28/08/20 |         21        0.34       89.46
   28/09/20 |         23        0.37       89.83
   28/10/20 |         24        0.39       90.22
   28/11/20 |         28        0.46       90.68
   28/12/20 |         30        0.49       91.16
   29/01/20 |          8        0.13       91.30
   29/02/20 |          8        0.13       91.43
   29/03/20 |          9        0.15       91.57
   29/04/20 |         10        0.16       91.73
   29/05/20 |         16        0.26       91.99
   29/06/20 |         16        0.26       92.26
   29/07/20 |         17        0.28       92.53
   29/08/20 |         21        0.34       92.87
   29/09/20 |         23        0.37       93.25
   29/10/20 |         26        0.42       93.67
   29/11/20 |         28        0.46       94.13
   29/12/20 |         30        0.49       94.61
   30/01/20 |          8        0.13       94.74
   30/03/20 |          9        0.15       94.89
   30/04/20 |         10        0.16       95.05
   30/05/20 |         16        0.26       95.31
   30/06/20 |         16        0.26       95.57
   30/07/20 |         17        0.28       95.85
   30/08/20 |         21        0.34       96.19
   30/09/20 |         23        0.37       96.57
   30/10/20 |         26        0.42       96.99
   30/11/20 |         28        0.46       97.45
   30/12/20 |         30        0.49       97.93
   31/01/20 |          8        0.13       98.06
   31/03/20 |          9        0.15       98.21
   31/05/20 |         16        0.26       98.47
   31/07/20 |         17        0.28       98.75
   31/08/20 |         21        0.34       99.09
   31/10/20 |         26        0.42       99.51
   31/12/20 |         30        0.49      100.00
------------+-----------------------------------
      Total |      6,146      100.00

.                         ren date date_str

.                         gen day = substr(date_str,1,2)

.                         gen month = substr(date_str,4,2)

.                         gen year = substr(date_str,7,2)

.                         destring day month year, replace
day: all characters numeric; replaced as byte
month: all characters numeric; replaced as byte
year: all characters numeric; replaced as byte

.                         replace year=2020 if year==20
variable year was byte now int
(6,146 real changes made)

.                         gen date = mdy(month, day, year)

.                                 format date %tdDD/NN/YY

.                         tab date

       date |      Freq.     Percent        Cum.
------------+-----------------------------------
   01/01/20 |          9        0.15        0.15
   02/01/20 |          9        0.15        0.29
   03/01/20 |          9        0.15        0.44
   04/01/20 |          9        0.15        0.59
   05/01/20 |          9        0.15        0.73
   06/01/20 |          9        0.15        0.88
   07/01/20 |          9        0.15        1.03
   08/01/20 |          9        0.15        1.17
   09/01/20 |          9        0.15        1.32
   10/01/20 |          9        0.15        1.46
   11/01/20 |          9        0.15        1.61
   12/01/20 |          9        0.15        1.76
   13/01/20 |          9        0.15        1.90
   14/01/20 |          9        0.15        2.05
   15/01/20 |          9        0.15        2.20
   16/01/20 |          9        0.15        2.34
   17/01/20 |          9        0.15        2.49
   18/01/20 |          9        0.15        2.64
   19/01/20 |          9        0.15        2.78
   20/01/20 |          8        0.13        2.91
   21/01/20 |          8        0.13        3.04
   22/01/20 |          8        0.13        3.17
   23/01/20 |          8        0.13        3.30
   24/01/20 |          8        0.13        3.43
   25/01/20 |          8        0.13        3.56
   26/01/20 |          8        0.13        3.69
   27/01/20 |          8        0.13        3.82
   28/01/20 |          8        0.13        3.95
   29/01/20 |          8        0.13        4.08
   30/01/20 |          8        0.13        4.21
   31/01/20 |          8        0.13        4.34
   01/02/20 |          8        0.13        4.47
   02/02/20 |          8        0.13        4.60
   03/02/20 |          8        0.13        4.73
   04/02/20 |          8        0.13        4.86
   05/02/20 |          8        0.13        5.00
   06/02/20 |          8        0.13        5.13
   07/02/20 |          8        0.13        5.26
   08/02/20 |          8        0.13        5.39
   09/02/20 |          8        0.13        5.52
   10/02/20 |          8        0.13        5.65
   11/02/20 |          8        0.13        5.78
   12/02/20 |          8        0.13        5.91
   13/02/20 |          8        0.13        6.04
   14/02/20 |          8        0.13        6.17
   15/02/20 |          8        0.13        6.30
   16/02/20 |          8        0.13        6.43
   17/02/20 |          8        0.13        6.56
   18/02/20 |          8        0.13        6.69
   19/02/20 |          8        0.13        6.82
   20/02/20 |          8        0.13        6.95
   21/02/20 |          8        0.13        7.08
   22/02/20 |          8        0.13        7.21
   23/02/20 |          8        0.13        7.34
   24/02/20 |          8        0.13        7.47
   25/02/20 |          8        0.13        7.60
   26/02/20 |          8        0.13        7.73
   27/02/20 |          8        0.13        7.86
   28/02/20 |          8        0.13        7.99
   29/02/20 |          8        0.13        8.12
   01/03/20 |          8        0.13        8.25
   02/03/20 |          8        0.13        8.38
   03/03/20 |          8        0.13        8.51
   04/03/20 |          8        0.13        8.64
   05/03/20 |          8        0.13        8.77
   06/03/20 |          8        0.13        8.90
   07/03/20 |          8        0.13        9.03
   08/03/20 |          8        0.13        9.16
   09/03/20 |          8        0.13        9.29
   10/03/20 |          8        0.13        9.42
   11/03/20 |          8        0.13        9.55
   12/03/20 |          8        0.13        9.68
   13/03/20 |          8        0.13        9.81
   14/03/20 |          8        0.13        9.94
   15/03/20 |          8        0.13       10.07
   16/03/20 |          8        0.13       10.20
   17/03/20 |          8        0.13       10.33
   18/03/20 |          8        0.13       10.46
   19/03/20 |          8        0.13       10.59
   20/03/20 |          8        0.13       10.72
   21/03/20 |          8        0.13       10.85
   22/03/20 |          8        0.13       10.98
   23/03/20 |          8        0.13       11.11
   24/03/20 |          8        0.13       11.24
   25/03/20 |          8        0.13       11.37
   26/03/20 |          8        0.13       11.50
   27/03/20 |          8        0.13       11.63
   28/03/20 |          8        0.13       11.76
   29/03/20 |          9        0.15       11.91
   30/03/20 |          9        0.15       12.06
   31/03/20 |          9        0.15       12.20
   01/04/20 |          9        0.15       12.35
   02/04/20 |          9        0.15       12.50
   03/04/20 |          9        0.15       12.64
   04/04/20 |          9        0.15       12.79
   05/04/20 |          9        0.15       12.94
   06/04/20 |          9        0.15       13.08
   07/04/20 |          9        0.15       13.23
   08/04/20 |          9        0.15       13.37
   09/04/20 |          9        0.15       13.52
   10/04/20 |          9        0.15       13.67
   11/04/20 |          9        0.15       13.81
   12/04/20 |          9        0.15       13.96
   13/04/20 |          9        0.15       14.11
   14/04/20 |          9        0.15       14.25
   15/04/20 |          9        0.15       14.40
   16/04/20 |          9        0.15       14.55
   17/04/20 |          9        0.15       14.69
   18/04/20 |          9        0.15       14.84
   19/04/20 |          9        0.15       14.99
   20/04/20 |          9        0.15       15.13
   21/04/20 |          9        0.15       15.28
   22/04/20 |          9        0.15       15.42
   23/04/20 |          9        0.15       15.57
   24/04/20 |         10        0.16       15.73
   25/04/20 |         10        0.16       15.90
   26/04/20 |         10        0.16       16.06
   27/04/20 |         10        0.16       16.22
   28/04/20 |         10        0.16       16.38
   29/04/20 |         10        0.16       16.55
   30/04/20 |         10        0.16       16.71
   01/05/20 |         10        0.16       16.87
   02/05/20 |         10        0.16       17.04
   03/05/20 |         11        0.18       17.21
   04/05/20 |         11        0.18       17.39
   05/05/20 |         11        0.18       17.57
   06/05/20 |         11        0.18       17.75
   07/05/20 |         11        0.18       17.93
   08/05/20 |         11        0.18       18.11
   09/05/20 |         11        0.18       18.29
   10/05/20 |         11        0.18       18.47
   11/05/20 |         13        0.21       18.68
   12/05/20 |         14        0.23       18.91
   13/05/20 |         15        0.24       19.15
   14/05/20 |         15        0.24       19.39
   15/05/20 |         15        0.24       19.64
   16/05/20 |         15        0.24       19.88
   17/05/20 |         15        0.24       20.13
   18/05/20 |         15        0.24       20.37
   19/05/20 |         15        0.24       20.62
   20/05/20 |         15        0.24       20.86
   21/05/20 |         15        0.24       21.10
   22/05/20 |         15        0.24       21.35
   23/05/20 |         15        0.24       21.59
   24/05/20 |         15        0.24       21.84
   25/05/20 |         15        0.24       22.08
   26/05/20 |         16        0.26       22.34
   27/05/20 |         16        0.26       22.60
   28/05/20 |         16        0.26       22.86
   29/05/20 |         16        0.26       23.12
   30/05/20 |         16        0.26       23.38
   31/05/20 |         16        0.26       23.64
   01/06/20 |         16        0.26       23.90
   02/06/20 |         16        0.26       24.16
   03/06/20 |         16        0.26       24.42
   04/06/20 |         16        0.26       24.68
   05/06/20 |         16        0.26       24.94
   06/06/20 |         16        0.26       25.20
   07/06/20 |         16        0.26       25.46
   08/06/20 |         16        0.26       25.72
   09/06/20 |         16        0.26       25.98
   10/06/20 |         16        0.26       26.24
   11/06/20 |         16        0.26       26.51
   12/06/20 |         16        0.26       26.77
   13/06/20 |         16        0.26       27.03
   14/06/20 |         15        0.24       27.27
   15/06/20 |         16        0.26       27.53
   16/06/20 |         16        0.26       27.79
   17/06/20 |         16        0.26       28.05
   18/06/20 |         16        0.26       28.31
   19/06/20 |         16        0.26       28.57
   20/06/20 |         16        0.26       28.83
   21/06/20 |         16        0.26       29.09
   22/06/20 |         16        0.26       29.35
   23/06/20 |         16        0.26       29.61
   24/06/20 |         16        0.26       29.87
   25/06/20 |         16        0.26       30.13
   26/06/20 |         16        0.26       30.39
   27/06/20 |         16        0.26       30.65
   28/06/20 |         16        0.26       30.91
   29/06/20 |         16        0.26       31.17
   30/06/20 |         16        0.26       31.44
   01/07/20 |         16        0.26       31.70
   02/07/20 |         16        0.26       31.96
   03/07/20 |         16        0.26       32.22
   04/07/20 |         16        0.26       32.48
   05/07/20 |         16        0.26       32.74
   06/07/20 |         16        0.26       33.00
   07/07/20 |         16        0.26       33.26
   08/07/20 |         16        0.26       33.52
   09/07/20 |         16        0.26       33.78
   10/07/20 |         16        0.26       34.04
   11/07/20 |         16        0.26       34.30
   12/07/20 |         16        0.26       34.56
   13/07/20 |         16        0.26       34.82
   14/07/20 |         17        0.28       35.10
   15/07/20 |         17        0.28       35.37
   16/07/20 |         17        0.28       35.65
   17/07/20 |         17        0.28       35.93
   18/07/20 |         17        0.28       36.20
   19/07/20 |         17        0.28       36.48
   20/07/20 |         17        0.28       36.76
   21/07/20 |         17        0.28       37.03
   22/07/20 |         17        0.28       37.31
   23/07/20 |         17        0.28       37.59
   24/07/20 |         17        0.28       37.86
   25/07/20 |         17        0.28       38.14
   26/07/20 |         17        0.28       38.42
   27/07/20 |         17        0.28       38.69
   28/07/20 |         17        0.28       38.97
   29/07/20 |         17        0.28       39.25
   30/07/20 |         17        0.28       39.52
   31/07/20 |         17        0.28       39.80
   01/08/20 |         17        0.28       40.07
   02/08/20 |         18        0.29       40.37
   03/08/20 |         18        0.29       40.66
   04/08/20 |         18        0.29       40.95
   05/08/20 |         18        0.29       41.25
   06/08/20 |         18        0.29       41.54
   07/08/20 |         18        0.29       41.83
   08/08/20 |         18        0.29       42.12
   09/08/20 |         18        0.29       42.42
   10/08/20 |         19        0.31       42.73
   11/08/20 |         19        0.31       43.04
   12/08/20 |         19        0.31       43.35
   13/08/20 |         19        0.31       43.65
   14/08/20 |         19        0.31       43.96
   15/08/20 |         19        0.31       44.27
   16/08/20 |         19        0.31       44.58
   17/08/20 |         19        0.31       44.89
   18/08/20 |         19        0.31       45.20
   19/08/20 |         20        0.33       45.53
   20/08/20 |         20        0.33       45.85
   21/08/20 |         20        0.33       46.18
   22/08/20 |         20        0.33       46.50
   23/08/20 |         21        0.34       46.84
   24/08/20 |         21        0.34       47.19
   25/08/20 |         21        0.34       47.53
   26/08/20 |         21        0.34       47.87
   27/08/20 |         21        0.34       48.21
   28/08/20 |         21        0.34       48.55
   29/08/20 |         21        0.34       48.89
   30/08/20 |         21        0.34       49.24
   31/08/20 |         21        0.34       49.58
   01/09/20 |         21        0.34       49.92
   02/09/20 |         21        0.34       50.26
   03/09/20 |         21        0.34       50.60
   04/09/20 |         21        0.34       50.94
   05/09/20 |         21        0.34       51.29
   06/09/20 |         21        0.34       51.63
   07/09/20 |         21        0.34       51.97
   08/09/20 |         21        0.34       52.31
   09/09/20 |         21        0.34       52.65
   10/09/20 |         21        0.34       52.99
   11/09/20 |         21        0.34       53.34
   12/09/20 |         21        0.34       53.68
   13/09/20 |         21        0.34       54.02
   14/09/20 |         21        0.34       54.36
   15/09/20 |         21        0.34       54.70
   16/09/20 |         21        0.34       55.04
   17/09/20 |         21        0.34       55.39
   18/09/20 |         21        0.34       55.73
   19/09/20 |         22        0.36       56.09
   20/09/20 |         22        0.36       56.44
   21/09/20 |         23        0.37       56.82
   22/09/20 |         23        0.37       57.19
   23/09/20 |         23        0.37       57.57
   24/09/20 |         23        0.37       57.94
   25/09/20 |         23        0.37       58.31
   26/09/20 |         23        0.37       58.69
   27/09/20 |         23        0.37       59.06
   28/09/20 |         23        0.37       59.44
   29/09/20 |         23        0.37       59.81
   30/09/20 |         23        0.37       60.19
   01/10/20 |         23        0.37       60.56
   02/10/20 |         23        0.37       60.93
   03/10/20 |         23        0.37       61.31
   04/10/20 |         23        0.37       61.68
   05/10/20 |         23        0.37       62.06
   06/10/20 |         24        0.39       62.45
   07/10/20 |         24        0.39       62.84
   08/10/20 |         24        0.39       63.23
   09/10/20 |         24        0.39       63.62
   10/10/20 |         24        0.39       64.01
   11/10/20 |         24        0.39       64.40
   12/10/20 |         24        0.39       64.79
   13/10/20 |         24        0.39       65.18
   14/10/20 |         24        0.39       65.57
   15/10/20 |         24        0.39       65.96
   16/10/20 |         24        0.39       66.35
   17/10/20 |         24        0.39       66.74
   18/10/20 |         24        0.39       67.13
   19/10/20 |         24        0.39       67.52
   20/10/20 |         24        0.39       67.91
   21/10/20 |         24        0.39       68.30
   22/10/20 |         24        0.39       68.70
   23/10/20 |         24        0.39       69.09
   24/10/20 |         24        0.39       69.48
   25/10/20 |         24        0.39       69.87
   26/10/20 |         24        0.39       70.26
   27/10/20 |         24        0.39       70.65
   28/10/20 |         24        0.39       71.04
   29/10/20 |         26        0.42       71.46
   30/10/20 |         26        0.42       71.88
   31/10/20 |         26        0.42       72.31
   01/11/20 |         26        0.42       72.73
   02/11/20 |         26        0.42       73.15
   03/11/20 |         26        0.42       73.58
   04/11/20 |         26        0.42       74.00
   05/11/20 |         25        0.41       74.41
   06/11/20 |         26        0.42       74.83
   07/11/20 |         26        0.42       75.25
   08/11/20 |         26        0.42       75.68
   09/11/20 |         26        0.42       76.10
   10/11/20 |         26        0.42       76.52
   11/11/20 |         26        0.42       76.94
   12/11/20 |         26        0.42       77.37
   13/11/20 |         26        0.42       77.79
   14/11/20 |         26        0.42       78.21
   15/11/20 |         26        0.42       78.64
   16/11/20 |         26        0.42       79.06
   17/11/20 |         26        0.42       79.48
   18/11/20 |         26        0.42       79.91
   19/11/20 |         26        0.42       80.33
   20/11/20 |         27        0.44       80.77
   21/11/20 |         27        0.44       81.21
   22/11/20 |         27        0.44       81.65
   23/11/20 |         27        0.44       82.09
   24/11/20 |         27        0.44       82.53
   25/11/20 |         28        0.46       82.98
   26/11/20 |         28        0.46       83.44
   27/11/20 |         28        0.46       83.89
   28/11/20 |         28        0.46       84.35
   29/11/20 |         28        0.46       84.80
   30/11/20 |         28        0.46       85.26
   01/12/20 |         28        0.46       85.71
   02/12/20 |         28        0.46       86.17
   03/12/20 |         28        0.46       86.63
   04/12/20 |         28        0.46       87.08
   05/12/20 |         28        0.46       87.54
   06/12/20 |         28        0.46       87.99
   07/12/20 |         28        0.46       88.45
   08/12/20 |         28        0.46       88.90
   09/12/20 |         28        0.46       89.36
   10/12/20 |         28        0.46       89.81
   11/12/20 |         28        0.46       90.27
   12/12/20 |         29        0.47       90.74
   13/12/20 |         29        0.47       91.21
   14/12/20 |         30        0.49       91.70
   15/12/20 |         30        0.49       92.19
   16/12/20 |         30        0.49       92.68
   17/12/20 |         30        0.49       93.17
   18/12/20 |         30        0.49       93.65
   19/12/20 |         30        0.49       94.14
   20/12/20 |         30        0.49       94.63
   21/12/20 |         30        0.49       95.12
   22/12/20 |         30        0.49       95.61
   23/12/20 |         30        0.49       96.10
   24/12/20 |         30        0.49       96.58
   25/12/20 |         30        0.49       97.07
   26/12/20 |         30        0.49       97.56
   27/12/20 |         30        0.49       98.05
   28/12/20 |         30        0.49       98.54
   29/12/20 |         30        0.49       99.02
   30/12/20 |         30        0.49       99.51
   31/12/20 |         30        0.49      100.00
------------+-----------------------------------
      Total |      6,146      100.00

.                         drop day month year date_str

.                         gen year = year(date)

.                         gen month = month(date)

.                         gen day = day(date)

.                         // save
.                         tempfile wfp2020

.                         save `wfp2020', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000w.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000w.tmp saved as .dta format

.                 
.                 import delimited using "$datain\food_security_timeseries_2021", clear
(encoding automatically selected: UTF-8)
(8 vars, 31,853 obs)

.                         * convert dates to Stata date format
.                         tab date

       date |      Freq.     Percent        Cum.
------------+-----------------------------------
   01/01/21 |         86        0.27        0.27
   01/02/21 |         86        0.27        0.54
   01/03/21 |         86        0.27        0.81
   01/04/21 |         86        0.27        1.08
   01/05/21 |         85        0.27        1.35
   01/06/21 |         85        0.27        1.61
   01/07/21 |         87        0.27        1.89
   01/08/21 |         87        0.27        2.16
   01/09/21 |         89        0.28        2.44
   01/10/21 |         89        0.28        2.72
   01/11/21 |         89        0.28        3.00
   01/12/21 |         89        0.28        3.28
   02/01/21 |         86        0.27        3.55
   02/02/21 |         86        0.27        3.82
   02/03/21 |         86        0.27        4.09
   02/04/21 |         86        0.27        4.36
   02/05/21 |         85        0.27        4.62
   02/06/21 |         85        0.27        4.89
   02/07/21 |         87        0.27        5.16
   02/08/21 |         87        0.27        5.44
   02/09/21 |         89        0.28        5.72
   02/10/21 |         89        0.28        6.00
   02/11/21 |         89        0.28        6.28
   02/12/21 |         89        0.28        6.56
   03/01/21 |         86        0.27        6.83
   03/02/21 |         86        0.27        7.10
   03/03/21 |         86        0.27        7.37
   03/04/21 |         86        0.27        7.64
   03/05/21 |         85        0.27        7.90
   03/06/21 |         85        0.27        8.17
   03/07/21 |         87        0.27        8.44
   03/08/21 |         87        0.27        8.72
   03/09/21 |         89        0.28        8.99
   03/10/21 |         89        0.28        9.27
   03/11/21 |         89        0.28        9.55
   03/12/21 |         89        0.28        9.83
   04/01/21 |         86        0.27       10.10
   04/02/21 |         86        0.27       10.37
   04/03/21 |         86        0.27       10.64
   04/04/21 |         86        0.27       10.91
   04/05/21 |         85        0.27       11.18
   04/06/21 |         85        0.27       11.45
   04/07/21 |         87        0.27       11.72
   04/08/21 |         87        0.27       11.99
   04/09/21 |         89        0.28       12.27
   04/10/21 |         89        0.28       12.55
   04/11/21 |         89        0.28       12.83
   04/12/21 |         89        0.28       13.11
   05/01/21 |         86        0.27       13.38
   05/02/21 |         86        0.27       13.65
   05/03/21 |         86        0.27       13.92
   05/04/21 |         86        0.27       14.19
   05/05/21 |         85        0.27       14.46
   05/06/21 |         85        0.27       14.72
   05/07/21 |         87        0.27       15.00
   05/08/21 |         88        0.28       15.27
   05/09/21 |         89        0.28       15.55
   05/10/21 |         89        0.28       15.83
   05/11/21 |         89        0.28       16.11
   05/12/21 |         89        0.28       16.39
   06/01/21 |         86        0.27       16.66
   06/02/21 |         86        0.27       16.93
   06/03/21 |         86        0.27       17.20
   06/04/21 |         86        0.27       17.47
   06/05/21 |         85        0.27       17.74
   06/06/21 |         86        0.27       18.01
   06/07/21 |         87        0.27       18.28
   06/08/21 |         88        0.28       18.56
   06/09/21 |         89        0.28       18.84
   06/10/21 |         89        0.28       19.12
   06/11/21 |         89        0.28       19.40
   06/12/21 |         89        0.28       19.67
   07/01/21 |         86        0.27       19.94
   07/02/21 |         86        0.27       20.21
   07/03/21 |         86        0.27       20.48
   07/04/21 |         86        0.27       20.75
   07/05/21 |         85        0.27       21.02
   07/06/21 |         86        0.27       21.29
   07/07/21 |         87        0.27       21.56
   07/08/21 |         88        0.28       21.84
   07/09/21 |         89        0.28       22.12
   07/10/21 |         89        0.28       22.40
   07/11/21 |         89        0.28       22.68
   07/12/21 |         89        0.28       22.96
   08/01/21 |         86        0.27       23.23
   08/02/21 |         86        0.27       23.50
   08/03/21 |         86        0.27       23.77
   08/04/21 |         86        0.27       24.04
   08/05/21 |         85        0.27       24.31
   08/06/21 |         87        0.27       24.58
   08/07/21 |         87        0.27       24.85
   08/08/21 |         88        0.28       25.13
   08/09/21 |         89        0.28       25.41
   08/10/21 |         89        0.28       25.69
   08/11/21 |         89        0.28       25.97
   08/12/21 |         89        0.28       26.25
   09/01/21 |         86        0.27       26.52
   09/02/21 |         86        0.27       26.79
   09/03/21 |         86        0.27       27.06
   09/04/21 |         86        0.27       27.33
   09/05/21 |         85        0.27       27.59
   09/06/21 |         87        0.27       27.87
   09/07/21 |         87        0.27       28.14
   09/08/21 |         88        0.28       28.41
   09/09/21 |         89        0.28       28.69
   09/10/21 |         89        0.28       28.97
   09/11/21 |         89        0.28       29.25
   09/12/21 |         89        0.28       29.53
   10/01/21 |         86        0.27       29.80
   10/02/21 |         86        0.27       30.07
   10/03/21 |         86        0.27       30.34
   10/04/21 |         86        0.27       30.61
   10/05/21 |         85        0.27       30.88
   10/06/21 |         87        0.27       31.15
   10/07/21 |         87        0.27       31.43
   10/08/21 |         88        0.28       31.70
   10/09/21 |         89        0.28       31.98
   10/10/21 |         89        0.28       32.26
   10/11/21 |         89        0.28       32.54
   10/12/21 |         89        0.28       32.82
   11/01/21 |         86        0.27       33.09
   11/02/21 |         86        0.27       33.36
   11/03/21 |         86        0.27       33.63
   11/04/21 |         86        0.27       33.90
   11/05/21 |         85        0.27       34.17
   11/06/21 |         87        0.27       34.44
   11/07/21 |         87        0.27       34.71
   11/08/21 |         88        0.28       34.99
   11/09/21 |         89        0.28       35.27
   11/10/21 |         89        0.28       35.55
   11/11/21 |         89        0.28       35.83
   11/12/21 |         89        0.28       36.11
   12/01/21 |         86        0.27       36.38
   12/02/21 |         86        0.27       36.65
   12/03/21 |         86        0.27       36.92
   12/04/21 |         86        0.27       37.19
   12/05/21 |         85        0.27       37.45
   12/06/21 |         87        0.27       37.73
   12/07/21 |         87        0.27       38.00
   12/08/21 |         88        0.28       38.28
   12/09/21 |         89        0.28       38.56
   12/10/21 |         89        0.28       38.83
   12/11/21 |         89        0.28       39.11
   12/12/21 |         89        0.28       39.39
   13/01/21 |         86        0.27       39.66
   13/02/21 |         86        0.27       39.93
   13/03/21 |         86        0.27       40.20
   13/04/21 |         86        0.27       40.47
   13/05/21 |         85        0.27       40.74
   13/06/21 |         87        0.27       41.01
   13/07/21 |         87        0.27       41.29
   13/08/21 |         88        0.28       41.56
   13/09/21 |         89        0.28       41.84
   13/10/21 |         89        0.28       42.12
   13/11/21 |         89        0.28       42.40
   13/12/21 |         89        0.28       42.68
   14/01/21 |         86        0.27       42.95
   14/02/21 |         86        0.27       43.22
   14/03/21 |         86        0.27       43.49
   14/04/21 |         86        0.27       43.76
   14/05/21 |         85        0.27       44.03
   14/06/21 |         87        0.27       44.30
   14/07/21 |         87        0.27       44.57
   14/08/21 |         89        0.28       44.85
   14/09/21 |         89        0.28       45.13
   14/10/21 |         89        0.28       45.41
   14/11/21 |         89        0.28       45.69
   14/12/21 |         89        0.28       45.97
   15/01/21 |         86        0.27       46.24
   15/02/21 |         86        0.27       46.51
   15/03/21 |         86        0.27       46.78
   15/04/21 |         86        0.27       47.05
   15/05/21 |         85        0.27       47.32
   15/06/21 |         87        0.27       47.59
   15/07/21 |         87        0.27       47.86
   15/08/21 |         89        0.28       48.14
   15/09/21 |         89        0.28       48.42
   15/10/21 |         89        0.28       48.70
   15/11/21 |         89        0.28       48.98
   15/12/21 |         89        0.28       49.26
   16/01/21 |         86        0.27       49.53
   16/02/21 |         86        0.27       49.80
   16/03/21 |         86        0.27       50.07
   16/04/21 |         86        0.27       50.34
   16/05/21 |         85        0.27       50.61
   16/06/21 |         87        0.27       50.88
   16/07/21 |         87        0.27       51.15
   16/08/21 |         89        0.28       51.43
   16/09/21 |         89        0.28       51.71
   16/10/21 |         89        0.28       51.99
   16/11/21 |         89        0.28       52.27
   16/12/21 |         89        0.28       52.55
   17/01/21 |         86        0.27       52.82
   17/02/21 |         86        0.27       53.09
   17/03/21 |         86        0.27       53.36
   17/04/21 |         86        0.27       53.63
   17/05/21 |         85        0.27       53.90
   17/06/21 |         87        0.27       54.17
   17/07/21 |         87        0.27       54.44
   17/08/21 |         89        0.28       54.72
   17/09/21 |         89        0.28       55.00
   17/10/21 |         89        0.28       55.28
   17/11/21 |         89        0.28       55.56
   17/12/21 |         89        0.28       55.84
   18/01/21 |         86        0.27       56.11
   18/02/21 |         86        0.27       56.38
   18/03/21 |         86        0.27       56.65
   18/04/21 |         86        0.27       56.92
   18/05/21 |         85        0.27       57.19
   18/06/21 |         87        0.27       57.46
   18/07/21 |         87        0.27       57.73
   18/08/21 |         89        0.28       58.01
   18/09/21 |         89        0.28       58.29
   18/10/21 |         89        0.28       58.57
   18/11/21 |         89        0.28       58.85
   18/12/21 |         89        0.28       59.13
   19/01/21 |         86        0.27       59.40
   19/02/21 |         86        0.27       59.67
   19/03/21 |         86        0.27       59.94
   19/04/21 |         86        0.27       60.21
   19/05/21 |         85        0.27       60.48
   19/06/21 |         87        0.27       60.75
   19/07/21 |         87        0.27       61.02
   19/08/21 |         89        0.28       61.30
   19/09/21 |         89        0.28       61.58
   19/10/21 |         89        0.28       61.86
   19/11/21 |         89        0.28       62.14
   19/12/21 |         89        0.28       62.42
   20/01/21 |         86        0.27       62.69
   20/02/21 |         86        0.27       62.96
   20/03/21 |         86        0.27       63.23
   20/04/21 |         86        0.27       63.50
   20/05/21 |         85        0.27       63.77
   20/06/21 |         87        0.27       64.04
   20/07/21 |         87        0.27       64.31
   20/08/21 |         89        0.28       64.59
   20/09/21 |         89        0.28       64.87
   20/10/21 |         89        0.28       65.15
   20/11/21 |         89        0.28       65.43
   20/12/21 |         89        0.28       65.71
   21/01/21 |         86        0.27       65.98
   21/02/21 |         86        0.27       66.25
   21/03/21 |         86        0.27       66.52
   21/04/21 |         86        0.27       66.79
   21/05/21 |         85        0.27       67.06
   21/06/21 |         87        0.27       67.33
   21/07/21 |         87        0.27       67.60
   21/08/21 |         89        0.28       67.88
   21/09/21 |         89        0.28       68.16
   21/10/21 |         89        0.28       68.44
   21/11/21 |         89        0.28       68.72
   21/12/21 |         89        0.28       69.00
   22/01/21 |         86        0.27       69.27
   22/02/21 |         86        0.27       69.54
   22/03/21 |         86        0.27       69.81
   22/04/21 |         86        0.27       70.08
   22/05/21 |         85        0.27       70.35
   22/06/21 |         87        0.27       70.62
   22/07/21 |         87        0.27       70.89
   22/08/21 |         89        0.28       71.17
   22/09/21 |         89        0.28       71.45
   22/10/21 |         89        0.28       71.73
   22/11/21 |         89        0.28       72.01
   22/12/21 |         89        0.28       72.29
   23/01/21 |         86        0.27       72.56
   23/02/21 |         86        0.27       72.83
   23/03/21 |         86        0.27       73.10
   23/04/21 |         86        0.27       73.37
   23/05/21 |         85        0.27       73.64
   23/06/21 |         87        0.27       73.91
   23/07/21 |         87        0.27       74.18
   23/08/21 |         89        0.28       74.46
   23/09/21 |         89        0.28       74.74
   23/10/21 |         89        0.28       75.02
   23/11/21 |         89        0.28       75.30
   23/12/21 |         89        0.28       75.58
   24/01/21 |         86        0.27       75.85
   24/02/21 |         86        0.27       76.12
   24/03/21 |         86        0.27       76.39
   24/04/21 |         86        0.27       76.66
   24/05/21 |         85        0.27       76.93
   24/06/21 |         87        0.27       77.20
   24/07/21 |         87        0.27       77.47
   24/08/21 |         89        0.28       77.75
   24/09/21 |         89        0.28       78.03
   24/10/21 |         89        0.28       78.31
   24/11/21 |         89        0.28       78.59
   24/12/21 |         89        0.28       78.87
   25/01/21 |         86        0.27       79.14
   25/02/21 |         86        0.27       79.41
   25/03/21 |         86        0.27       79.68
   25/04/21 |         86        0.27       79.95
   25/05/21 |         85        0.27       80.22
   25/06/21 |         87        0.27       80.49
   25/07/21 |         87        0.27       80.76
   25/08/21 |         89        0.28       81.04
   25/09/21 |         89        0.28       81.32
   25/10/21 |         89        0.28       81.60
   25/11/21 |         89        0.28       81.88
   25/12/21 |         89        0.28       82.16
   26/01/21 |         86        0.27       82.43
   26/02/21 |         86        0.27       82.70
   26/03/21 |         86        0.27       82.97
   26/04/21 |         86        0.27       83.24
   26/05/21 |         85        0.27       83.51
   26/06/21 |         87        0.27       83.78
   26/07/21 |         87        0.27       84.05
   26/08/21 |         89        0.28       84.33
   26/09/21 |         89        0.28       84.61
   26/10/21 |         89        0.28       84.89
   26/11/21 |         89        0.28       85.17
   26/12/21 |         89        0.28       85.45
   27/01/21 |         86        0.27       85.72
   27/02/21 |         86        0.27       85.99
   27/03/21 |         86        0.27       86.26
   27/04/21 |         86        0.27       86.53
   27/05/21 |         85        0.27       86.80
   27/06/21 |         87        0.27       87.07
   27/07/21 |         87        0.27       87.34
   27/08/21 |         89        0.28       87.62
   27/09/21 |         89        0.28       87.90
   27/10/21 |         89        0.28       88.18
   27/11/21 |         89        0.28       88.46
   27/12/21 |         89        0.28       88.74
   28/01/21 |         86        0.27       89.01
   28/02/21 |         86        0.27       89.28
   28/03/21 |         86        0.27       89.55
   28/04/21 |         86        0.27       89.82
   28/05/21 |         85        0.27       90.09
   28/06/21 |         87        0.27       90.36
   28/07/21 |         87        0.27       90.64
   28/08/21 |         89        0.28       90.91
   28/09/21 |         89        0.28       91.19
   28/10/21 |         89        0.28       91.47
   28/11/21 |         89        0.28       91.75
   28/12/21 |         89        0.28       92.03
   29/01/21 |         86        0.27       92.30
   29/03/21 |         86        0.27       92.57
   29/04/21 |         86        0.27       92.84
   29/05/21 |         85        0.27       93.11
   29/06/21 |         87        0.27       93.38
   29/07/21 |         87        0.27       93.66
   29/08/21 |         89        0.28       93.93
   29/09/21 |         89        0.28       94.21
   29/10/21 |         89        0.28       94.49
   29/11/21 |         89        0.28       94.77
   29/12/21 |         90        0.28       95.06
   30/01/21 |         86        0.27       95.33
   30/03/21 |         86        0.27       95.60
   30/04/21 |         86        0.27       95.87
   30/05/21 |         85        0.27       96.13
   30/06/21 |         87        0.27       96.41
   30/07/21 |         87        0.27       96.68
   30/08/21 |         89        0.28       96.96
   30/09/21 |         89        0.28       97.24
   30/10/21 |         89        0.28       97.52
   30/11/21 |         89        0.28       97.80
   30/12/21 |         90        0.28       98.08
   31/01/21 |         86        0.27       98.35
   31/03/21 |         86        0.27       98.62
   31/05/21 |         85        0.27       98.89
   31/07/21 |         87        0.27       99.16
   31/08/21 |         89        0.28       99.44
   31/10/21 |         89        0.28       99.72
   31/12/21 |         90        0.28      100.00
------------+-----------------------------------
      Total |     31,853      100.00

.                         ren date date_str

.                         gen day = substr(date_str,1,2)

.                         gen month = substr(date_str,4,2)

.                         gen year = substr(date_str,7,2)

.                         destring day month year, replace
day: all characters numeric; replaced as byte
month: all characters numeric; replaced as byte
year: all characters numeric; replaced as byte

.                         replace year=2021 if year==21
variable year was byte now int
(31,853 real changes made)

.                         gen date = mdy(month, day, year)

.                                 format date %tdDD/NN/YY

.                         tab date

       date |      Freq.     Percent        Cum.
------------+-----------------------------------
   01/01/21 |         86        0.27        0.27
   02/01/21 |         86        0.27        0.54
   03/01/21 |         86        0.27        0.81
   04/01/21 |         86        0.27        1.08
   05/01/21 |         86        0.27        1.35
   06/01/21 |         86        0.27        1.62
   07/01/21 |         86        0.27        1.89
   08/01/21 |         86        0.27        2.16
   09/01/21 |         86        0.27        2.43
   10/01/21 |         86        0.27        2.70
   11/01/21 |         86        0.27        2.97
   12/01/21 |         86        0.27        3.24
   13/01/21 |         86        0.27        3.51
   14/01/21 |         86        0.27        3.78
   15/01/21 |         86        0.27        4.05
   16/01/21 |         86        0.27        4.32
   17/01/21 |         86        0.27        4.59
   18/01/21 |         86        0.27        4.86
   19/01/21 |         86        0.27        5.13
   20/01/21 |         86        0.27        5.40
   21/01/21 |         86        0.27        5.67
   22/01/21 |         86        0.27        5.94
   23/01/21 |         86        0.27        6.21
   24/01/21 |         86        0.27        6.48
   25/01/21 |         86        0.27        6.75
   26/01/21 |         86        0.27        7.02
   27/01/21 |         86        0.27        7.29
   28/01/21 |         86        0.27        7.56
   29/01/21 |         86        0.27        7.83
   30/01/21 |         86        0.27        8.10
   31/01/21 |         86        0.27        8.37
   01/02/21 |         86        0.27        8.64
   02/02/21 |         86        0.27        8.91
   03/02/21 |         86        0.27        9.18
   04/02/21 |         86        0.27        9.45
   05/02/21 |         86        0.27        9.72
   06/02/21 |         86        0.27        9.99
   07/02/21 |         86        0.27       10.26
   08/02/21 |         86        0.27       10.53
   09/02/21 |         86        0.27       10.80
   10/02/21 |         86        0.27       11.07
   11/02/21 |         86        0.27       11.34
   12/02/21 |         86        0.27       11.61
   13/02/21 |         86        0.27       11.88
   14/02/21 |         86        0.27       12.15
   15/02/21 |         86        0.27       12.42
   16/02/21 |         86        0.27       12.69
   17/02/21 |         86        0.27       12.96
   18/02/21 |         86        0.27       13.23
   19/02/21 |         86        0.27       13.50
   20/02/21 |         86        0.27       13.77
   21/02/21 |         86        0.27       14.04
   22/02/21 |         86        0.27       14.31
   23/02/21 |         86        0.27       14.58
   24/02/21 |         86        0.27       14.85
   25/02/21 |         86        0.27       15.12
   26/02/21 |         86        0.27       15.39
   27/02/21 |         86        0.27       15.66
   28/02/21 |         86        0.27       15.93
   01/03/21 |         86        0.27       16.20
   02/03/21 |         86        0.27       16.47
   03/03/21 |         86        0.27       16.74
   04/03/21 |         86        0.27       17.01
   05/03/21 |         86        0.27       17.28
   06/03/21 |         86        0.27       17.55
   07/03/21 |         86        0.27       17.82
   08/03/21 |         86        0.27       18.09
   09/03/21 |         86        0.27       18.36
   10/03/21 |         86        0.27       18.63
   11/03/21 |         86        0.27       18.90
   12/03/21 |         86        0.27       19.17
   13/03/21 |         86        0.27       19.44
   14/03/21 |         86        0.27       19.71
   15/03/21 |         86        0.27       19.98
   16/03/21 |         86        0.27       20.25
   17/03/21 |         86        0.27       20.52
   18/03/21 |         86        0.27       20.79
   19/03/21 |         86        0.27       21.06
   20/03/21 |         86        0.27       21.33
   21/03/21 |         86        0.27       21.60
   22/03/21 |         86        0.27       21.87
   23/03/21 |         86        0.27       22.14
   24/03/21 |         86        0.27       22.41
   25/03/21 |         86        0.27       22.68
   26/03/21 |         86        0.27       22.95
   27/03/21 |         86        0.27       23.22
   28/03/21 |         86        0.27       23.49
   29/03/21 |         86        0.27       23.76
   30/03/21 |         86        0.27       24.03
   31/03/21 |         86        0.27       24.30
   01/04/21 |         86        0.27       24.57
   02/04/21 |         86        0.27       24.84
   03/04/21 |         86        0.27       25.11
   04/04/21 |         86        0.27       25.38
   05/04/21 |         86        0.27       25.65
   06/04/21 |         86        0.27       25.92
   07/04/21 |         86        0.27       26.19
   08/04/21 |         86        0.27       26.46
   09/04/21 |         86        0.27       26.73
   10/04/21 |         86        0.27       27.00
   11/04/21 |         86        0.27       27.27
   12/04/21 |         86        0.27       27.54
   13/04/21 |         86        0.27       27.81
   14/04/21 |         86        0.27       28.08
   15/04/21 |         86        0.27       28.35
   16/04/21 |         86        0.27       28.62
   17/04/21 |         86        0.27       28.89
   18/04/21 |         86        0.27       29.16
   19/04/21 |         86        0.27       29.43
   20/04/21 |         86        0.27       29.70
   21/04/21 |         86        0.27       29.97
   22/04/21 |         86        0.27       30.24
   23/04/21 |         86        0.27       30.51
   24/04/21 |         86        0.27       30.78
   25/04/21 |         86        0.27       31.05
   26/04/21 |         86        0.27       31.32
   27/04/21 |         86        0.27       31.59
   28/04/21 |         86        0.27       31.86
   29/04/21 |         86        0.27       32.13
   30/04/21 |         86        0.27       32.40
   01/05/21 |         85        0.27       32.67
   02/05/21 |         85        0.27       32.93
   03/05/21 |         85        0.27       33.20
   04/05/21 |         85        0.27       33.47
   05/05/21 |         85        0.27       33.73
   06/05/21 |         85        0.27       34.00
   07/05/21 |         85        0.27       34.27
   08/05/21 |         85        0.27       34.53
   09/05/21 |         85        0.27       34.80
   10/05/21 |         85        0.27       35.07
   11/05/21 |         85        0.27       35.33
   12/05/21 |         85        0.27       35.60
   13/05/21 |         85        0.27       35.87
   14/05/21 |         85        0.27       36.13
   15/05/21 |         85        0.27       36.40
   16/05/21 |         85        0.27       36.67
   17/05/21 |         85        0.27       36.94
   18/05/21 |         85        0.27       37.20
   19/05/21 |         85        0.27       37.47
   20/05/21 |         85        0.27       37.74
   21/05/21 |         85        0.27       38.00
   22/05/21 |         85        0.27       38.27
   23/05/21 |         85        0.27       38.54
   24/05/21 |         85        0.27       38.80
   25/05/21 |         85        0.27       39.07
   26/05/21 |         85        0.27       39.34
   27/05/21 |         85        0.27       39.60
   28/05/21 |         85        0.27       39.87
   29/05/21 |         85        0.27       40.14
   30/05/21 |         85        0.27       40.40
   31/05/21 |         85        0.27       40.67
   01/06/21 |         85        0.27       40.94
   02/06/21 |         85        0.27       41.20
   03/06/21 |         85        0.27       41.47
   04/06/21 |         85        0.27       41.74
   05/06/21 |         85        0.27       42.01
   06/06/21 |         86        0.27       42.28
   07/06/21 |         86        0.27       42.55
   08/06/21 |         87        0.27       42.82
   09/06/21 |         87        0.27       43.09
   10/06/21 |         87        0.27       43.36
   11/06/21 |         87        0.27       43.64
   12/06/21 |         87        0.27       43.91
   13/06/21 |         87        0.27       44.18
   14/06/21 |         87        0.27       44.46
   15/06/21 |         87        0.27       44.73
   16/06/21 |         87        0.27       45.00
   17/06/21 |         87        0.27       45.28
   18/06/21 |         87        0.27       45.55
   19/06/21 |         87        0.27       45.82
   20/06/21 |         87        0.27       46.10
   21/06/21 |         87        0.27       46.37
   22/06/21 |         87        0.27       46.64
   23/06/21 |         87        0.27       46.92
   24/06/21 |         87        0.27       47.19
   25/06/21 |         87        0.27       47.46
   26/06/21 |         87        0.27       47.73
   27/06/21 |         87        0.27       48.01
   28/06/21 |         87        0.27       48.28
   29/06/21 |         87        0.27       48.55
   30/06/21 |         87        0.27       48.83
   01/07/21 |         87        0.27       49.10
   02/07/21 |         87        0.27       49.37
   03/07/21 |         87        0.27       49.65
   04/07/21 |         87        0.27       49.92
   05/07/21 |         87        0.27       50.19
   06/07/21 |         87        0.27       50.47
   07/07/21 |         87        0.27       50.74
   08/07/21 |         87        0.27       51.01
   09/07/21 |         87        0.27       51.29
   10/07/21 |         87        0.27       51.56
   11/07/21 |         87        0.27       51.83
   12/07/21 |         87        0.27       52.10
   13/07/21 |         87        0.27       52.38
   14/07/21 |         87        0.27       52.65
   15/07/21 |         87        0.27       52.92
   16/07/21 |         87        0.27       53.20
   17/07/21 |         87        0.27       53.47
   18/07/21 |         87        0.27       53.74
   19/07/21 |         87        0.27       54.02
   20/07/21 |         87        0.27       54.29
   21/07/21 |         87        0.27       54.56
   22/07/21 |         87        0.27       54.84
   23/07/21 |         87        0.27       55.11
   24/07/21 |         87        0.27       55.38
   25/07/21 |         87        0.27       55.66
   26/07/21 |         87        0.27       55.93
   27/07/21 |         87        0.27       56.20
   28/07/21 |         87        0.27       56.48
   29/07/21 |         87        0.27       56.75
   30/07/21 |         87        0.27       57.02
   31/07/21 |         87        0.27       57.29
   01/08/21 |         87        0.27       57.57
   02/08/21 |         87        0.27       57.84
   03/08/21 |         87        0.27       58.11
   04/08/21 |         87        0.27       58.39
   05/08/21 |         88        0.28       58.66
   06/08/21 |         88        0.28       58.94
   07/08/21 |         88        0.28       59.22
   08/08/21 |         88        0.28       59.49
   09/08/21 |         88        0.28       59.77
   10/08/21 |         88        0.28       60.04
   11/08/21 |         88        0.28       60.32
   12/08/21 |         88        0.28       60.60
   13/08/21 |         88        0.28       60.87
   14/08/21 |         89        0.28       61.15
   15/08/21 |         89        0.28       61.43
   16/08/21 |         89        0.28       61.71
   17/08/21 |         89        0.28       61.99
   18/08/21 |         89        0.28       62.27
   19/08/21 |         89        0.28       62.55
   20/08/21 |         89        0.28       62.83
   21/08/21 |         89        0.28       63.11
   22/08/21 |         89        0.28       63.39
   23/08/21 |         89        0.28       63.67
   24/08/21 |         89        0.28       63.95
   25/08/21 |         89        0.28       64.23
   26/08/21 |         89        0.28       64.51
   27/08/21 |         89        0.28       64.79
   28/08/21 |         89        0.28       65.06
   29/08/21 |         89        0.28       65.34
   30/08/21 |         89        0.28       65.62
   31/08/21 |         89        0.28       65.90
   01/09/21 |         89        0.28       66.18
   02/09/21 |         89        0.28       66.46
   03/09/21 |         89        0.28       66.74
   04/09/21 |         89        0.28       67.02
   05/09/21 |         89        0.28       67.30
   06/09/21 |         89        0.28       67.58
   07/09/21 |         89        0.28       67.86
   08/09/21 |         89        0.28       68.14
   09/09/21 |         89        0.28       68.42
   10/09/21 |         89        0.28       68.70
   11/09/21 |         89        0.28       68.98
   12/09/21 |         89        0.28       69.26
   13/09/21 |         89        0.28       69.54
   14/09/21 |         89        0.28       69.81
   15/09/21 |         89        0.28       70.09
   16/09/21 |         89        0.28       70.37
   17/09/21 |         89        0.28       70.65
   18/09/21 |         89        0.28       70.93
   19/09/21 |         89        0.28       71.21
   20/09/21 |         89        0.28       71.49
   21/09/21 |         89        0.28       71.77
   22/09/21 |         89        0.28       72.05
   23/09/21 |         89        0.28       72.33
   24/09/21 |         89        0.28       72.61
   25/09/21 |         89        0.28       72.89
   26/09/21 |         89        0.28       73.17
   27/09/21 |         89        0.28       73.45
   28/09/21 |         89        0.28       73.73
   29/09/21 |         89        0.28       74.01
   30/09/21 |         89        0.28       74.28
   01/10/21 |         89        0.28       74.56
   02/10/21 |         89        0.28       74.84
   03/10/21 |         89        0.28       75.12
   04/10/21 |         89        0.28       75.40
   05/10/21 |         89        0.28       75.68
   06/10/21 |         89        0.28       75.96
   07/10/21 |         89        0.28       76.24
   08/10/21 |         89        0.28       76.52
   09/10/21 |         89        0.28       76.80
   10/10/21 |         89        0.28       77.08
   11/10/21 |         89        0.28       77.36
   12/10/21 |         89        0.28       77.64
   13/10/21 |         89        0.28       77.92
   14/10/21 |         89        0.28       78.20
   15/10/21 |         89        0.28       78.48
   16/10/21 |         89        0.28       78.76
   17/10/21 |         89        0.28       79.03
   18/10/21 |         89        0.28       79.31
   19/10/21 |         89        0.28       79.59
   20/10/21 |         89        0.28       79.87
   21/10/21 |         89        0.28       80.15
   22/10/21 |         89        0.28       80.43
   23/10/21 |         89        0.28       80.71
   24/10/21 |         89        0.28       80.99
   25/10/21 |         89        0.28       81.27
   26/10/21 |         89        0.28       81.55
   27/10/21 |         89        0.28       81.83
   28/10/21 |         89        0.28       82.11
   29/10/21 |         89        0.28       82.39
   30/10/21 |         89        0.28       82.67
   31/10/21 |         89        0.28       82.95
   01/11/21 |         89        0.28       83.23
   02/11/21 |         89        0.28       83.51
   03/11/21 |         89        0.28       83.78
   04/11/21 |         89        0.28       84.06
   05/11/21 |         89        0.28       84.34
   06/11/21 |         89        0.28       84.62
   07/11/21 |         89        0.28       84.90
   08/11/21 |         89        0.28       85.18
   09/11/21 |         89        0.28       85.46
   10/11/21 |         89        0.28       85.74
   11/11/21 |         89        0.28       86.02
   12/11/21 |         89        0.28       86.30
   13/11/21 |         89        0.28       86.58
   14/11/21 |         89        0.28       86.86
   15/11/21 |         89        0.28       87.14
   16/11/21 |         89        0.28       87.42
   17/11/21 |         89        0.28       87.70
   18/11/21 |         89        0.28       87.98
   19/11/21 |         89        0.28       88.26
   20/11/21 |         89        0.28       88.53
   21/11/21 |         89        0.28       88.81
   22/11/21 |         89        0.28       89.09
   23/11/21 |         89        0.28       89.37
   24/11/21 |         89        0.28       89.65
   25/11/21 |         89        0.28       89.93
   26/11/21 |         89        0.28       90.21
   27/11/21 |         89        0.28       90.49
   28/11/21 |         89        0.28       90.77
   29/11/21 |         89        0.28       91.05
   30/11/21 |         89        0.28       91.33
   01/12/21 |         89        0.28       91.61
   02/12/21 |         89        0.28       91.89
   03/12/21 |         89        0.28       92.17
   04/12/21 |         89        0.28       92.45
   05/12/21 |         89        0.28       92.73
   06/12/21 |         89        0.28       93.01
   07/12/21 |         89        0.28       93.28
   08/12/21 |         89        0.28       93.56
   09/12/21 |         89        0.28       93.84
   10/12/21 |         89        0.28       94.12
   11/12/21 |         89        0.28       94.40
   12/12/21 |         89        0.28       94.68
   13/12/21 |         89        0.28       94.96
   14/12/21 |         89        0.28       95.24
   15/12/21 |         89        0.28       95.52
   16/12/21 |         89        0.28       95.80
   17/12/21 |         89        0.28       96.08
   18/12/21 |         89        0.28       96.36
   19/12/21 |         89        0.28       96.64
   20/12/21 |         89        0.28       96.92
   21/12/21 |         89        0.28       97.20
   22/12/21 |         89        0.28       97.48
   23/12/21 |         89        0.28       97.76
   24/12/21 |         89        0.28       98.03
   25/12/21 |         89        0.28       98.31
   26/12/21 |         89        0.28       98.59
   27/12/21 |         89        0.28       98.87
   28/12/21 |         89        0.28       99.15
   29/12/21 |         90        0.28       99.43
   30/12/21 |         90        0.28       99.72
   31/12/21 |         90        0.28      100.00
------------+-----------------------------------
      Total |     31,853      100.00

.                         drop day month year date_str

.                         gen year = year(date)

.                         gen month = month(date)

.                         gen day = day(date)

.                         // save
.                         tempfile wfp2021

.                         save `wfp2021', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000x.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000x.tmp saved as .dta format

.                 
.                 import delimited using "$datain\food_security_metrics_data_2021-06_to_2022-07.csv", clear
(encoding automatically selected: UTF-8)
(8 vars, 35,580 obs)

.                         * convert dates to Stata date format
.                         tab date

       date |      Freq.     Percent        Cum.
------------+-----------------------------------
   01/01/22 |         90        0.25        0.25
   01/02/22 |         89        0.25        0.50
   01/03/22 |         89        0.25        0.75
   01/04/22 |         89        0.25        1.00
   01/05/22 |         90        0.25        1.26
   01/06/22 |         90        0.25        1.51
   01/07/21 |         87        0.24        1.75
   01/07/22 |         90        0.25        2.01
   01/08/21 |         87        0.24        2.25
   01/09/21 |         89        0.25        2.50
   01/10/21 |         89        0.25        2.75
   01/11/21 |         89        0.25        3.00
   01/12/21 |         89        0.25        3.25
   02/01/22 |         90        0.25        3.50
   02/02/22 |         89        0.25        3.75
   02/03/22 |         89        0.25        4.01
   02/04/22 |         89        0.25        4.26
   02/05/22 |         90        0.25        4.51
   02/06/22 |         90        0.25        4.76
   02/07/21 |         87        0.24        5.01
   02/07/22 |         90        0.25        5.26
   02/08/21 |         87        0.24        5.50
   02/09/21 |         89        0.25        5.75
   02/10/21 |         89        0.25        6.00
   02/11/21 |         89        0.25        6.25
   02/12/21 |         89        0.25        6.50
   03/01/22 |         90        0.25        6.76
   03/02/22 |         89        0.25        7.01
   03/03/22 |         89        0.25        7.26
   03/04/22 |         89        0.25        7.51
   03/05/22 |         90        0.25        7.76
   03/06/22 |         90        0.25        8.01
   03/07/21 |         87        0.24        8.26
   03/07/22 |         90        0.25        8.51
   03/08/21 |         87        0.24        8.75
   03/09/21 |         89        0.25        9.01
   03/10/21 |         89        0.25        9.26
   03/11/21 |         89        0.25        9.51
   03/12/21 |         89        0.25        9.76
   04/01/22 |         90        0.25       10.01
   04/02/22 |         89        0.25       10.26
   04/03/22 |         89        0.25       10.51
   04/04/22 |         89        0.25       10.76
   04/05/22 |         90        0.25       11.01
   04/06/22 |         90        0.25       11.26
   04/07/21 |         87        0.24       11.51
   04/07/22 |         90        0.25       11.76
   04/08/21 |         87        0.24       12.01
   04/09/21 |         89        0.25       12.26
   04/10/21 |         89        0.25       12.51
   04/11/21 |         89        0.25       12.76
   04/12/21 |         89        0.25       13.01
   05/01/22 |         90        0.25       13.26
   05/02/22 |         89        0.25       13.51
   05/03/22 |         89        0.25       13.76
   05/04/22 |         89        0.25       14.01
   05/05/22 |         90        0.25       14.26
   05/06/22 |         90        0.25       14.52
   05/07/21 |         87        0.24       14.76
   05/07/22 |         90        0.25       15.01
   05/08/21 |         88        0.25       15.26
   05/09/21 |         89        0.25       15.51
   05/10/21 |         89        0.25       15.76
   05/11/21 |         89        0.25       16.01
   05/12/21 |         89        0.25       16.26
   06/01/22 |         90        0.25       16.51
   06/02/22 |         89        0.25       16.77
   06/03/22 |         89        0.25       17.02
   06/04/22 |         89        0.25       17.27
   06/05/22 |         90        0.25       17.52
   06/06/22 |         90        0.25       17.77
   06/07/21 |         87        0.24       18.02
   06/07/22 |         90        0.25       18.27
   06/08/21 |         88        0.25       18.52
   06/09/21 |         89        0.25       18.77
   06/10/21 |         89        0.25       19.02
   06/11/21 |         89        0.25       19.27
   06/12/21 |         89        0.25       19.52
   07/01/22 |         90        0.25       19.77
   07/02/22 |         89        0.25       20.02
   07/03/22 |         89        0.25       20.27
   07/04/22 |         89        0.25       20.52
   07/05/22 |         90        0.25       20.77
   07/06/22 |         90        0.25       21.03
   07/07/21 |         87        0.24       21.27
   07/07/22 |         89        0.25       21.52
   07/08/21 |         88        0.25       21.77
   07/09/21 |         89        0.25       22.02
   07/10/21 |         89        0.25       22.27
   07/11/21 |         89        0.25       22.52
   07/12/21 |         89        0.25       22.77
   08/01/22 |         90        0.25       23.02
   08/02/22 |         89        0.25       23.27
   08/03/22 |         89        0.25       23.52
   08/04/22 |         89        0.25       23.77
   08/05/22 |         90        0.25       24.02
   08/06/22 |         90        0.25       24.28
   08/07/21 |         87        0.24       24.52
   08/07/22 |         89        0.25       24.77
   08/08/21 |         88        0.25       25.02
   08/09/21 |         89        0.25       25.27
   08/10/21 |         89        0.25       25.52
   08/11/21 |         89        0.25       25.77
   08/12/21 |         89        0.25       26.02
   09/01/22 |         90        0.25       26.27
   09/02/22 |         89        0.25       26.52
   09/03/22 |         89        0.25       26.77
   09/04/22 |         89        0.25       27.02
   09/05/22 |         90        0.25       27.28
   09/06/22 |         90        0.25       27.53
   09/07/21 |         87        0.24       27.77
   09/07/22 |         89        0.25       28.02
   09/08/21 |         88        0.25       28.27
   09/09/21 |         89        0.25       28.52
   09/10/21 |         89        0.25       28.77
   09/11/21 |         89        0.25       29.02
   09/12/21 |         89        0.25       29.27
   10/01/22 |         90        0.25       29.53
   10/02/22 |         89        0.25       29.78
   10/03/22 |         89        0.25       30.03
   10/04/22 |         89        0.25       30.28
   10/05/22 |         90        0.25       30.53
   10/06/22 |         90        0.25       30.78
   10/07/21 |         87        0.24       31.03
   10/07/22 |         89        0.25       31.28
   10/08/21 |         88        0.25       31.52
   10/09/21 |         89        0.25       31.77
   10/10/21 |         89        0.25       32.02
   10/11/21 |         89        0.25       32.27
   10/12/21 |         89        0.25       32.52
   11/01/22 |         90        0.25       32.78
   11/02/22 |         89        0.25       33.03
   11/03/22 |         89        0.25       33.28
   11/04/22 |         89        0.25       33.53
   11/05/22 |         90        0.25       33.78
   11/06/22 |         90        0.25       34.03
   11/07/21 |         87        0.24       34.28
   11/07/22 |         89        0.25       34.53
   11/08/21 |         88        0.25       34.78
   11/09/21 |         89        0.25       35.03
   11/10/21 |         89        0.25       35.28
   11/11/21 |         89        0.25       35.53
   11/12/21 |         89        0.25       35.78
   12/01/22 |         89        0.25       36.03
   12/02/22 |         89        0.25       36.28
   12/03/22 |         89        0.25       36.53
   12/04/22 |         89        0.25       36.78
   12/05/22 |         90        0.25       37.03
   12/06/22 |         90        0.25       37.28
   12/07/21 |         87        0.24       37.53
   12/07/22 |         89        0.25       37.78
   12/08/21 |         88        0.25       38.02
   12/09/21 |         89        0.25       38.27
   12/10/21 |         89        0.25       38.52
   12/11/21 |         89        0.25       38.77
   12/12/21 |         89        0.25       39.02
   13/01/22 |         89        0.25       39.27
   13/02/22 |         89        0.25       39.53
   13/03/22 |         89        0.25       39.78
   13/04/22 |         89        0.25       40.03
   13/05/22 |         90        0.25       40.28
   13/06/21 |         87        0.24       40.52
   13/06/22 |         90        0.25       40.78
   13/07/21 |         87        0.24       41.02
   13/07/22 |         89        0.25       41.27
   13/08/21 |         88        0.25       41.52
   13/09/21 |         89        0.25       41.77
   13/10/21 |         89        0.25       42.02
   13/11/21 |         89        0.25       42.27
   13/12/21 |         89        0.25       42.52
   14/01/22 |         89        0.25       42.77
   14/02/22 |         89        0.25       43.02
   14/03/22 |         89        0.25       43.27
   14/04/22 |         89        0.25       43.52
   14/05/22 |         90        0.25       43.77
   14/06/21 |         87        0.24       44.02
   14/06/22 |         90        0.25       44.27
   14/07/21 |         87        0.24       44.51
   14/07/22 |         89        0.25       44.76
   14/08/21 |         89        0.25       45.01
   14/09/21 |         89        0.25       45.26
   14/10/21 |         89        0.25       45.51
   14/11/21 |         89        0.25       45.76
   14/12/21 |         89        0.25       46.01
   15/01/22 |         89        0.25       46.26
   15/02/22 |         89        0.25       46.51
   15/03/22 |         89        0.25       46.77
   15/04/22 |         89        0.25       47.02
   15/05/22 |         90        0.25       47.27
   15/06/21 |         87        0.24       47.51
   15/06/22 |         90        0.25       47.77
   15/07/21 |         87        0.24       48.01
   15/07/22 |         89        0.25       48.26
   15/08/21 |         89        0.25       48.51
   15/09/21 |         89        0.25       48.76
   15/10/21 |         89        0.25       49.01
   15/11/21 |         89        0.25       49.26
   15/12/21 |         89        0.25       49.51
   16/01/22 |         89        0.25       49.76
   16/02/22 |         89        0.25       50.01
   16/03/22 |         89        0.25       50.26
   16/04/22 |         89        0.25       50.51
   16/05/22 |         90        0.25       50.76
   16/06/21 |         87        0.24       51.01
   16/06/22 |         90        0.25       51.26
   16/07/21 |         87        0.24       51.51
   16/07/22 |         89        0.25       51.76
   16/08/21 |         89        0.25       52.01
   16/09/21 |         89        0.25       52.26
   16/10/21 |         89        0.25       52.51
   16/11/21 |         89        0.25       52.76
   16/12/21 |         89        0.25       53.01
   17/01/22 |         89        0.25       53.26
   17/02/22 |         89        0.25       53.51
   17/03/22 |         89        0.25       53.76
   17/04/22 |         90        0.25       54.01
   17/05/22 |         90        0.25       54.26
   17/06/21 |         87        0.24       54.51
   17/06/22 |         90        0.25       54.76
   17/07/21 |         87        0.24       55.01
   17/07/22 |         89        0.25       55.26
   17/08/21 |         89        0.25       55.51
   17/09/21 |         89        0.25       55.76
   17/10/21 |         89        0.25       56.01
   17/11/21 |         89        0.25       56.26
   17/12/21 |         89        0.25       56.51
   18/01/22 |         89        0.25       56.76
   18/02/22 |         89        0.25       57.01
   18/03/22 |         89        0.25       57.26
   18/04/22 |         90        0.25       57.51
   18/05/22 |         90        0.25       57.76
   18/06/21 |         87        0.24       58.01
   18/06/22 |         90        0.25       58.26
   18/07/21 |         87        0.24       58.50
   18/08/21 |         89        0.25       58.75
   18/09/21 |         89        0.25       59.01
   18/10/21 |         89        0.25       59.26
   18/11/21 |         89        0.25       59.51
   18/12/21 |         89        0.25       59.76
   19/01/22 |         89        0.25       60.01
   19/02/22 |         89        0.25       60.26
   19/03/22 |         89        0.25       60.51
   19/04/22 |         90        0.25       60.76
   19/05/22 |         90        0.25       61.01
   19/06/21 |         87        0.24       61.26
   19/06/22 |         90        0.25       61.51
   19/07/21 |         87        0.24       61.75
   19/08/21 |         89        0.25       62.00
   19/09/21 |         89        0.25       62.25
   19/10/21 |         89        0.25       62.50
   19/11/21 |         89        0.25       62.75
   19/12/21 |         89        0.25       63.00
   20/01/22 |         89        0.25       63.25
   20/02/22 |         89        0.25       63.50
   20/03/22 |         89        0.25       63.75
   20/04/22 |         90        0.25       64.01
   20/05/22 |         90        0.25       64.26
   20/06/21 |         87        0.24       64.51
   20/06/22 |         90        0.25       64.76
   20/07/21 |         87        0.24       65.00
   20/08/21 |         89        0.25       65.25
   20/09/21 |         89        0.25       65.50
   20/10/21 |         89        0.25       65.75
   20/11/21 |         89        0.25       66.00
   20/12/21 |         89        0.25       66.25
   21/01/22 |         89        0.25       66.50
   21/02/22 |         89        0.25       66.75
   21/03/22 |         89        0.25       67.00
   21/04/22 |         90        0.25       67.26
   21/05/22 |         90        0.25       67.51
   21/06/21 |         87        0.24       67.75
   21/06/22 |         90        0.25       68.01
   21/07/21 |         87        0.24       68.25
   21/08/21 |         89        0.25       68.50
   21/09/21 |         89        0.25       68.75
   21/10/21 |         89        0.25       69.00
   21/11/21 |         89        0.25       69.25
   21/12/21 |         89        0.25       69.50
   22/01/22 |         89        0.25       69.75
   22/02/22 |         89        0.25       70.00
   22/03/22 |         89        0.25       70.25
   22/04/22 |         90        0.25       70.51
   22/05/22 |         90        0.25       70.76
   22/06/21 |         87        0.24       71.00
   22/06/22 |         90        0.25       71.26
   22/07/21 |         87        0.24       71.50
   22/08/21 |         89        0.25       71.75
   22/09/21 |         89        0.25       72.00
   22/10/21 |         89        0.25       72.25
   22/11/21 |         89        0.25       72.50
   22/12/21 |         89        0.25       72.75
   23/01/22 |         89        0.25       73.00
   23/02/22 |         89        0.25       73.25
   23/03/22 |         89        0.25       73.50
   23/04/22 |         90        0.25       73.75
   23/05/22 |         90        0.25       74.01
   23/06/21 |         87        0.24       74.25
   23/06/22 |         90        0.25       74.51
   23/07/21 |         87        0.24       74.75
   23/08/21 |         89        0.25       75.00
   23/09/21 |         89        0.25       75.25
   23/10/21 |         89        0.25       75.50
   23/11/21 |         89        0.25       75.75
   23/12/21 |         89        0.25       76.00
   24/01/22 |         89        0.25       76.25
   24/02/22 |         89        0.25       76.50
   24/03/22 |         89        0.25       76.75
   24/04/22 |         90        0.25       77.00
   24/05/22 |         90        0.25       77.26
   24/06/21 |         87        0.24       77.50
   24/06/22 |         90        0.25       77.75
   24/07/21 |         87        0.24       78.00
   24/08/21 |         89        0.25       78.25
   24/09/21 |         89        0.25       78.50
   24/10/21 |         89        0.25       78.75
   24/11/21 |         89        0.25       79.00
   24/12/21 |         89        0.25       79.25
   25/01/22 |         89        0.25       79.50
   25/02/22 |         89        0.25       79.75
   25/03/22 |         89        0.25       80.00
   25/04/22 |         90        0.25       80.25
   25/05/22 |         90        0.25       80.51
   25/06/21 |         87        0.24       80.75
   25/06/22 |         90        0.25       81.00
   25/07/21 |         87        0.24       81.25
   25/08/21 |         89        0.25       81.50
   25/09/21 |         89        0.25       81.75
   25/10/21 |         89        0.25       82.00
   25/11/21 |         89        0.25       82.25
   25/12/21 |         89        0.25       82.50
   26/01/22 |         89        0.25       82.75
   26/02/22 |         89        0.25       83.00
   26/03/22 |         89        0.25       83.25
   26/04/22 |         90        0.25       83.50
   26/05/22 |         90        0.25       83.75
   26/06/21 |         87        0.24       84.00
   26/06/22 |         90        0.25       84.25
   26/07/21 |         87        0.24       84.50
   26/08/21 |         89        0.25       84.75
   26/09/21 |         89        0.25       85.00
   26/10/21 |         89        0.25       85.25
   26/11/21 |         89        0.25       85.50
   26/12/21 |         89        0.25       85.75
   27/01/22 |         89        0.25       86.00
   27/02/22 |         89        0.25       86.25
   27/03/22 |         89        0.25       86.50
   27/04/22 |         90        0.25       86.75
   27/05/22 |         90        0.25       87.00
   27/06/21 |         87        0.24       87.25
   27/06/22 |         90        0.25       87.50
   27/07/21 |         87        0.24       87.75
   27/08/21 |         89        0.25       88.00
   27/09/21 |         89        0.25       88.25
   27/10/21 |         89        0.25       88.50
   27/11/21 |         89        0.25       88.75
   27/12/21 |         89        0.25       89.00
   28/01/22 |         89        0.25       89.25
   28/02/22 |         89        0.25       89.50
   28/03/22 |         89        0.25       89.75
   28/04/22 |         90        0.25       90.00
   28/05/22 |         90        0.25       90.25
   28/06/21 |         87        0.24       90.50
   28/06/22 |         90        0.25       90.75
   28/07/21 |         87        0.24       90.99
   28/08/21 |         89        0.25       91.25
   28/09/21 |         89        0.25       91.50
   28/10/21 |         89        0.25       91.75
   28/11/21 |         89        0.25       92.00
   28/12/21 |         89        0.25       92.25
   29/01/22 |         89        0.25       92.50
   29/03/22 |         89        0.25       92.75
   29/04/22 |         90        0.25       93.00
   29/05/22 |         90        0.25       93.25
   29/06/21 |         87        0.24       93.50
   29/06/22 |         90        0.25       93.75
   29/07/21 |         87        0.24       93.99
   29/08/21 |         89        0.25       94.24
   29/09/21 |         89        0.25       94.49
   29/10/21 |         89        0.25       94.74
   29/11/21 |         89        0.25       94.99
   29/12/21 |         90        0.25       95.25
   30/01/22 |         89        0.25       95.50
   30/03/22 |         89        0.25       95.75
   30/04/22 |         90        0.25       96.00
   30/05/22 |         90        0.25       96.25
   30/06/21 |         87        0.24       96.50
   30/06/22 |         90        0.25       96.75
   30/07/21 |         87        0.24       97.00
   30/08/21 |         89        0.25       97.25
   30/09/21 |         89        0.25       97.50
   30/10/21 |         89        0.25       97.75
   30/11/21 |         89        0.25       98.00
   30/12/21 |         90        0.25       98.25
   31/01/22 |         89        0.25       98.50
   31/03/22 |         89        0.25       98.75
   31/05/22 |         90        0.25       99.00
   31/07/21 |         87        0.24       99.25
   31/08/21 |         89        0.25       99.50
   31/10/21 |         89        0.25       99.75
   31/12/21 |         90        0.25      100.00
------------+-----------------------------------
      Total |     35,580      100.00

.                         ren date date_str

.                         gen day = substr(date_str,1,2)

.                         gen month = substr(date_str,4,2)

.                         gen year = substr(date_str,7,2)

.                         destring day month year, replace
day: all characters numeric; replaced as byte
month: all characters numeric; replaced as byte
year: all characters numeric; replaced as byte

.                         replace year=2021 if year==21
variable year was byte now int
(17,866 real changes made)

.                         replace year=2022 if year==22
(17,714 real changes made)

.                         gen date = mdy(month, day, year)

.                                 format date %tdDD/NN/YY

.                         tab date

       date |      Freq.     Percent        Cum.
------------+-----------------------------------
   13/06/21 |         87        0.24        0.24
   14/06/21 |         87        0.24        0.49
   15/06/21 |         87        0.24        0.73
   16/06/21 |         87        0.24        0.98
   17/06/21 |         87        0.24        1.22
   18/06/21 |         87        0.24        1.47
   19/06/21 |         87        0.24        1.71
   20/06/21 |         87        0.24        1.96
   21/06/21 |         87        0.24        2.20
   22/06/21 |         87        0.24        2.45
   23/06/21 |         87        0.24        2.69
   24/06/21 |         87        0.24        2.93
   25/06/21 |         87        0.24        3.18
   26/06/21 |         87        0.24        3.42
   27/06/21 |         87        0.24        3.67
   28/06/21 |         87        0.24        3.91
   29/06/21 |         87        0.24        4.16
   30/06/21 |         87        0.24        4.40
   01/07/21 |         87        0.24        4.65
   02/07/21 |         87        0.24        4.89
   03/07/21 |         87        0.24        5.13
   04/07/21 |         87        0.24        5.38
   05/07/21 |         87        0.24        5.62
   06/07/21 |         87        0.24        5.87
   07/07/21 |         87        0.24        6.11
   08/07/21 |         87        0.24        6.36
   09/07/21 |         87        0.24        6.60
   10/07/21 |         87        0.24        6.85
   11/07/21 |         87        0.24        7.09
   12/07/21 |         87        0.24        7.34
   13/07/21 |         87        0.24        7.58
   14/07/21 |         87        0.24        7.82
   15/07/21 |         87        0.24        8.07
   16/07/21 |         87        0.24        8.31
   17/07/21 |         87        0.24        8.56
   18/07/21 |         87        0.24        8.80
   19/07/21 |         87        0.24        9.05
   20/07/21 |         87        0.24        9.29
   21/07/21 |         87        0.24        9.54
   22/07/21 |         87        0.24        9.78
   23/07/21 |         87        0.24       10.03
   24/07/21 |         87        0.24       10.27
   25/07/21 |         87        0.24       10.51
   26/07/21 |         87        0.24       10.76
   27/07/21 |         87        0.24       11.00
   28/07/21 |         87        0.24       11.25
   29/07/21 |         87        0.24       11.49
   30/07/21 |         87        0.24       11.74
   31/07/21 |         87        0.24       11.98
   01/08/21 |         87        0.24       12.23
   02/08/21 |         87        0.24       12.47
   03/08/21 |         87        0.24       12.72
   04/08/21 |         87        0.24       12.96
   05/08/21 |         88        0.25       13.21
   06/08/21 |         88        0.25       13.45
   07/08/21 |         88        0.25       13.70
   08/08/21 |         88        0.25       13.95
   09/08/21 |         88        0.25       14.20
   10/08/21 |         88        0.25       14.44
   11/08/21 |         88        0.25       14.69
   12/08/21 |         88        0.25       14.94
   13/08/21 |         88        0.25       15.19
   14/08/21 |         89        0.25       15.44
   15/08/21 |         89        0.25       15.69
   16/08/21 |         89        0.25       15.94
   17/08/21 |         89        0.25       16.19
   18/08/21 |         89        0.25       16.44
   19/08/21 |         89        0.25       16.69
   20/08/21 |         89        0.25       16.94
   21/08/21 |         89        0.25       17.19
   22/08/21 |         89        0.25       17.44
   23/08/21 |         89        0.25       17.69
   24/08/21 |         89        0.25       17.94
   25/08/21 |         89        0.25       18.19
   26/08/21 |         89        0.25       18.44
   27/08/21 |         89        0.25       18.69
   28/08/21 |         89        0.25       18.94
   29/08/21 |         89        0.25       19.19
   30/08/21 |         89        0.25       19.44
   31/08/21 |         89        0.25       19.69
   01/09/21 |         89        0.25       19.94
   02/09/21 |         89        0.25       20.19
   03/09/21 |         89        0.25       20.44
   04/09/21 |         89        0.25       20.69
   05/09/21 |         89        0.25       20.94
   06/09/21 |         89        0.25       21.19
   07/09/21 |         89        0.25       21.44
   08/09/21 |         89        0.25       21.69
   09/09/21 |         89        0.25       21.94
   10/09/21 |         89        0.25       22.19
   11/09/21 |         89        0.25       22.44
   12/09/21 |         89        0.25       22.69
   13/09/21 |         89        0.25       22.94
   14/09/21 |         89        0.25       23.19
   15/09/21 |         89        0.25       23.44
   16/09/21 |         89        0.25       23.69
   17/09/21 |         89        0.25       23.94
   18/09/21 |         89        0.25       24.19
   19/09/21 |         89        0.25       24.44
   20/09/21 |         89        0.25       24.69
   21/09/21 |         89        0.25       24.94
   22/09/21 |         89        0.25       25.19
   23/09/21 |         89        0.25       25.44
   24/09/21 |         89        0.25       25.69
   25/09/21 |         89        0.25       25.94
   26/09/21 |         89        0.25       26.19
   27/09/21 |         89        0.25       26.44
   28/09/21 |         89        0.25       26.69
   29/09/21 |         89        0.25       26.94
   30/09/21 |         89        0.25       27.19
   01/10/21 |         89        0.25       27.44
   02/10/21 |         89        0.25       27.69
   03/10/21 |         89        0.25       27.94
   04/10/21 |         89        0.25       28.19
   05/10/21 |         89        0.25       28.44
   06/10/21 |         89        0.25       28.69
   07/10/21 |         89        0.25       28.94
   08/10/21 |         89        0.25       29.19
   09/10/21 |         89        0.25       29.44
   10/10/21 |         89        0.25       29.69
   11/10/21 |         89        0.25       29.94
   12/10/21 |         89        0.25       30.19
   13/10/21 |         89        0.25       30.44
   14/10/21 |         89        0.25       30.69
   15/10/21 |         89        0.25       30.94
   16/10/21 |         89        0.25       31.19
   17/10/21 |         89        0.25       31.44
   18/10/21 |         89        0.25       31.69
   19/10/21 |         89        0.25       31.94
   20/10/21 |         89        0.25       32.20
   21/10/21 |         89        0.25       32.45
   22/10/21 |         89        0.25       32.70
   23/10/21 |         89        0.25       32.95
   24/10/21 |         89        0.25       33.20
   25/10/21 |         89        0.25       33.45
   26/10/21 |         89        0.25       33.70
   27/10/21 |         89        0.25       33.95
   28/10/21 |         89        0.25       34.20
   29/10/21 |         89        0.25       34.45
   30/10/21 |         89        0.25       34.70
   31/10/21 |         89        0.25       34.95
   01/11/21 |         89        0.25       35.20
   02/11/21 |         89        0.25       35.45
   03/11/21 |         89        0.25       35.70
   04/11/21 |         89        0.25       35.95
   05/11/21 |         89        0.25       36.20
   06/11/21 |         89        0.25       36.45
   07/11/21 |         89        0.25       36.70
   08/11/21 |         89        0.25       36.95
   09/11/21 |         89        0.25       37.20
   10/11/21 |         89        0.25       37.45
   11/11/21 |         89        0.25       37.70
   12/11/21 |         89        0.25       37.95
   13/11/21 |         89        0.25       38.20
   14/11/21 |         89        0.25       38.45
   15/11/21 |         89        0.25       38.70
   16/11/21 |         89        0.25       38.95
   17/11/21 |         89        0.25       39.20
   18/11/21 |         89        0.25       39.45
   19/11/21 |         89        0.25       39.70
   20/11/21 |         89        0.25       39.95
   21/11/21 |         89        0.25       40.20
   22/11/21 |         89        0.25       40.45
   23/11/21 |         89        0.25       40.70
   24/11/21 |         89        0.25       40.95
   25/11/21 |         89        0.25       41.20
   26/11/21 |         89        0.25       41.45
   27/11/21 |         89        0.25       41.70
   28/11/21 |         89        0.25       41.95
   29/11/21 |         89        0.25       42.20
   30/11/21 |         89        0.25       42.45
   01/12/21 |         89        0.25       42.70
   02/12/21 |         89        0.25       42.95
   03/12/21 |         89        0.25       43.20
   04/12/21 |         89        0.25       43.45
   05/12/21 |         89        0.25       43.70
   06/12/21 |         89        0.25       43.95
   07/12/21 |         89        0.25       44.20
   08/12/21 |         89        0.25       44.45
   09/12/21 |         89        0.25       44.70
   10/12/21 |         89        0.25       44.95
   11/12/21 |         89        0.25       45.20
   12/12/21 |         89        0.25       45.45
   13/12/21 |         89        0.25       45.70
   14/12/21 |         89        0.25       45.95
   15/12/21 |         89        0.25       46.20
   16/12/21 |         89        0.25       46.45
   17/12/21 |         89        0.25       46.70
   18/12/21 |         89        0.25       46.95
   19/12/21 |         89        0.25       47.20
   20/12/21 |         89        0.25       47.45
   21/12/21 |         89        0.25       47.70
   22/12/21 |         89        0.25       47.95
   23/12/21 |         89        0.25       48.20
   24/12/21 |         89        0.25       48.45
   25/12/21 |         89        0.25       48.70
   26/12/21 |         89        0.25       48.95
   27/12/21 |         89        0.25       49.20
   28/12/21 |         89        0.25       49.45
   29/12/21 |         90        0.25       49.71
   30/12/21 |         90        0.25       49.96
   31/12/21 |         90        0.25       50.21
   01/01/22 |         90        0.25       50.47
   02/01/22 |         90        0.25       50.72
   03/01/22 |         90        0.25       50.97
   04/01/22 |         90        0.25       51.23
   05/01/22 |         90        0.25       51.48
   06/01/22 |         90        0.25       51.73
   07/01/22 |         90        0.25       51.98
   08/01/22 |         90        0.25       52.24
   09/01/22 |         90        0.25       52.49
   10/01/22 |         90        0.25       52.74
   11/01/22 |         90        0.25       53.00
   12/01/22 |         89        0.25       53.25
   13/01/22 |         89        0.25       53.50
   14/01/22 |         89        0.25       53.75
   15/01/22 |         89        0.25       54.00
   16/01/22 |         89        0.25       54.25
   17/01/22 |         89        0.25       54.50
   18/01/22 |         89        0.25       54.75
   19/01/22 |         89        0.25       55.00
   20/01/22 |         89        0.25       55.25
   21/01/22 |         89        0.25       55.50
   22/01/22 |         89        0.25       55.75
   23/01/22 |         89        0.25       56.00
   24/01/22 |         89        0.25       56.25
   25/01/22 |         89        0.25       56.50
   26/01/22 |         89        0.25       56.75
   27/01/22 |         89        0.25       57.00
   28/01/22 |         89        0.25       57.25
   29/01/22 |         89        0.25       57.50
   30/01/22 |         89        0.25       57.75
   31/01/22 |         89        0.25       58.00
   01/02/22 |         89        0.25       58.25
   02/02/22 |         89        0.25       58.50
   03/02/22 |         89        0.25       58.75
   04/02/22 |         89        0.25       59.00
   05/02/22 |         89        0.25       59.25
   06/02/22 |         89        0.25       59.50
   07/02/22 |         89        0.25       59.75
   08/02/22 |         89        0.25       60.00
   09/02/22 |         89        0.25       60.25
   10/02/22 |         89        0.25       60.50
   11/02/22 |         89        0.25       60.75
   12/02/22 |         89        0.25       61.00
   13/02/22 |         89        0.25       61.25
   14/02/22 |         89        0.25       61.50
   15/02/22 |         89        0.25       61.75
   16/02/22 |         89        0.25       62.00
   17/02/22 |         89        0.25       62.25
   18/02/22 |         89        0.25       62.50
   19/02/22 |         89        0.25       62.75
   20/02/22 |         89        0.25       63.00
   21/02/22 |         89        0.25       63.25
   22/02/22 |         89        0.25       63.50
   23/02/22 |         89        0.25       63.75
   24/02/22 |         89        0.25       64.00
   25/02/22 |         89        0.25       64.25
   26/02/22 |         89        0.25       64.50
   27/02/22 |         89        0.25       64.75
   28/02/22 |         89        0.25       65.00
   01/03/22 |         89        0.25       65.25
   02/03/22 |         89        0.25       65.50
   03/03/22 |         89        0.25       65.75
   04/03/22 |         89        0.25       66.00
   05/03/22 |         89        0.25       66.25
   06/03/22 |         89        0.25       66.50
   07/03/22 |         89        0.25       66.75
   08/03/22 |         89        0.25       67.00
   09/03/22 |         89        0.25       67.25
   10/03/22 |         89        0.25       67.50
   11/03/22 |         89        0.25       67.75
   12/03/22 |         89        0.25       68.00
   13/03/22 |         89        0.25       68.25
   14/03/22 |         89        0.25       68.50
   15/03/22 |         89        0.25       68.75
   16/03/22 |         89        0.25       69.01
   17/03/22 |         89        0.25       69.26
   18/03/22 |         89        0.25       69.51
   19/03/22 |         89        0.25       69.76
   20/03/22 |         89        0.25       70.01
   21/03/22 |         89        0.25       70.26
   22/03/22 |         89        0.25       70.51
   23/03/22 |         89        0.25       70.76
   24/03/22 |         89        0.25       71.01
   25/03/22 |         89        0.25       71.26
   26/03/22 |         89        0.25       71.51
   27/03/22 |         89        0.25       71.76
   28/03/22 |         89        0.25       72.01
   29/03/22 |         89        0.25       72.26
   30/03/22 |         89        0.25       72.51
   31/03/22 |         89        0.25       72.76
   01/04/22 |         89        0.25       73.01
   02/04/22 |         89        0.25       73.26
   03/04/22 |         89        0.25       73.51
   04/04/22 |         89        0.25       73.76
   05/04/22 |         89        0.25       74.01
   06/04/22 |         89        0.25       74.26
   07/04/22 |         89        0.25       74.51
   08/04/22 |         89        0.25       74.76
   09/04/22 |         89        0.25       75.01
   10/04/22 |         89        0.25       75.26
   11/04/22 |         89        0.25       75.51
   12/04/22 |         89        0.25       75.76
   13/04/22 |         89        0.25       76.01
   14/04/22 |         89        0.25       76.26
   15/04/22 |         89        0.25       76.51
   16/04/22 |         89        0.25       76.76
   17/04/22 |         90        0.25       77.01
   18/04/22 |         90        0.25       77.27
   19/04/22 |         90        0.25       77.52
   20/04/22 |         90        0.25       77.77
   21/04/22 |         90        0.25       78.02
   22/04/22 |         90        0.25       78.28
   23/04/22 |         90        0.25       78.53
   24/04/22 |         90        0.25       78.78
   25/04/22 |         90        0.25       79.04
   26/04/22 |         90        0.25       79.29
   27/04/22 |         90        0.25       79.54
   28/04/22 |         90        0.25       79.79
   29/04/22 |         90        0.25       80.05
   30/04/22 |         90        0.25       80.30
   01/05/22 |         90        0.25       80.55
   02/05/22 |         90        0.25       80.81
   03/05/22 |         90        0.25       81.06
   04/05/22 |         90        0.25       81.31
   05/05/22 |         90        0.25       81.57
   06/05/22 |         90        0.25       81.82
   07/05/22 |         90        0.25       82.07
   08/05/22 |         90        0.25       82.32
   09/05/22 |         90        0.25       82.58
   10/05/22 |         90        0.25       82.83
   11/05/22 |         90        0.25       83.08
   12/05/22 |         90        0.25       83.34
   13/05/22 |         90        0.25       83.59
   14/05/22 |         90        0.25       83.84
   15/05/22 |         90        0.25       84.09
   16/05/22 |         90        0.25       84.35
   17/05/22 |         90        0.25       84.60
   18/05/22 |         90        0.25       84.85
   19/05/22 |         90        0.25       85.11
   20/05/22 |         90        0.25       85.36
   21/05/22 |         90        0.25       85.61
   22/05/22 |         90        0.25       85.87
   23/05/22 |         90        0.25       86.12
   24/05/22 |         90        0.25       86.37
   25/05/22 |         90        0.25       86.62
   26/05/22 |         90        0.25       86.88
   27/05/22 |         90        0.25       87.13
   28/05/22 |         90        0.25       87.38
   29/05/22 |         90        0.25       87.64
   30/05/22 |         90        0.25       87.89
   31/05/22 |         90        0.25       88.14
   01/06/22 |         90        0.25       88.40
   02/06/22 |         90        0.25       88.65
   03/06/22 |         90        0.25       88.90
   04/06/22 |         90        0.25       89.15
   05/06/22 |         90        0.25       89.41
   06/06/22 |         90        0.25       89.66
   07/06/22 |         90        0.25       89.91
   08/06/22 |         90        0.25       90.17
   09/06/22 |         90        0.25       90.42
   10/06/22 |         90        0.25       90.67
   11/06/22 |         90        0.25       90.92
   12/06/22 |         90        0.25       91.18
   13/06/22 |         90        0.25       91.43
   14/06/22 |         90        0.25       91.68
   15/06/22 |         90        0.25       91.94
   16/06/22 |         90        0.25       92.19
   17/06/22 |         90        0.25       92.44
   18/06/22 |         90        0.25       92.70
   19/06/22 |         90        0.25       92.95
   20/06/22 |         90        0.25       93.20
   21/06/22 |         90        0.25       93.45
   22/06/22 |         90        0.25       93.71
   23/06/22 |         90        0.25       93.96
   24/06/22 |         90        0.25       94.21
   25/06/22 |         90        0.25       94.47
   26/06/22 |         90        0.25       94.72
   27/06/22 |         90        0.25       94.97
   28/06/22 |         90        0.25       95.22
   29/06/22 |         90        0.25       95.48
   30/06/22 |         90        0.25       95.73
   01/07/22 |         90        0.25       95.98
   02/07/22 |         90        0.25       96.24
   03/07/22 |         90        0.25       96.49
   04/07/22 |         90        0.25       96.74
   05/07/22 |         90        0.25       97.00
   06/07/22 |         90        0.25       97.25
   07/07/22 |         89        0.25       97.50
   08/07/22 |         89        0.25       97.75
   09/07/22 |         89        0.25       98.00
   10/07/22 |         89        0.25       98.25
   11/07/22 |         89        0.25       98.50
   12/07/22 |         89        0.25       98.75
   13/07/22 |         89        0.25       99.00
   14/07/22 |         89        0.25       99.25
   15/07/22 |         89        0.25       99.50
   16/07/22 |         89        0.25       99.75
   17/07/22 |         89        0.25      100.00
------------+-----------------------------------
      Total |     35,580      100.00

.                         drop day month year date_str

.                         gen year = year(date)

.                         gen month = month(date)

.                         gen day = day(date)

.                         // drop 2021 dates
.                         drop if year == 2021
(17,866 observations deleted)

.                         // save
.                         tempfile wfprecent

.                         save `wfprecent', replace
(file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000010.tmp not found)
file C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_000010.tmp saved as .dta format

.                 
.                 // Combine years of data
.                         use `wfp2020', clear

.                         append using `wfp2021'
(variable datatype was str6, now str10 to accommodate using data's values)

.                         append using `wfprecent'

.                         sort date

.                         tab date

       date |      Freq.     Percent        Cum.
------------+-----------------------------------
   01/01/20 |          9        0.02        0.02
   02/01/20 |          9        0.02        0.03
   03/01/20 |          9        0.02        0.05
   04/01/20 |          9        0.02        0.06
   05/01/20 |          9        0.02        0.08
   06/01/20 |          9        0.02        0.10
   07/01/20 |          9        0.02        0.11
   08/01/20 |          9        0.02        0.13
   09/01/20 |          9        0.02        0.15
   10/01/20 |          9        0.02        0.16
   11/01/20 |          9        0.02        0.18
   12/01/20 |          9        0.02        0.19
   13/01/20 |          9        0.02        0.21
   14/01/20 |          9        0.02        0.23
   15/01/20 |          9        0.02        0.24
   16/01/20 |          9        0.02        0.26
   17/01/20 |          9        0.02        0.27
   18/01/20 |          9        0.02        0.29
   19/01/20 |          9        0.02        0.31
   20/01/20 |          8        0.01        0.32
   21/01/20 |          8        0.01        0.34
   22/01/20 |          8        0.01        0.35
   23/01/20 |          8        0.01        0.36
   24/01/20 |          8        0.01        0.38
   25/01/20 |          8        0.01        0.39
   26/01/20 |          8        0.01        0.41
   27/01/20 |          8        0.01        0.42
   28/01/20 |          8        0.01        0.44
   29/01/20 |          8        0.01        0.45
   30/01/20 |          8        0.01        0.46
   31/01/20 |          8        0.01        0.48
   01/02/20 |          8        0.01        0.49
   02/02/20 |          8        0.01        0.51
   03/02/20 |          8        0.01        0.52
   04/02/20 |          8        0.01        0.54
   05/02/20 |          8        0.01        0.55
   06/02/20 |          8        0.01        0.57
   07/02/20 |          8        0.01        0.58
   08/02/20 |          8        0.01        0.59
   09/02/20 |          8        0.01        0.61
   10/02/20 |          8        0.01        0.62
   11/02/20 |          8        0.01        0.64
   12/02/20 |          8        0.01        0.65
   13/02/20 |          8        0.01        0.67
   14/02/20 |          8        0.01        0.68
   15/02/20 |          8        0.01        0.69
   16/02/20 |          8        0.01        0.71
   17/02/20 |          8        0.01        0.72
   18/02/20 |          8        0.01        0.74
   19/02/20 |          8        0.01        0.75
   20/02/20 |          8        0.01        0.77
   21/02/20 |          8        0.01        0.78
   22/02/20 |          8        0.01        0.80
   23/02/20 |          8        0.01        0.81
   24/02/20 |          8        0.01        0.82
   25/02/20 |          8        0.01        0.84
   26/02/20 |          8        0.01        0.85
   27/02/20 |          8        0.01        0.87
   28/02/20 |          8        0.01        0.88
   29/02/20 |          8        0.01        0.90
   01/03/20 |          8        0.01        0.91
   02/03/20 |          8        0.01        0.92
   03/03/20 |          8        0.01        0.94
   04/03/20 |          8        0.01        0.95
   05/03/20 |          8        0.01        0.97
   06/03/20 |          8        0.01        0.98
   07/03/20 |          8        0.01        1.00
   08/03/20 |          8        0.01        1.01
   09/03/20 |          8        0.01        1.02
   10/03/20 |          8        0.01        1.04
   11/03/20 |          8        0.01        1.05
   12/03/20 |          8        0.01        1.07
   13/03/20 |          8        0.01        1.08
   14/03/20 |          8        0.01        1.10
   15/03/20 |          8        0.01        1.11
   16/03/20 |          8        0.01        1.13
   17/03/20 |          8        0.01        1.14
   18/03/20 |          8        0.01        1.15
   19/03/20 |          8        0.01        1.17
   20/03/20 |          8        0.01        1.18
   21/03/20 |          8        0.01        1.20
   22/03/20 |          8        0.01        1.21
   23/03/20 |          8        0.01        1.23
   24/03/20 |          8        0.01        1.24
   25/03/20 |          8        0.01        1.25
   26/03/20 |          8        0.01        1.27
   27/03/20 |          8        0.01        1.28
   28/03/20 |          8        0.01        1.30
   29/03/20 |          9        0.02        1.31
   30/03/20 |          9        0.02        1.33
   31/03/20 |          9        0.02        1.35
   01/04/20 |          9        0.02        1.36
   02/04/20 |          9        0.02        1.38
   03/04/20 |          9        0.02        1.39
   04/04/20 |          9        0.02        1.41
   05/04/20 |          9        0.02        1.43
   06/04/20 |          9        0.02        1.44
   07/04/20 |          9        0.02        1.46
   08/04/20 |          9        0.02        1.48
   09/04/20 |          9        0.02        1.49
   10/04/20 |          9        0.02        1.51
   11/04/20 |          9        0.02        1.52
   12/04/20 |          9        0.02        1.54
   13/04/20 |          9        0.02        1.56
   14/04/20 |          9        0.02        1.57
   15/04/20 |          9        0.02        1.59
   16/04/20 |          9        0.02        1.60
   17/04/20 |          9        0.02        1.62
   18/04/20 |          9        0.02        1.64
   19/04/20 |          9        0.02        1.65
   20/04/20 |          9        0.02        1.67
   21/04/20 |          9        0.02        1.69
   22/04/20 |          9        0.02        1.70
   23/04/20 |          9        0.02        1.72
   24/04/20 |         10        0.02        1.74
   25/04/20 |         10        0.02        1.75
   26/04/20 |         10        0.02        1.77
   27/04/20 |         10        0.02        1.79
   28/04/20 |         10        0.02        1.81
   29/04/20 |         10        0.02        1.83
   30/04/20 |         10        0.02        1.84
   01/05/20 |         10        0.02        1.86
   02/05/20 |         10        0.02        1.88
   03/05/20 |         11        0.02        1.90
   04/05/20 |         11        0.02        1.92
   05/05/20 |         11        0.02        1.94
   06/05/20 |         11        0.02        1.96
   07/05/20 |         11        0.02        1.98
   08/05/20 |         11        0.02        2.00
   09/05/20 |         11        0.02        2.02
   10/05/20 |         11        0.02        2.04
   11/05/20 |         13        0.02        2.06
   12/05/20 |         14        0.03        2.09
   13/05/20 |         15        0.03        2.11
   14/05/20 |         15        0.03        2.14
   15/05/20 |         15        0.03        2.17
   16/05/20 |         15        0.03        2.19
   17/05/20 |         15        0.03        2.22
   18/05/20 |         15        0.03        2.25
   19/05/20 |         15        0.03        2.27
   20/05/20 |         15        0.03        2.30
   21/05/20 |         15        0.03        2.33
   22/05/20 |         15        0.03        2.35
   23/05/20 |         15        0.03        2.38
   24/05/20 |         15        0.03        2.41
   25/05/20 |         15        0.03        2.44
   26/05/20 |         16        0.03        2.46
   27/05/20 |         16        0.03        2.49
   28/05/20 |         16        0.03        2.52
   29/05/20 |         16        0.03        2.55
   30/05/20 |         16        0.03        2.58
   31/05/20 |         16        0.03        2.61
   01/06/20 |         16        0.03        2.64
   02/06/20 |         16        0.03        2.67
   03/06/20 |         16        0.03        2.69
   04/06/20 |         16        0.03        2.72
   05/06/20 |         16        0.03        2.75
   06/06/20 |         16        0.03        2.78
   07/06/20 |         16        0.03        2.81
   08/06/20 |         16        0.03        2.84
   09/06/20 |         16        0.03        2.87
   10/06/20 |         16        0.03        2.90
   11/06/20 |         16        0.03        2.92
   12/06/20 |         16        0.03        2.95
   13/06/20 |         16        0.03        2.98
   14/06/20 |         15        0.03        3.01
   15/06/20 |         16        0.03        3.04
   16/06/20 |         16        0.03        3.07
   17/06/20 |         16        0.03        3.09
   18/06/20 |         16        0.03        3.12
   19/06/20 |         16        0.03        3.15
   20/06/20 |         16        0.03        3.18
   21/06/20 |         16        0.03        3.21
   22/06/20 |         16        0.03        3.24
   23/06/20 |         16        0.03        3.27
   24/06/20 |         16        0.03        3.30
   25/06/20 |         16        0.03        3.32
   26/06/20 |         16        0.03        3.35
   27/06/20 |         16        0.03        3.38
   28/06/20 |         16        0.03        3.41
   29/06/20 |         16        0.03        3.44
   30/06/20 |         16        0.03        3.47
   01/07/20 |         16        0.03        3.50
   02/07/20 |         16        0.03        3.53
   03/07/20 |         16        0.03        3.55
   04/07/20 |         16        0.03        3.58
   05/07/20 |         16        0.03        3.61
   06/07/20 |         16        0.03        3.64
   07/07/20 |         16        0.03        3.67
   08/07/20 |         16        0.03        3.70
   09/07/20 |         16        0.03        3.73
   10/07/20 |         16        0.03        3.75
   11/07/20 |         16        0.03        3.78
   12/07/20 |         16        0.03        3.81
   13/07/20 |         16        0.03        3.84
   14/07/20 |         17        0.03        3.87
   15/07/20 |         17        0.03        3.90
   16/07/20 |         17        0.03        3.93
   17/07/20 |         17        0.03        3.96
   18/07/20 |         17        0.03        3.99
   19/07/20 |         17        0.03        4.02
   20/07/20 |         17        0.03        4.05
   21/07/20 |         17        0.03        4.09
   22/07/20 |         17        0.03        4.12
   23/07/20 |         17        0.03        4.15
   24/07/20 |         17        0.03        4.18
   25/07/20 |         17        0.03        4.21
   26/07/20 |         17        0.03        4.24
   27/07/20 |         17        0.03        4.27
   28/07/20 |         17        0.03        4.30
   29/07/20 |         17        0.03        4.33
   30/07/20 |         17        0.03        4.36
   31/07/20 |         17        0.03        4.39
   01/08/20 |         17        0.03        4.42
   02/08/20 |         18        0.03        4.45
   03/08/20 |         18        0.03        4.49
   04/08/20 |         18        0.03        4.52
   05/08/20 |         18        0.03        4.55
   06/08/20 |         18        0.03        4.58
   07/08/20 |         18        0.03        4.61
   08/08/20 |         18        0.03        4.65
   09/08/20 |         18        0.03        4.68
   10/08/20 |         19        0.03        4.71
   11/08/20 |         19        0.03        4.75
   12/08/20 |         19        0.03        4.78
   13/08/20 |         19        0.03        4.82
   14/08/20 |         19        0.03        4.85
   15/08/20 |         19        0.03        4.88
   16/08/20 |         19        0.03        4.92
   17/08/20 |         19        0.03        4.95
   18/08/20 |         19        0.03        4.99
   19/08/20 |         20        0.04        5.02
   20/08/20 |         20        0.04        5.06
   21/08/20 |         20        0.04        5.09
   22/08/20 |         20        0.04        5.13
   23/08/20 |         21        0.04        5.17
   24/08/20 |         21        0.04        5.21
   25/08/20 |         21        0.04        5.24
   26/08/20 |         21        0.04        5.28
   27/08/20 |         21        0.04        5.32
   28/08/20 |         21        0.04        5.36
   29/08/20 |         21        0.04        5.39
   30/08/20 |         21        0.04        5.43
   31/08/20 |         21        0.04        5.47
   01/09/20 |         21        0.04        5.51
   02/09/20 |         21        0.04        5.54
   03/09/20 |         21        0.04        5.58
   04/09/20 |         21        0.04        5.62
   05/09/20 |         21        0.04        5.66
   06/09/20 |         21        0.04        5.70
   07/09/20 |         21        0.04        5.73
   08/09/20 |         21        0.04        5.77
   09/09/20 |         21        0.04        5.81
   10/09/20 |         21        0.04        5.85
   11/09/20 |         21        0.04        5.88
   12/09/20 |         21        0.04        5.92
   13/09/20 |         21        0.04        5.96
   14/09/20 |         21        0.04        6.00
   15/09/20 |         21        0.04        6.03
   16/09/20 |         21        0.04        6.07
   17/09/20 |         21        0.04        6.11
   18/09/20 |         21        0.04        6.15
   19/09/20 |         22        0.04        6.19
   20/09/20 |         22        0.04        6.23
   21/09/20 |         23        0.04        6.27
   22/09/20 |         23        0.04        6.31
   23/09/20 |         23        0.04        6.35
   24/09/20 |         23        0.04        6.39
   25/09/20 |         23        0.04        6.43
   26/09/20 |         23        0.04        6.47
   27/09/20 |         23        0.04        6.52
   28/09/20 |         23        0.04        6.56
   29/09/20 |         23        0.04        6.60
   30/09/20 |         23        0.04        6.64
   01/10/20 |         23        0.04        6.68
   02/10/20 |         23        0.04        6.72
   03/10/20 |         23        0.04        6.76
   04/10/20 |         23        0.04        6.80
   05/10/20 |         23        0.04        6.85
   06/10/20 |         24        0.04        6.89
   07/10/20 |         24        0.04        6.93
   08/10/20 |         24        0.04        6.98
   09/10/20 |         24        0.04        7.02
   10/10/20 |         24        0.04        7.06
   11/10/20 |         24        0.04        7.10
   12/10/20 |         24        0.04        7.15
   13/10/20 |         24        0.04        7.19
   14/10/20 |         24        0.04        7.23
   15/10/20 |         24        0.04        7.28
   16/10/20 |         24        0.04        7.32
   17/10/20 |         24        0.04        7.36
   18/10/20 |         24        0.04        7.41
   19/10/20 |         24        0.04        7.45
   20/10/20 |         24        0.04        7.49
   21/10/20 |         24        0.04        7.54
   22/10/20 |         24        0.04        7.58
   23/10/20 |         24        0.04        7.62
   24/10/20 |         24        0.04        7.66
   25/10/20 |         24        0.04        7.71
   26/10/20 |         24        0.04        7.75
   27/10/20 |         24        0.04        7.79
   28/10/20 |         24        0.04        7.84
   29/10/20 |         26        0.05        7.88
   30/10/20 |         26        0.05        7.93
   31/10/20 |         26        0.05        7.98
   01/11/20 |         26        0.05        8.02
   02/11/20 |         26        0.05        8.07
   03/11/20 |         26        0.05        8.12
   04/11/20 |         26        0.05        8.16
   05/11/20 |         25        0.04        8.21
   06/11/20 |         26        0.05        8.25
   07/11/20 |         26        0.05        8.30
   08/11/20 |         26        0.05        8.35
   09/11/20 |         26        0.05        8.39
   10/11/20 |         26        0.05        8.44
   11/11/20 |         26        0.05        8.49
   12/11/20 |         26        0.05        8.53
   13/11/20 |         26        0.05        8.58
   14/11/20 |         26        0.05        8.63
   15/11/20 |         26        0.05        8.67
   16/11/20 |         26        0.05        8.72
   17/11/20 |         26        0.05        8.77
   18/11/20 |         26        0.05        8.81
   19/11/20 |         26        0.05        8.86
   20/11/20 |         27        0.05        8.91
   21/11/20 |         27        0.05        8.96
   22/11/20 |         27        0.05        9.01
   23/11/20 |         27        0.05        9.06
   24/11/20 |         27        0.05        9.10
   25/11/20 |         28        0.05        9.15
   26/11/20 |         28        0.05        9.20
   27/11/20 |         28        0.05        9.25
   28/11/20 |         28        0.05        9.30
   29/11/20 |         28        0.05        9.36
   30/11/20 |         28        0.05        9.41
   01/12/20 |         28        0.05        9.46
   02/12/20 |         28        0.05        9.51
   03/12/20 |         28        0.05        9.56
   04/12/20 |         28        0.05        9.61
   05/12/20 |         28        0.05        9.66
   06/12/20 |         28        0.05        9.71
   07/12/20 |         28        0.05        9.76
   08/12/20 |         28        0.05        9.81
   09/12/20 |         28        0.05        9.86
   10/12/20 |         28        0.05        9.91
   11/12/20 |         28        0.05        9.96
   12/12/20 |         29        0.05       10.01
   13/12/20 |         29        0.05       10.06
   14/12/20 |         30        0.05       10.12
   15/12/20 |         30        0.05       10.17
   16/12/20 |         30        0.05       10.22
   17/12/20 |         30        0.05       10.28
   18/12/20 |         30        0.05       10.33
   19/12/20 |         30        0.05       10.39
   20/12/20 |         30        0.05       10.44
   21/12/20 |         30        0.05       10.49
   22/12/20 |         30        0.05       10.55
   23/12/20 |         30        0.05       10.60
   24/12/20 |         30        0.05       10.65
   25/12/20 |         30        0.05       10.71
   26/12/20 |         30        0.05       10.76
   27/12/20 |         30        0.05       10.82
   28/12/20 |         30        0.05       10.87
   29/12/20 |         30        0.05       10.92
   30/12/20 |         30        0.05       10.98
   31/12/20 |         30        0.05       11.03
   01/01/21 |         86        0.15       11.19
   02/01/21 |         86        0.15       11.34
   03/01/21 |         86        0.15       11.49
   04/01/21 |         86        0.15       11.65
   05/01/21 |         86        0.15       11.80
   06/01/21 |         86        0.15       11.96
   07/01/21 |         86        0.15       12.11
   08/01/21 |         86        0.15       12.27
   09/01/21 |         86        0.15       12.42
   10/01/21 |         86        0.15       12.58
   11/01/21 |         86        0.15       12.73
   12/01/21 |         86        0.15       12.88
   13/01/21 |         86        0.15       13.04
   14/01/21 |         86        0.15       13.19
   15/01/21 |         86        0.15       13.35
   16/01/21 |         86        0.15       13.50
   17/01/21 |         86        0.15       13.66
   18/01/21 |         86        0.15       13.81
   19/01/21 |         86        0.15       13.96
   20/01/21 |         86        0.15       14.12
   21/01/21 |         86        0.15       14.27
   22/01/21 |         86        0.15       14.43
   23/01/21 |         86        0.15       14.58
   24/01/21 |         86        0.15       14.74
   25/01/21 |         86        0.15       14.89
   26/01/21 |         86        0.15       15.04
   27/01/21 |         86        0.15       15.20
   28/01/21 |         86        0.15       15.35
   29/01/21 |         86        0.15       15.51
   30/01/21 |         86        0.15       15.66
   31/01/21 |         86        0.15       15.82
   01/02/21 |         86        0.15       15.97
   02/02/21 |         86        0.15       16.13
   03/02/21 |         86        0.15       16.28
   04/02/21 |         86        0.15       16.43
   05/02/21 |         86        0.15       16.59
   06/02/21 |         86        0.15       16.74
   07/02/21 |         86        0.15       16.90
   08/02/21 |         86        0.15       17.05
   09/02/21 |         86        0.15       17.21
   10/02/21 |         86        0.15       17.36
   11/02/21 |         86        0.15       17.51
   12/02/21 |         86        0.15       17.67
   13/02/21 |         86        0.15       17.82
   14/02/21 |         86        0.15       17.98
   15/02/21 |         86        0.15       18.13
   16/02/21 |         86        0.15       18.29
   17/02/21 |         86        0.15       18.44
   18/02/21 |         86        0.15       18.60
   19/02/21 |         86        0.15       18.75
   20/02/21 |         86        0.15       18.90
   21/02/21 |         86        0.15       19.06
   22/02/21 |         86        0.15       19.21
   23/02/21 |         86        0.15       19.37
   24/02/21 |         86        0.15       19.52
   25/02/21 |         86        0.15       19.68
   26/02/21 |         86        0.15       19.83
   27/02/21 |         86        0.15       19.98
   28/02/21 |         86        0.15       20.14
   01/03/21 |         86        0.15       20.29
   02/03/21 |         86        0.15       20.45
   03/03/21 |         86        0.15       20.60
   04/03/21 |         86        0.15       20.76
   05/03/21 |         86        0.15       20.91
   06/03/21 |         86        0.15       21.07
   07/03/21 |         86        0.15       21.22
   08/03/21 |         86        0.15       21.37
   09/03/21 |         86        0.15       21.53
   10/03/21 |         86        0.15       21.68
   11/03/21 |         86        0.15       21.84
   12/03/21 |         86        0.15       21.99
   13/03/21 |         86        0.15       22.15
   14/03/21 |         86        0.15       22.30
   15/03/21 |         86        0.15       22.45
   16/03/21 |         86        0.15       22.61
   17/03/21 |         86        0.15       22.76
   18/03/21 |         86        0.15       22.92
   19/03/21 |         86        0.15       23.07
   20/03/21 |         86        0.15       23.23
   21/03/21 |         86        0.15       23.38
   22/03/21 |         86        0.15       23.53
   23/03/21 |         86        0.15       23.69
   24/03/21 |         86        0.15       23.84
   25/03/21 |         86        0.15       24.00
   26/03/21 |         86        0.15       24.15
   27/03/21 |         86        0.15       24.31
   28/03/21 |         86        0.15       24.46
   29/03/21 |         86        0.15       24.62
   30/03/21 |         86        0.15       24.77
   31/03/21 |         86        0.15       24.92
   01/04/21 |         86        0.15       25.08
   02/04/21 |         86        0.15       25.23
   03/04/21 |         86        0.15       25.39
   04/04/21 |         86        0.15       25.54
   05/04/21 |         86        0.15       25.70
   06/04/21 |         86        0.15       25.85
   07/04/21 |         86        0.15       26.00
   08/04/21 |         86        0.15       26.16
   09/04/21 |         86        0.15       26.31
   10/04/21 |         86        0.15       26.47
   11/04/21 |         86        0.15       26.62
   12/04/21 |         86        0.15       26.78
   13/04/21 |         86        0.15       26.93
   14/04/21 |         86        0.15       27.09
   15/04/21 |         86        0.15       27.24
   16/04/21 |         86        0.15       27.39
   17/04/21 |         86        0.15       27.55
   18/04/21 |         86        0.15       27.70
   19/04/21 |         86        0.15       27.86
   20/04/21 |         86        0.15       28.01
   21/04/21 |         86        0.15       28.17
   22/04/21 |         86        0.15       28.32
   23/04/21 |         86        0.15       28.47
   24/04/21 |         86        0.15       28.63
   25/04/21 |         86        0.15       28.78
   26/04/21 |         86        0.15       28.94
   27/04/21 |         86        0.15       29.09
   28/04/21 |         86        0.15       29.25
   29/04/21 |         86        0.15       29.40
   30/04/21 |         86        0.15       29.56
   01/05/21 |         85        0.15       29.71
   02/05/21 |         85        0.15       29.86
   03/05/21 |         85        0.15       30.01
   04/05/21 |         85        0.15       30.17
   05/05/21 |         85        0.15       30.32
   06/05/21 |         85        0.15       30.47
   07/05/21 |         85        0.15       30.62
   08/05/21 |         85        0.15       30.78
   09/05/21 |         85        0.15       30.93
   10/05/21 |         85        0.15       31.08
   11/05/21 |         85        0.15       31.23
   12/05/21 |         85        0.15       31.39
   13/05/21 |         85        0.15       31.54
   14/05/21 |         85        0.15       31.69
   15/05/21 |         85        0.15       31.84
   16/05/21 |         85        0.15       32.00
   17/05/21 |         85        0.15       32.15
   18/05/21 |         85        0.15       32.30
   19/05/21 |         85        0.15       32.45
   20/05/21 |         85        0.15       32.61
   21/05/21 |         85        0.15       32.76
   22/05/21 |         85        0.15       32.91
   23/05/21 |         85        0.15       33.06
   24/05/21 |         85        0.15       33.22
   25/05/21 |         85        0.15       33.37
   26/05/21 |         85        0.15       33.52
   27/05/21 |         85        0.15       33.67
   28/05/21 |         85        0.15       33.83
   29/05/21 |         85        0.15       33.98
   30/05/21 |         85        0.15       34.13
   31/05/21 |         85        0.15       34.28
   01/06/21 |         85        0.15       34.44
   02/06/21 |         85        0.15       34.59
   03/06/21 |         85        0.15       34.74
   04/06/21 |         85        0.15       34.89
   05/06/21 |         85        0.15       35.05
   06/06/21 |         86        0.15       35.20
   07/06/21 |         86        0.15       35.36
   08/06/21 |         87        0.16       35.51
   09/06/21 |         87        0.16       35.67
   10/06/21 |         87        0.16       35.82
   11/06/21 |         87        0.16       35.98
   12/06/21 |         87        0.16       36.14
   13/06/21 |         87        0.16       36.29
   14/06/21 |         87        0.16       36.45
   15/06/21 |         87        0.16       36.61
   16/06/21 |         87        0.16       36.76
   17/06/21 |         87        0.16       36.92
   18/06/21 |         87        0.16       37.07
   19/06/21 |         87        0.16       37.23
   20/06/21 |         87        0.16       37.39
   21/06/21 |         87        0.16       37.54
   22/06/21 |         87        0.16       37.70
   23/06/21 |         87        0.16       37.85
   24/06/21 |         87        0.16       38.01
   25/06/21 |         87        0.16       38.17
   26/06/21 |         87        0.16       38.32
   27/06/21 |         87        0.16       38.48
   28/06/21 |         87        0.16       38.64
   29/06/21 |         87        0.16       38.79
   30/06/21 |         87        0.16       38.95
   01/07/21 |         87        0.16       39.10
   02/07/21 |         87        0.16       39.26
   03/07/21 |         87        0.16       39.42
   04/07/21 |         87        0.16       39.57
   05/07/21 |         87        0.16       39.73
   06/07/21 |         87        0.16       39.88
   07/07/21 |         87        0.16       40.04
   08/07/21 |         87        0.16       40.20
   09/07/21 |         87        0.16       40.35
   10/07/21 |         87        0.16       40.51
   11/07/21 |         87        0.16       40.67
   12/07/21 |         87        0.16       40.82
   13/07/21 |         87        0.16       40.98
   14/07/21 |         87        0.16       41.13
   15/07/21 |         87        0.16       41.29
   16/07/21 |         87        0.16       41.45
   17/07/21 |         87        0.16       41.60
   18/07/21 |         87        0.16       41.76
   19/07/21 |         87        0.16       41.91
   20/07/21 |         87        0.16       42.07
   21/07/21 |         87        0.16       42.23
   22/07/21 |         87        0.16       42.38
   23/07/21 |         87        0.16       42.54
   24/07/21 |         87        0.16       42.70
   25/07/21 |         87        0.16       42.85
   26/07/21 |         87        0.16       43.01
   27/07/21 |         87        0.16       43.16
   28/07/21 |         87        0.16       43.32
   29/07/21 |         87        0.16       43.48
   30/07/21 |         87        0.16       43.63
   31/07/21 |         87        0.16       43.79
   01/08/21 |         87        0.16       43.94
   02/08/21 |         87        0.16       44.10
   03/08/21 |         87        0.16       44.26
   04/08/21 |         87        0.16       44.41
   05/08/21 |         88        0.16       44.57
   06/08/21 |         88        0.16       44.73
   07/08/21 |         88        0.16       44.89
   08/08/21 |         88        0.16       45.05
   09/08/21 |         88        0.16       45.20
   10/08/21 |         88        0.16       45.36
   11/08/21 |         88        0.16       45.52
   12/08/21 |         88        0.16       45.68
   13/08/21 |         88        0.16       45.83
   14/08/21 |         89        0.16       45.99
   15/08/21 |         89        0.16       46.15
   16/08/21 |         89        0.16       46.31
   17/08/21 |         89        0.16       46.47
   18/08/21 |         89        0.16       46.63
   19/08/21 |         89        0.16       46.79
   20/08/21 |         89        0.16       46.95
   21/08/21 |         89        0.16       47.11
   22/08/21 |         89        0.16       47.27
   23/08/21 |         89        0.16       47.43
   24/08/21 |         89        0.16       47.59
   25/08/21 |         89        0.16       47.75
   26/08/21 |         89        0.16       47.91
   27/08/21 |         89        0.16       48.07
   28/08/21 |         89        0.16       48.23
   29/08/21 |         89        0.16       48.39
   30/08/21 |         89        0.16       48.55
   31/08/21 |         89        0.16       48.71
   01/09/21 |         89        0.16       48.87
   02/09/21 |         89        0.16       49.03
   03/09/21 |         89        0.16       49.19
   04/09/21 |         89        0.16       49.35
   05/09/21 |         89        0.16       49.51
   06/09/21 |         89        0.16       49.67
   07/09/21 |         89        0.16       49.83
   08/09/21 |         89        0.16       49.99
   09/09/21 |         89        0.16       50.15
   10/09/21 |         89        0.16       50.31
   11/09/21 |         89        0.16       50.47
   12/09/21 |         89        0.16       50.63
   13/09/21 |         89        0.16       50.79
   14/09/21 |         89        0.16       50.95
   15/09/21 |         89        0.16       51.11
   16/09/21 |         89        0.16       51.27
   17/09/21 |         89        0.16       51.43
   18/09/21 |         89        0.16       51.59
   19/09/21 |         89        0.16       51.75
   20/09/21 |         89        0.16       51.91
   21/09/21 |         89        0.16       52.07
   22/09/21 |         89        0.16       52.22
   23/09/21 |         89        0.16       52.38
   24/09/21 |         89        0.16       52.54
   25/09/21 |         89        0.16       52.70
   26/09/21 |         89        0.16       52.86
   27/09/21 |         89        0.16       53.02
   28/09/21 |         89        0.16       53.18
   29/09/21 |         89        0.16       53.34
   30/09/21 |         89        0.16       53.50
   01/10/21 |         89        0.16       53.66
   02/10/21 |         89        0.16       53.82
   03/10/21 |         89        0.16       53.98
   04/10/21 |         89        0.16       54.14
   05/10/21 |         89        0.16       54.30
   06/10/21 |         89        0.16       54.46
   07/10/21 |         89        0.16       54.62
   08/10/21 |         89        0.16       54.78
   09/10/21 |         89        0.16       54.94
   10/10/21 |         89        0.16       55.10
   11/10/21 |         89        0.16       55.26
   12/10/21 |         89        0.16       55.42
   13/10/21 |         89        0.16       55.58
   14/10/21 |         89        0.16       55.74
   15/10/21 |         89        0.16       55.90
   16/10/21 |         89        0.16       56.06
   17/10/21 |         89        0.16       56.22
   18/10/21 |         89        0.16       56.38
   19/10/21 |         89        0.16       56.54
   20/10/21 |         89        0.16       56.70
   21/10/21 |         89        0.16       56.86
   22/10/21 |         89        0.16       57.02
   23/10/21 |         89        0.16       57.18
   24/10/21 |         89        0.16       57.34
   25/10/21 |         89        0.16       57.50
   26/10/21 |         89        0.16       57.66
   27/10/21 |         89        0.16       57.82
   28/10/21 |         89        0.16       57.98
   29/10/21 |         89        0.16       58.14
   30/10/21 |         89        0.16       58.30
   31/10/21 |         89        0.16       58.45
   01/11/21 |         89        0.16       58.61
   02/11/21 |         89        0.16       58.77
   03/11/21 |         89        0.16       58.93
   04/11/21 |         89        0.16       59.09
   05/11/21 |         89        0.16       59.25
   06/11/21 |         89        0.16       59.41
   07/11/21 |         89        0.16       59.57
   08/11/21 |         89        0.16       59.73
   09/11/21 |         89        0.16       59.89
   10/11/21 |         89        0.16       60.05
   11/11/21 |         89        0.16       60.21
   12/11/21 |         89        0.16       60.37
   13/11/21 |         89        0.16       60.53
   14/11/21 |         89        0.16       60.69
   15/11/21 |         89        0.16       60.85
   16/11/21 |         89        0.16       61.01
   17/11/21 |         89        0.16       61.17
   18/11/21 |         89        0.16       61.33
   19/11/21 |         89        0.16       61.49
   20/11/21 |         89        0.16       61.65
   21/11/21 |         89        0.16       61.81
   22/11/21 |         89        0.16       61.97
   23/11/21 |         89        0.16       62.13
   24/11/21 |         89        0.16       62.29
   25/11/21 |         89        0.16       62.45
   26/11/21 |         89        0.16       62.61
   27/11/21 |         89        0.16       62.77
   28/11/21 |         89        0.16       62.93
   29/11/21 |         89        0.16       63.09
   30/11/21 |         89        0.16       63.25
   01/12/21 |         89        0.16       63.41
   02/12/21 |         89        0.16       63.57
   03/12/21 |         89        0.16       63.73
   04/12/21 |         89        0.16       63.89
   05/12/21 |         89        0.16       64.05
   06/12/21 |         89        0.16       64.21
   07/12/21 |         89        0.16       64.37
   08/12/21 |         89        0.16       64.53
   09/12/21 |         89        0.16       64.69
   10/12/21 |         89        0.16       64.84
   11/12/21 |         89        0.16       65.00
   12/12/21 |         89        0.16       65.16
   13/12/21 |         89        0.16       65.32
   14/12/21 |         89        0.16       65.48
   15/12/21 |         89        0.16       65.64
   16/12/21 |         89        0.16       65.80
   17/12/21 |         89        0.16       65.96
   18/12/21 |         89        0.16       66.12
   19/12/21 |         89        0.16       66.28
   20/12/21 |         89        0.16       66.44
   21/12/21 |         89        0.16       66.60
   22/12/21 |         89        0.16       66.76
   23/12/21 |         89        0.16       66.92
   24/12/21 |         89        0.16       67.08
   25/12/21 |         89        0.16       67.24
   26/12/21 |         89        0.16       67.40
   27/12/21 |         89        0.16       67.56
   28/12/21 |         89        0.16       67.72
   29/12/21 |         90        0.16       67.88
   30/12/21 |         90        0.16       68.04
   31/12/21 |         90        0.16       68.20
   01/01/22 |         90        0.16       68.37
   02/01/22 |         90        0.16       68.53
   03/01/22 |         90        0.16       68.69
   04/01/22 |         90        0.16       68.85
   05/01/22 |         90        0.16       69.01
   06/01/22 |         90        0.16       69.17
   07/01/22 |         90        0.16       69.34
   08/01/22 |         90        0.16       69.50
   09/01/22 |         90        0.16       69.66
   10/01/22 |         90        0.16       69.82
   11/01/22 |         90        0.16       69.98
   12/01/22 |         89        0.16       70.14
   13/01/22 |         89        0.16       70.30
   14/01/22 |         89        0.16       70.46
   15/01/22 |         89        0.16       70.62
   16/01/22 |         89        0.16       70.78
   17/01/22 |         89        0.16       70.94
   18/01/22 |         89        0.16       71.10
   19/01/22 |         89        0.16       71.26
   20/01/22 |         89        0.16       71.42
   21/01/22 |         89        0.16       71.58
   22/01/22 |         89        0.16       71.74
   23/01/22 |         89        0.16       71.90
   24/01/22 |         89        0.16       72.06
   25/01/22 |         89        0.16       72.22
   26/01/22 |         89        0.16       72.38
   27/01/22 |         89        0.16       72.54
   28/01/22 |         89        0.16       72.70
   29/01/22 |         89        0.16       72.86
   30/01/22 |         89        0.16       73.02
   31/01/22 |         89        0.16       73.18
   01/02/22 |         89        0.16       73.34
   02/02/22 |         89        0.16       73.50
   03/02/22 |         89        0.16       73.66
   04/02/22 |         89        0.16       73.82
   05/02/22 |         89        0.16       73.98
   06/02/22 |         89        0.16       74.14
   07/02/22 |         89        0.16       74.30
   08/02/22 |         89        0.16       74.45
   09/02/22 |         89        0.16       74.61
   10/02/22 |         89        0.16       74.77
   11/02/22 |         89        0.16       74.93
   12/02/22 |         89        0.16       75.09
   13/02/22 |         89        0.16       75.25
   14/02/22 |         89        0.16       75.41
   15/02/22 |         89        0.16       75.57
   16/02/22 |         89        0.16       75.73
   17/02/22 |         89        0.16       75.89
   18/02/22 |         89        0.16       76.05
   19/02/22 |         89        0.16       76.21
   20/02/22 |         89        0.16       76.37
   21/02/22 |         89        0.16       76.53
   22/02/22 |         89        0.16       76.69
   23/02/22 |         89        0.16       76.85
   24/02/22 |         89        0.16       77.01
   25/02/22 |         89        0.16       77.17
   26/02/22 |         89        0.16       77.33
   27/02/22 |         89        0.16       77.49
   28/02/22 |         89        0.16       77.65
   01/03/22 |         89        0.16       77.81
   02/03/22 |         89        0.16       77.97
   03/03/22 |         89        0.16       78.13
   04/03/22 |         89        0.16       78.29
   05/03/22 |         89        0.16       78.45
   06/03/22 |         89        0.16       78.61
   07/03/22 |         89        0.16       78.77
   08/03/22 |         89        0.16       78.93
   09/03/22 |         89        0.16       79.09
   10/03/22 |         89        0.16       79.25
   11/03/22 |         89        0.16       79.41
   12/03/22 |         89        0.16       79.57
   13/03/22 |         89        0.16       79.73
   14/03/22 |         89        0.16       79.89
   15/03/22 |         89        0.16       80.05
   16/03/22 |         89        0.16       80.21
   17/03/22 |         89        0.16       80.37
   18/03/22 |         89        0.16       80.53
   19/03/22 |         89        0.16       80.68
   20/03/22 |         89        0.16       80.84
   21/03/22 |         89        0.16       81.00
   22/03/22 |         89        0.16       81.16
   23/03/22 |         89        0.16       81.32
   24/03/22 |         89        0.16       81.48
   25/03/22 |         89        0.16       81.64
   26/03/22 |         89        0.16       81.80
   27/03/22 |         89        0.16       81.96
   28/03/22 |         89        0.16       82.12
   29/03/22 |         89        0.16       82.28
   30/03/22 |         89        0.16       82.44
   31/03/22 |         89        0.16       82.60
   01/04/22 |         89        0.16       82.76
   02/04/22 |         89        0.16       82.92
   03/04/22 |         89        0.16       83.08
   04/04/22 |         89        0.16       83.24
   05/04/22 |         89        0.16       83.40
   06/04/22 |         89        0.16       83.56
   07/04/22 |         89        0.16       83.72
   08/04/22 |         89        0.16       83.88
   09/04/22 |         89        0.16       84.04
   10/04/22 |         89        0.16       84.20
   11/04/22 |         89        0.16       84.36
   12/04/22 |         89        0.16       84.52
   13/04/22 |         89        0.16       84.68
   14/04/22 |         89        0.16       84.84
   15/04/22 |         89        0.16       85.00
   16/04/22 |         89        0.16       85.16
   17/04/22 |         90        0.16       85.32
   18/04/22 |         90        0.16       85.48
   19/04/22 |         90        0.16       85.64
   20/04/22 |         90        0.16       85.80
   21/04/22 |         90        0.16       85.97
   22/04/22 |         90        0.16       86.13
   23/04/22 |         90        0.16       86.29
   24/04/22 |         90        0.16       86.45
   25/04/22 |         90        0.16       86.61
   26/04/22 |         90        0.16       86.77
   27/04/22 |         90        0.16       86.93
   28/04/22 |         90        0.16       87.10
   29/04/22 |         90        0.16       87.26
   30/04/22 |         90        0.16       87.42
   01/05/22 |         90        0.16       87.58
   02/05/22 |         90        0.16       87.74
   03/05/22 |         90        0.16       87.90
   04/05/22 |         90        0.16       88.07
   05/05/22 |         90        0.16       88.23
   06/05/22 |         90        0.16       88.39
   07/05/22 |         90        0.16       88.55
   08/05/22 |         90        0.16       88.71
   09/05/22 |         90        0.16       88.87
   10/05/22 |         90        0.16       89.03
   11/05/22 |         90        0.16       89.20
   12/05/22 |         90        0.16       89.36
   13/05/22 |         90        0.16       89.52
   14/05/22 |         90        0.16       89.68
   15/05/22 |         90        0.16       89.84
   16/05/22 |         90        0.16       90.00
   17/05/22 |         90        0.16       90.17
   18/05/22 |         90        0.16       90.33
   19/05/22 |         90        0.16       90.49
   20/05/22 |         90        0.16       90.65
   21/05/22 |         90        0.16       90.81
   22/05/22 |         90        0.16       90.97
   23/05/22 |         90        0.16       91.13
   24/05/22 |         90        0.16       91.30
   25/05/22 |         90        0.16       91.46
   26/05/22 |         90        0.16       91.62
   27/05/22 |         90        0.16       91.78
   28/05/22 |         90        0.16       91.94
   29/05/22 |         90        0.16       92.10
   30/05/22 |         90        0.16       92.27
   31/05/22 |         90        0.16       92.43
   01/06/22 |         90        0.16       92.59
   02/06/22 |         90        0.16       92.75
   03/06/22 |         90        0.16       92.91
   04/06/22 |         90        0.16       93.07
   05/06/22 |         90        0.16       93.23
   06/06/22 |         90        0.16       93.40
   07/06/22 |         90        0.16       93.56
   08/06/22 |         90        0.16       93.72
   09/06/22 |         90        0.16       93.88
   10/06/22 |         90        0.16       94.04
   11/06/22 |         90        0.16       94.20
   12/06/22 |         90        0.16       94.37
   13/06/22 |         90        0.16       94.53
   14/06/22 |         90        0.16       94.69
   15/06/22 |         90        0.16       94.85
   16/06/22 |         90        0.16       95.01
   17/06/22 |         90        0.16       95.17
   18/06/22 |         90        0.16       95.34
   19/06/22 |         90        0.16       95.50
   20/06/22 |         90        0.16       95.66
   21/06/22 |         90        0.16       95.82
   22/06/22 |         90        0.16       95.98
   23/06/22 |         90        0.16       96.14
   24/06/22 |         90        0.16       96.30
   25/06/22 |         90        0.16       96.47
   26/06/22 |         90        0.16       96.63
   27/06/22 |         90        0.16       96.79
   28/06/22 |         90        0.16       96.95
   29/06/22 |         90        0.16       97.11
   30/06/22 |         90        0.16       97.27
   01/07/22 |         90        0.16       97.44
   02/07/22 |         90        0.16       97.60
   03/07/22 |         90        0.16       97.76
   04/07/22 |         90        0.16       97.92
   05/07/22 |         90        0.16       98.08
   06/07/22 |         90        0.16       98.24
   07/07/22 |         89        0.16       98.40
   08/07/22 |         89        0.16       98.56
   09/07/22 |         89        0.16       98.72
   10/07/22 |         89        0.16       98.88
   11/07/22 |         89        0.16       99.04
   12/07/22 |         89        0.16       99.20
   13/07/22 |         89        0.16       99.36
   14/07/22 |         89        0.16       99.52
   15/07/22 |         89        0.16       99.68
   16/07/22 |         89        0.16       99.84
   17/07/22 |         89        0.16      100.00
------------+-----------------------------------
      Total |     55,713      100.00

.                         describe

Contains data from C:\Users\KATES~1\AppData\Local\Temp\ST_62b4_00000w.tmp
 Observations:        55,713                  
    Variables:            11                  1 Dec 2022 20:05
----------------------------------------------------------------------------------------------------------------------------------------------------------------
Variable      Storage   Display    Value
    name         type    format    label      Variable label
----------------------------------------------------------------------------------------------------------------------------------------------------------------
country         str3    %9s                   
country_name    str32   %32s                  
datatype        str10   %10s                  dataType
fcs_people      long    %12.0g                
fcs_prevalence  float   %9.0g                 
rcsi_people     long    %12.0g                
rcsi_prevalence float   %9.0g                 
date            float   %td..                 
year            float   %9.0g                 
month           float   %9.0g                 
day             float   %9.0g                 
----------------------------------------------------------------------------------------------------------------------------------------------------------------
Sorted by: date
     Note: Dataset has changed since last saved.

.                         ren country ISO

.                         tab datatype

   dataType |      Freq.     Percent        Cum.
------------+-----------------------------------
      MIXED |      1,689        3.03        3.03
 PREDICTION |     30,567       54.87       57.90
     SURVEY |     23,457       42.10      100.00
------------+-----------------------------------
      Total |     55,713      100.00

.                         encode datatype, gen(method)

.                         tab method

   dataType |      Freq.     Percent        Cum.
------------+-----------------------------------
      MIXED |      1,689        3.03        3.03
 PREDICTION |     30,567       54.87       57.90
     SURVEY |     23,457       42.10      100.00
------------+-----------------------------------
      Total |     55,713      100.00

.                         recode method (1=3) (3=1)
(25146 changes made to method)

.                         lab def method 1 "Survey" 2 "Predicted" 3 "Mixed", replace

.                         lab val method method

.                         lab var method "Data collection method"

.                         tab method

       Data |
 collection |
     method |      Freq.     Percent        Cum.
------------+-----------------------------------
     Survey |     23,457       42.10       42.10
  Predicted |     30,567       54.87       96.97
      Mixed |      1,689        3.03      100.00
------------+-----------------------------------
      Total |     55,713      100.00

.                         tab country_name if method==1

                    country_name |      Freq.     Percent        Cum.
---------------------------------+-----------------------------------
                     Afghanistan |        698        2.98        2.98
                          Angola |        600        2.56        5.53
                           Benin |        394        1.68        7.21
                    Burkina Faso |        929        3.96       11.17
                        Cameroon |        929        3.96       15.13
        Central African Republic |         19        0.08       15.22
                            Chad |        929        3.96       19.18
                        Colombia |        797        3.40       22.57
                  CÃ´te d'Ivoire |         20        0.09       22.66
                   Côte d'Ivoire |        563        2.40       25.06
Democratic Republic of the Congo |        815        3.47       28.53
                     El Salvador |        798        3.40       31.94
                        Ethiopia |        707        3.01       34.95
                       Guatemala |        798        3.40       38.35
                          Guinea |        627        2.67       41.02
                           Haiti |        477        2.03       43.06
                        Honduras |        796        3.39       46.45
                            Iraq |        805        3.43       49.88
                           Kenya |        605        2.58       52.46
                      Madagascar |        715        3.05       55.51
                          Malawi |        783        3.34       58.85
                            Mali |        929        3.96       62.81
                      Mauritania |        336        1.43       64.24
                      Mozambique |        841        3.59       67.83
                         Namibia |        405        1.73       69.55
                       Nicaragua |        627        2.67       72.23
                           Niger |        929        3.96       76.19
                         Nigeria |        365        1.56       77.74
                    Sierra Leone |        555        2.37       80.11
                         Somalia |        667        2.84       82.95
            Syrian Arab Republic |        929        3.96       86.91
                         Ukraine |         92        0.39       87.30
     United Republic of Tanzania |        734        3.13       90.43
                           Yemen |        929        3.96       94.39
                          Zambia |        665        2.83       97.23
                        Zimbabwe |        650        2.77      100.00
---------------------------------+-----------------------------------
                           Total |     23,457      100.00

.                         tab country_name if method==3 // CAR, Congo, Nigeria

                    country_name |      Freq.     Percent        Cum.
---------------------------------+-----------------------------------
        Central African Republic |        563       33.33       33.33
                           Congo |        563       33.33       66.67
                         Nigeria |        563       33.33      100.00
---------------------------------+-----------------------------------
                           Total |      1,689      100.00

.                         
.                 // Drop FCS variables
.                         drop fcs_people fcs_prevalence

.                         
.                 // Label variables
.                         lab var rcsi_prevalence "Prevalence of reduced coping strategies (%), daily"

.                         * Convert prevalence to 0-100 scale
.                                 replace rcsi_prevalence=rcsi_prevalence*100
(31,158 real changes made)

.                                 
.                         // Merge in country classification
.                                 ren country_name country

.                                 replace country = "Bolivia (Plurinational State of)" if country == "Bolivia"
(563 real changes made)

.                                 replace country = "Côte D'Ivoire" if country == "Côte d'Ivoire"
(563 real changes made)

.                                 replace country = "Côte D'Ivoire" if country == "CÃ´te d'Ivoire"
(20 real changes made)

.                                 replace country = "Cabo Verde" if country == "Cape Verde"
(563 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(563 real changes made)

.                                 replace country = "Iran (Islamic Republic of)" if country == "Iran  (Islamic Republic of)"
(563 real changes made)

.                                 replace country = "Republic of Moldova" if country == "Moldova, Republic of"
(563 real changes made)

.                                 replace country = "Palestine, State of" if country == "State of Palestine"
(563 real changes made)

.                                 merge m:1 ISO country using countryclassification
(variable country was str32, now str58 to accommodate using data's values)
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           198
        from master                         0  (_merge==1)
        from using                        198  (_merge==2)

    Matched                            55,713  (_merge==3)
    -----------------------------------------

.                                 browse if _merge!=3

.                                 drop if _merge!=3
(198 observations deleted)

.                                 drop _merge  

.                         
.                         // Keep only complete years
.                                 drop if year == 2020
(6,146 observations deleted)

.                                 drop if year == 2022
(17,714 observations deleted)

.                         
.                         // Calculate annual metric as maximum prevalence observed in the year 
.                                         // Save labels
.                                                 foreach v of var * {
  2.                                                 local l`v' : variable label `v'
  3.                                                         if `"`l`v''"' == "" {
  4.                                                         local l`v' "`v'"
  5.                                                         }
  6.                                                 }

.                                         collapse (max) rcsi_prevalence (first) incgrp wb_region disp_area UN_status_detail UNmemberstate UN_status territoryof
>  ISO_governing, by(ISO country year)

.                                                 // Relabel
.                                                         foreach v of var * {
  2.                                                         label var `v' "`l`v''"
  3.                                                                 }

.                         lab var rcsi_prevalence "Annual maximum prevalence of use of severe coping strategies (%)"

.                         
.                         // Save
.                                 save rCSI_2021, replace
file rCSI_2021.dta saved

.                                 export delimited using rCSI_2021, datafmt replace
file rCSI_2021.csv saved

.         
.         
. ** LONG-TERM OUTCOMES **********************************************************
. 
. **# Food price volatility (FAO / FSCI) 
.         import delimited using "$datain\FAOSTAT_Monthly Food CPI_2000-2020", clear 
(encoding automatically selected: UTF-8)
(15 vars, 52,608 obs)

.                 ren value CPI_food

.                 lab var CPI_food "Consumer Prices, Food Indices (2015 = 100)"

.                 drop domaincode domain areacodefao yearcode itemcode item monthscode unit

.                 
.                 // Merge in country classification
.                         ren area country

.                         replace country="Côte D'Ivoire" if country=="C?te d'Ivoire"
(264 real changes made)

.                         replace country="Reunion" if country=="R?union"
(264 real changes made)

.                         replace country="Türkiye" if country=="T?rkiye"
(264 real changes made)

.                         replace country = "Gambia (Republic of The)" if country == "Gambia"
(264 real changes made)

.                         replace country = "Palestine, State of" if country == "Palestine"
(264 real changes made)

.                         replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(264 real changes made)

.                         drop if country == "China" // drop aggregate China to avoid double counting
(0 observations deleted)

.                         replace country = "China" if country == "China, mainland"
(264 real changes made)

.                         replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(264 real changes made)

.                         replace country = "Taiwan" if country == "China, Taiwan Province of"
(0 real changes made)

.                         replace country = "Macau" if country == "China, Macao SAR"
(264 real changes made)

.                         replace country = "Åland Islands" if country == "?land Islands"
(264 real changes made)

.                         replace country = "Curaçao" if country == "Cura?ao"
(264 real changes made)

. 
.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            49
        from master                         0  (_merge==1)
        from using                         49  (_merge==2)

    Matched                            52,608  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(49 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            89
        from master                         0  (_merge==1)
        from using                         89  (_merge==2)

    Matched                            52,608  (_merge==3)
    -----------------------------------------

.                         browse if _merge!=3

.                                 drop if _merge!=3 // Aland islands and Curacao
(89 observations deleted)

.                                 drop _merge

.                         * Convert dates to date format
.                                 gen monthnum = month(date(months, "M"))

.                                 tostring year, replace
year was int now str4

.                                 gen yearnum = year(date(year, "Y"))

.                                 gen date = ym(yearnum, monthnum)

.                                         format date %tm

.                                         drop year months

.                                         ren monthnum month

.                                         ren yearnum year

.                                 order ISO country, first

.                                 order wb_region incgrp flag flagdescription note, last

.                 
.                         // Diagnostics - test for stationarity
.                                 encode ISO, gen(i)

.                                 xtset i date // unbalanced

Panel variable: i (unbalanced)
 Time variable: date, 2000m1 to 2021m12
         Delta: 1 month

.                                         tab ISO

 ISO-alpha3 code |      Freq.     Percent        Cum.
-----------------+-----------------------------------
             ABW |        264        0.50        0.50
             AFG |        264        0.50        1.00
             AGO |        264        0.50        1.51
             AIA |        264        0.50        2.01
             ALA |        264        0.50        2.51
             ALB |        264        0.50        3.01
             AND |        264        0.50        3.51
             ARE |        264        0.50        4.01
             ARG |        264        0.50        4.52
             ARM |        264        0.50        5.02
             ATG |        264        0.50        5.52
             AUS |        264        0.50        6.02
             AUT |        264        0.50        6.52
             AZE |        264        0.50        7.03
             BDI |        264        0.50        7.53
             BEL |        264        0.50        8.03
             BEN |        264        0.50        8.53
             BFA |        264        0.50        9.03
             BGD |        264        0.50        9.53
             BGR |        264        0.50       10.04
             BHR |        264        0.50       10.54
             BHS |        264        0.50       11.04
             BIH |        264        0.50       11.54
             BLR |        264        0.50       12.04
             BLZ |        264        0.50       12.55
             BOL |        264        0.50       13.05
             BRA |        264        0.50       13.55
             BRB |        264        0.50       14.05
             BRN |        264        0.50       14.55
             BTN |        264        0.50       15.05
             BWA |        264        0.50       15.56
             CAN |        264        0.50       16.06
             CHE |        264        0.50       16.56
             CHL |        264        0.50       17.06
             CHN |        264        0.50       17.56
             CIV |        264        0.50       18.07
             CMR |        264        0.50       18.57
             COD |        264        0.50       19.07
             COG |        264        0.50       19.57
             COK |        264        0.50       20.07
             COL |        264        0.50       20.57
             COM |        264        0.50       21.08
             CPV |        264        0.50       21.58
             CRI |        264        0.50       22.08
             CUW |        264        0.50       22.58
             CYM |        264        0.50       23.08
             CYP |        264        0.50       23.59
             CZE |        264        0.50       24.09
             DEU |        264        0.50       24.59
             DJI |        264        0.50       25.09
             DMA |        264        0.50       25.59
             DNK |        264        0.50       26.09
             DOM |        264        0.50       26.60
             DZA |        264        0.50       27.10
             ECU |        264        0.50       27.60
             EGY |        264        0.50       28.10
             ESP |        264        0.50       28.60
             EST |        264        0.50       29.11
             ETH |        264        0.50       29.61
             FIN |        264        0.50       30.11
             FJI |        264        0.50       30.61
             FRA |        264        0.50       31.11
             FSM |        264        0.50       31.61
             GAB |        264        0.50       32.12
             GBR |        264        0.50       32.62
             GEO |        264        0.50       33.12
             GHA |        264        0.50       33.62
             GIN |        264        0.50       34.12
             GLP |        264        0.50       34.63
             GMB |        264        0.50       35.13
             GNB |        264        0.50       35.63
             GNQ |        264        0.50       36.13
             GRC |        264        0.50       36.63
             GRD |        264        0.50       37.14
             GRL |        264        0.50       37.64
             GTM |        264        0.50       38.14
             GUM |        264        0.50       38.64
             HKG |        264        0.50       39.14
             HND |        264        0.50       39.64
             HRV |        264        0.50       40.15
             HTI |        264        0.50       40.65
             HUN |        264        0.50       41.15
             IDN |        264        0.50       41.65
             IND |        264        0.50       42.15
             IRL |        264        0.50       42.66
             IRN |        264        0.50       43.16
             IRQ |        264        0.50       43.66
             ISL |        264        0.50       44.16
             ISR |        264        0.50       44.66
             ITA |        264        0.50       45.16
             JAM |        264        0.50       45.67
             JOR |        264        0.50       46.17
             JPN |        264        0.50       46.67
             KAZ |        264        0.50       47.17
             KEN |        264        0.50       47.67
             KGZ |        264        0.50       48.18
             KHM |        264        0.50       48.68
             KIR |        264        0.50       49.18
             KNA |        264        0.50       49.68
             KOR |        264        0.50       50.18
             KWT |        264        0.50       50.68
             LAO |        264        0.50       51.19
             LBN |        264        0.50       51.69
             LBR |        264        0.50       52.19
             LBY |        264        0.50       52.69
             LCA |        264        0.50       53.19
             LKA |        264        0.50       53.70
             LSO |        264        0.50       54.20
             LTU |        264        0.50       54.70
             LUX |        264        0.50       55.20
             LVA |        264        0.50       55.70
             MAC |        264        0.50       56.20
             MAR |        264        0.50       56.71
             MDA |        264        0.50       57.21
             MDG |        264        0.50       57.71
             MDV |        264        0.50       58.21
             MEX |        264        0.50       58.71
             MKD |        264        0.50       59.22
             MLI |        264        0.50       59.72
             MLT |        264        0.50       60.22
             MMR |        264        0.50       60.72
             MNE |        264        0.50       61.22
             MNG |        264        0.50       61.72
             MOZ |        264        0.50       62.23
             MRT |        264        0.50       62.73
             MSR |        264        0.50       63.23
             MTQ |        264        0.50       63.73
             MUS |        264        0.50       64.23
             MWI |        264        0.50       64.74
             MYS |        264        0.50       65.24
             NAM |        264        0.50       65.74
             NCL |        264        0.50       66.24
             NER |        264        0.50       66.74
             NGA |        264        0.50       67.24
             NIC |        264        0.50       67.75
             NLD |        264        0.50       68.25
             NOR |        264        0.50       68.75
             NPL |        264        0.50       69.25
             NZL |        264        0.50       69.75
             OMN |        264        0.50       70.26
             PAK |        264        0.50       70.76
             PAN |        264        0.50       71.26
             PER |        264        0.50       71.76
             PHL |        264        0.50       72.26
             PLW |        264        0.50       72.76
             PNG |        264        0.50       73.27
             POL |        264        0.50       73.77
             PRI |        264        0.50       74.27
             PRT |        264        0.50       74.77
             PRY |        264        0.50       75.27
             PSE |        264        0.50       75.78
             PYF |        264        0.50       76.28
             QAT |        264        0.50       76.78
             REU |        264        0.50       77.28
             ROU |        264        0.50       77.78
             RUS |        264        0.50       78.28
             RWA |        264        0.50       78.79
             SAU |        264        0.50       79.29
             SDN |        168        0.32       79.61
             SEN |        264        0.50       80.11
             SGP |        264        0.50       80.61
             SLB |        264        0.50       81.11
             SLE |        264        0.50       81.61
             SLV |        264        0.50       82.12
             SMR |        264        0.50       82.62
             SRB |        264        0.50       83.12
             SSD |        168        0.32       83.44
             STP |        264        0.50       83.94
             SUR |        264        0.50       84.44
             SVK |        264        0.50       84.95
             SVN |        264        0.50       85.45
             SWE |        264        0.50       85.95
             SWZ |        264        0.50       86.45
             SYC |        264        0.50       86.95
             SYR |        264        0.50       87.45
             TCD |        264        0.50       87.96
             TGO |        264        0.50       88.46
             THA |        264        0.50       88.96
             TJK |        264        0.50       89.46
             TLS |        264        0.50       89.96
             TON |        264        0.50       90.47
             TTO |        264        0.50       90.97
             TUN |        264        0.50       91.47
             TUR |        264        0.50       91.97
             TZA |        264        0.50       92.47
             UGA |        264        0.50       92.97
             UKR |        264        0.50       93.48
             URY |        264        0.50       93.98
             USA |        264        0.50       94.48
             UZB |        264        0.50       94.98
             VCT |        264        0.50       95.48
             VEN |        264        0.50       95.99
             VGB |        264        0.50       96.49
             VNM |        264        0.50       96.99
             VUT |        264        0.50       97.49
             WSM |        264        0.50       97.99
             YEM |        264        0.50       98.49
             ZAF |        264        0.50       99.00
             ZMB |        264        0.50       99.50
             ZWE |        264        0.50      100.00
-----------------+-----------------------------------
           Total |     52,608      100.00

.                                         egen countnm = count(CPI_food != .), by(ISO)

.                                         tab ISO, sum(countnm)

                |         Summary of countnm
ISO-alpha3 code |        Mean   Std. dev.       Freq.
----------------+------------------------------------
            ABW |         264           0         264
            AFG |         264           0         264
            AGO |         264           0         264
            AIA |         264           0         264
            ALA |         264           0         264
            ALB |         264           0         264
            AND |         264           0         264
            ARE |         264           0         264
            ARG |         264           0         264
            ARM |         264           0         264
            ATG |         264           0         264
            AUS |         264           0         264
            AUT |         264           0         264
            AZE |         264           0         264
            BDI |         264           0         264
            BEL |         264           0         264
            BEN |         264           0         264
            BFA |         264           0         264
            BGD |         264           0         264
            BGR |         264           0         264
            BHR |         264           0         264
            BHS |         264           0         264
            BIH |         264           0         264
            BLR |         264           0         264
            BLZ |         264           0         264
            BOL |         264           0         264
            BRA |         264           0         264
            BRB |         264           0         264
            BRN |         264           0         264
            BTN |         264           0         264
            BWA |         264           0         264
            CAN |         264           0         264
            CHE |         264           0         264
            CHL |         264           0         264
            CHN |         264           0         264
            CIV |         264           0         264
            CMR |         264           0         264
            COD |         264           0         264
            COG |         264           0         264
            COK |         264           0         264
            COL |         264           0         264
            COM |         264           0         264
            CPV |         264           0         264
            CRI |         264           0         264
            CUW |         264           0         264
            CYM |         264           0         264
            CYP |         264           0         264
            CZE |         264           0         264
            DEU |         264           0         264
            DJI |         264           0         264
            DMA |         264           0         264
            DNK |         264           0         264
            DOM |         264           0         264
            DZA |         264           0         264
            ECU |         264           0         264
            EGY |         264           0         264
            ESP |         264           0         264
            EST |         264           0         264
            ETH |         264           0         264
            FIN |         264           0         264
            FJI |         264           0         264
            FRA |         264           0         264
            FSM |         264           0         264
            GAB |         264           0         264
            GBR |         264           0         264
            GEO |         264           0         264
            GHA |         264           0         264
            GIN |         264           0         264
            GLP |         264           0         264
            GMB |         264           0         264
            GNB |         264           0         264
            GNQ |         264           0         264
            GRC |         264           0         264
            GRD |         264           0         264
            GRL |         264           0         264
            GTM |         264           0         264
            GUM |         264           0         264
            HKG |         264           0         264
            HND |         264           0         264
            HRV |         264           0         264
            HTI |         264           0         264
            HUN |         264           0         264
            IDN |         264           0         264
            IND |         264           0         264
            IRL |         264           0         264
            IRN |         264           0         264
            IRQ |         264           0         264
            ISL |         264           0         264
            ISR |         264           0         264
            ITA |         264           0         264
            JAM |         264           0         264
            JOR |         264           0         264
            JPN |         264           0         264
            KAZ |         264           0         264
            KEN |         264           0         264
            KGZ |         264           0         264
            KHM |         264           0         264
            KIR |         264           0         264
            KNA |         264           0         264
            KOR |         264           0         264
            KWT |         264           0         264
            LAO |         264           0         264
            LBN |         264           0         264
            LBR |         264           0         264
            LBY |         264           0         264
            LCA |         264           0         264
            LKA |         264           0         264
            LSO |         264           0         264
            LTU |         264           0         264
            LUX |         264           0         264
            LVA |         264           0         264
            MAC |         264           0         264
            MAR |         264           0         264
            MDA |         264           0         264
            MDG |         264           0         264
            MDV |         264           0         264
            MEX |         264           0         264
            MKD |         264           0         264
            MLI |         264           0         264
            MLT |         264           0         264
            MMR |         264           0         264
            MNE |         264           0         264
            MNG |         264           0         264
            MOZ |         264           0         264
            MRT |         264           0         264
            MSR |         264           0         264
            MTQ |         264           0         264
            MUS |         264           0         264
            MWI |         264           0         264
            MYS |         264           0         264
            NAM |         264           0         264
            NCL |         264           0         264
            NER |         264           0         264
            NGA |         264           0         264
            NIC |         264           0         264
            NLD |         264           0         264
            NOR |         264           0         264
            NPL |         264           0         264
            NZL |         264           0         264
            OMN |         264           0         264
            PAK |         264           0         264
            PAN |         264           0         264
            PER |         264           0         264
            PHL |         264           0         264
            PLW |         264           0         264
            PNG |         264           0         264
            POL |         264           0         264
            PRI |         264           0         264
            PRT |         264           0         264
            PRY |         264           0         264
            PSE |         264           0         264
            PYF |         264           0         264
            QAT |         264           0         264
            REU |         264           0         264
            ROU |         264           0         264
            RUS |         264           0         264
            RWA |         264           0         264
            SAU |         264           0         264
            SDN |         168           0         168
            SEN |         264           0         264
            SGP |         264           0         264
            SLB |         264           0         264
            SLE |         264           0         264
            SLV |         264           0         264
            SMR |         264           0         264
            SRB |         264           0         264
            SSD |         168           0         168
            STP |         264           0         264
            SUR |         264           0         264
            SVK |         264           0         264
            SVN |         264           0         264
            SWE |         264           0         264
            SWZ |         264           0         264
            SYC |         264           0         264
            SYR |         264           0         264
            TCD |         264           0         264
            TGO |         264           0         264
            THA |         264           0         264
            TJK |         264           0         264
            TLS |         264           0         264
            TON |         264           0         264
            TTO |         264           0         264
            TUN |         264           0         264
            TUR |         264           0         264
            TZA |         264           0         264
            UGA |         264           0         264
            UKR |         264           0         264
            URY |         264           0         264
            USA |         264           0         264
            UZB |         264           0         264
            VCT |         264           0         264
            VEN |         264           0         264
            VGB |         264           0         264
            VNM |         264           0         264
            VUT |         264           0         264
            WSM |         264           0         264
            YEM |         264           0         264
            ZAF |         264           0         264
            ZMB |         264           0         264
            ZWE |         264           0         264
----------------+------------------------------------
          Total |   263.38686   7.6476458      52,608

.                                         tab country if countnm<264

                                   Area |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                            South Sudan |        168       50.00       50.00
                                  Sudan |        168       50.00      100.00
----------------------------------------+-----------------------------------
                                  Total |        336      100.00

.                                         * Unbalanced panel because Sudan has missing data
.                                 
.                                 // Log the index
.                                         gen log_fpi = log(CPI_food)

.                                                 lab var log_fpi "Logged Food Price Index, monthly"

.                                 
.                                 /* Visual inspection
>                                         forval r=1/7 {
>                                                 local v : label (wb_region) `r'
>                                                 xtline log_fpi if wb_region == `r', overlay legend(size(tiny) rowgap(zero) rows(4)) name(fpi_`r', replace) yti
> tle("Log Food Price Index") xtitle("") title("`v'", size(small))
>                                         }
>                                         forval r=1/7 {
>                                                 graph display fpi_`r'
>                                                 graph export fpi_`r'.png, replace
>                                         } */
. 
.                                 // Unit root tests
.                                         * Key features of the data that define most appropriate test:
.                                                 * Unbalanced panel
.                                                 * assumption that all panels share the same autoregressive parameter so that ρi = ρ for all i does not holding
> s
.                                                 ** --> only fisher-type and Im–Pesaran–Shin tests can be used
.                                         xtunitroot ips CPI_food, demean 

Im–Pesaran–Shin unit-root test for CPI_food
-------------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: Some panels are stationary              Avg. number of periods = 263.04

AR parameter: Panel-specific                Asymptotics: T,N -> Infinity
Panel means:  Included                                        sequentially
Time trend:   Not included                  Cross-sectional means removed

ADF regressions: No lags included
------------------------------------------------------------------------------
                                              Fixed-N exact critical values
                    Statistic      p-value         1%      5%      10%
------------------------------------------------------------------------------
 t-bar                7.8611                          (Not available)
 t-tilde-bar          7.0795
 Z-t-tilde-bar      146.1222        1.0000
------------------------------------------------------------------------------

.                                         xtunitroot ips CPI_food, trend 

Im–Pesaran–Shin unit-root test for CPI_food
-------------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: Some panels are stationary              Avg. number of periods = 263.04

AR parameter: Panel-specific                Asymptotics: T,N -> Infinity
Panel means:  Included                                        sequentially
Time trend:   Included

ADF regressions: No lags included
------------------------------------------------------------------------------
                                              Fixed-N exact critical values
                    Statistic      p-value         1%      5%      10%
------------------------------------------------------------------------------
 t-bar               -0.5858                          (Not available)
 t-tilde-bar         -1.0096
 Z-t-tilde-bar        8.5605        1.0000
------------------------------------------------------------------------------

.                                         xtunitroot ips CPI_food, demean trend

Im–Pesaran–Shin unit-root test for CPI_food
-------------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: Some panels are stationary              Avg. number of periods = 263.04

AR parameter: Panel-specific                Asymptotics: T,N -> Infinity
Panel means:  Included                                        sequentially
Time trend:   Included                      Cross-sectional means removed

ADF regressions: No lags included
------------------------------------------------------------------------------
                                              Fixed-N exact critical values
                    Statistic      p-value         1%      5%      10%
------------------------------------------------------------------------------
 t-bar                6.8113                          (Not available)
 t-tilde-bar          6.1170
 Z-t-tilde-bar      129.7551        1.0000
------------------------------------------------------------------------------

.                                         xtunitroot fisher CPI_food, lags(11) dfuller // 11 lags to account for seasonality

Fisher-type unit-root test for CPI_food
Based on augmented Dickey–Fuller tests
---------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: At least one panel is stationary        Avg. number of periods = 263.04

AR parameter: Panel-specific                Asymptotics: T -> Infinity
Panel means:  Included
Time trend:   Not included
Drift term:   Not included                  ADF regressions: 11 lags
------------------------------------------------------------------------------
                                  Statistic      p-value
------------------------------------------------------------------------------
 Inverse chi-squared(400)  P       112.9862       1.0000
 Inverse normal            Z        18.5616       1.0000
 Inverse logit t(899)      L*       20.2192       1.0000
 Modified inv. chi-squared Pm      -10.1475       1.0000
------------------------------------------------------------------------------
 P statistic requires number of panels to be finite.
 Other statistics are suitable for finite or infinite number of panels.
------------------------------------------------------------------------------

.                                         xtunitroot fisher CPI_food, lags(11) dfuller drift // --> Evidence of drift

Fisher-type unit-root test for CPI_food
Based on augmented Dickey–Fuller tests
---------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: At least one panel is stationary        Avg. number of periods = 263.04

AR parameter: Panel-specific                Asymptotics: T -> Infinity
Panel means:  Included
Time trend:   Not included
Drift term:   Included                      ADF regressions: 11 lags
------------------------------------------------------------------------------
                                  Statistic      p-value
------------------------------------------------------------------------------
 Inverse chi-squared(400)  P       478.0476       0.0044
 Inverse normal            Z         3.9806       1.0000
 Inverse logit t(1004)     L*        6.8955       1.0000
 Modified inv. chi-squared Pm        2.7594       0.0029
------------------------------------------------------------------------------
 P statistic requires number of panels to be finite.
 Other statistics are suitable for finite or infinite number of panels.
------------------------------------------------------------------------------

.                                         xtunitroot fisher CPI_food, lags(11) dfuller trend // --> No evidence of trend

Fisher-type unit-root test for CPI_food
Based on augmented Dickey–Fuller tests
---------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: At least one panel is stationary        Avg. number of periods = 263.04

AR parameter: Panel-specific                Asymptotics: T -> Infinity
Panel means:  Included
Time trend:   Included
Drift term:   Not included                  ADF regressions: 11 lags
------------------------------------------------------------------------------
                                  Statistic      p-value
------------------------------------------------------------------------------
 Inverse chi-squared(400)  P       256.8110       1.0000
 Inverse normal            Z         5.3311       1.0000
 Inverse logit t(899)      L*        5.3462       1.0000
 Modified inv. chi-squared Pm       -5.0625       1.0000
------------------------------------------------------------------------------
 P statistic requires number of panels to be finite.
 Other statistics are suitable for finite or infinite number of panels.
------------------------------------------------------------------------------

.                                         xtunitroot fisher CPI_food, lags(11) pperron

Fisher-type unit-root test for CPI_food
Based on Phillips–Perron tests
---------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: At least one panel is stationary        Avg. number of periods = 263.04

AR parameter:    Panel-specific             Asymptotics: T -> Infinity
Panel means:     Included
Time trend:      Not included
Newey–West lags: 11 lags
------------------------------------------------------------------------------
                                  Statistic      p-value
------------------------------------------------------------------------------
 Inverse chi-squared(400)  P       113.5335       1.0000
 Inverse normal            Z        17.0111       1.0000
 Inverse logit t(814)      L*       18.3050       1.0000
 Modified inv. chi-squared Pm      -10.1281       1.0000
------------------------------------------------------------------------------
 P statistic requires number of panels to be finite.
 Other statistics are suitable for finite or infinite number of panels.
------------------------------------------------------------------------------

.                                         * --> As expected, evidence of non-stationarity
.                                 
.                                 // First difference the logged FPI by convention (Gilbert & Morgan 2010)
.                                         sort ISO date

.                                         by ISO: gen fpi_diff1 = log_fpi[_n] - log_fpi[_n-1]
(200 missing values generated)

.                                                 * Take the absolute value of the logged first difference
.                                                 sum fpi_diff1

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
   fpi_diff1 |     52,408    .0052906    .0269458  -2.153036    2.51918

.                                                 sum fpi_diff1 if fpi_diff1 < 0

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
   fpi_diff1 |     14,958   -.0091201    .0222966  -2.153036  -9.54e-07

.                                                 replace fpi_diff1 = abs(fpi_diff1)
(14,958 real changes made)

.                                                 lab var fpi_diff1 "Absolute value of first difference of logged monthly Food Price Index"

.                                         
.                                         * IPS test
.                                         xtunitroot ips fpi_diff1 // reject H0 that all are non-stationary in favor of Ha that at least one panel is stationary

Im–Pesaran–Shin unit-root test for fpi_diff1
--------------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: Some panels are stationary              Avg. number of periods = 262.04

AR parameter: Panel-specific                Asymptotics: T,N -> Infinity
Panel means:  Included                                        sequentially
Time trend:   Not included

ADF regressions: No lags included
------------------------------------------------------------------------------
                                              Fixed-N exact critical values
                    Statistic      p-value         1%      5%      10%
------------------------------------------------------------------------------
 t-bar              -11.2113                          (Not available)
 t-tilde-bar         -9.0454
 Z-t-tilde-bar      -1.3e+02        0.0000
------------------------------------------------------------------------------

.                                                 xtunitroot ips fpi_diff1, demean // no evidence of drift (test stats unaltered relative to first specification
> )

Im–Pesaran–Shin unit-root test for fpi_diff1
--------------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: Some panels are stationary              Avg. number of periods = 262.04

AR parameter: Panel-specific                Asymptotics: T,N -> Infinity
Panel means:  Included                                        sequentially
Time trend:   Not included                  Cross-sectional means removed

ADF regressions: No lags included
------------------------------------------------------------------------------
                                              Fixed-N exact critical values
                    Statistic      p-value         1%      5%      10%
------------------------------------------------------------------------------
 t-bar              -11.0449                          (Not available)
 t-tilde-bar         -8.9897
 Z-t-tilde-bar      -1.3e+02        0.0000
------------------------------------------------------------------------------

.                                                 xtunitroot ips fpi_diff1, trend  // no evidence of trend (test stats unaltered relative to first specification
> )

Im–Pesaran–Shin unit-root test for fpi_diff1
--------------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: Some panels are stationary              Avg. number of periods = 262.04

AR parameter: Panel-specific                Asymptotics: T,N -> Infinity
Panel means:  Included                                        sequentially
Time trend:   Included

ADF regressions: No lags included
------------------------------------------------------------------------------
                                              Fixed-N exact critical values
                    Statistic      p-value         1%      5%      10%
------------------------------------------------------------------------------
 t-bar              -11.6389                          (Not available)
 t-tilde-bar         -9.2818
 Z-t-tilde-bar      -1.3e+02        0.0000
------------------------------------------------------------------------------

.                                                 xtunitroot ips fpi_diff1, demean trend

Im–Pesaran–Shin unit-root test for fpi_diff1
--------------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: Some panels are stationary              Avg. number of periods = 262.04

AR parameter: Panel-specific                Asymptotics: T,N -> Infinity
Panel means:  Included                                        sequentially
Time trend:   Included                      Cross-sectional means removed

ADF regressions: No lags included
------------------------------------------------------------------------------
                                              Fixed-N exact critical values
                    Statistic      p-value         1%      5%      10%
------------------------------------------------------------------------------
 t-bar              -11.5966                          (Not available)
 t-tilde-bar         -9.2975
 Z-t-tilde-bar      -1.3e+02        0.0000
------------------------------------------------------------------------------

.                                         * ADF test
.                                                 xtunitroot fisher fpi_diff1, lags(11) dfuller // 11 lags to account for seasonality
(200 missing values generated)

Fisher-type unit-root test for fpi_diff1
Based on augmented Dickey–Fuller tests
----------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: At least one panel is stationary        Avg. number of periods = 262.04

AR parameter: Panel-specific                Asymptotics: T -> Infinity
Panel means:  Included
Time trend:   Not included
Drift term:   Not included                  ADF regressions: 11 lags
------------------------------------------------------------------------------
                                  Statistic      p-value
------------------------------------------------------------------------------
 Inverse chi-squared(400)  P      1626.4400       0.0000
 Inverse normal            Z       -27.2609       0.0000
 Inverse logit t(1004)     L*      -30.7872       0.0000
 Modified inv. chi-squared Pm       43.3612       0.0000
------------------------------------------------------------------------------
 P statistic requires number of panels to be finite.
 Other statistics are suitable for finite or infinite number of panels.
------------------------------------------------------------------------------

.                                                         * identify fewest lags that are still significant
.                                                         xtunitroot fisher fpi_diff1, lags(1) dfuller
(200 missing values generated)

Fisher-type unit-root test for fpi_diff1
Based on augmented Dickey–Fuller tests
----------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: At least one panel is stationary        Avg. number of periods = 262.04

AR parameter: Panel-specific                Asymptotics: T -> Infinity
Panel means:  Included
Time trend:   Not included
Drift term:   Not included                  ADF regressions: 1 lag
------------------------------------------------------------------------------
                                  Statistic      p-value
------------------------------------------------------------------------------
 Inverse chi-squared(400)  P       1.12e+04       0.0000
 Inverse normal            Z       -99.1843       0.0000
 Inverse logit t(1004)     L*     -219.2188       0.0000
 Modified inv. chi-squared Pm      383.2786       0.0000
------------------------------------------------------------------------------
 P statistic requires number of panels to be finite.
 Other statistics are suitable for finite or infinite number of panels.
------------------------------------------------------------------------------

.                                                         * test for drift and trend
.                                                                 xtunitroot fisher fpi_diff1, lags(1) dfuller drift // --> No evidence of drift 
(200 missing values generated)

Fisher-type unit-root test for fpi_diff1
Based on augmented Dickey–Fuller tests
----------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: At least one panel is stationary        Avg. number of periods = 262.04

AR parameter: Panel-specific                Asymptotics: T -> Infinity
Panel means:  Included
Time trend:   Not included
Drift term:   Included                      ADF regressions: 1 lag
------------------------------------------------------------------------------
                                  Statistic      p-value
------------------------------------------------------------------------------
 Inverse chi-squared(400)  P       1.24e+04       0.0000
 Inverse normal            Z      -105.2273       0.0000
 Inverse logit t(1004)     L*     -242.0445       0.0000
 Modified inv. chi-squared Pm      424.6590       0.0000
------------------------------------------------------------------------------
 P statistic requires number of panels to be finite.
 Other statistics are suitable for finite or infinite number of panels.
------------------------------------------------------------------------------

.                                                                 xtunitroot fisher fpi_diff1, lags(1) dfuller trend // --> No evidence of trend
(200 missing values generated)

Fisher-type unit-root test for fpi_diff1
Based on augmented Dickey–Fuller tests
----------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: At least one panel is stationary        Avg. number of periods = 262.04

AR parameter: Panel-specific                Asymptotics: T -> Infinity
Panel means:  Included
Time trend:   Included
Drift term:   Not included                  ADF regressions: 1 lag
------------------------------------------------------------------------------
                                  Statistic      p-value
------------------------------------------------------------------------------
 Inverse chi-squared(400)  P       1.08e+04       0.0000
 Inverse normal            Z       -96.9259       0.0000
 Inverse logit t(1004)     L*     -210.7723       0.0000
 Modified inv. chi-squared Pm      367.9659       0.0000
------------------------------------------------------------------------------
 P statistic requires number of panels to be finite.
 Other statistics are suitable for finite or infinite number of panels.
------------------------------------------------------------------------------

.                                         * PPerron test
.                                                 xtunitroot fisher fpi_diff1, lags(1) pperron
(200 missing values generated)

Fisher-type unit-root test for fpi_diff1
Based on Phillips–Perron tests
----------------------------------------
H0: All panels contain unit roots           Number of panels       =    200
Ha: At least one panel is stationary        Avg. number of periods = 262.04

AR parameter:    Panel-specific             Asymptotics: T -> Infinity
Panel means:     Included
Time trend:      Not included
Newey–West lags: 1 lag
------------------------------------------------------------------------------
                                  Statistic      p-value
------------------------------------------------------------------------------
 Inverse chi-squared(400)  P       1.33e+04       0.0000
 Inverse normal            Z      -109.2972       0.0000
 Inverse logit t(1004)     L*     -259.5686       0.0000
 Modified inv. chi-squared Pm      456.4285       0.0000
------------------------------------------------------------------------------
 P statistic requires number of panels to be finite.
 Other statistics are suitable for finite or infinite number of panels.
------------------------------------------------------------------------------

.                                                 * --> confirm first differencing logged FPI results in trend stationarity
.                                         
.                                 /* visualize first difference of logged FPI
>                                         forval r=1/7 {
>                                         local v : label (wb_region) `r'
>                                         xtline fpi_diff1 if wb_region == `r', overlay legend(size(tiny) rowgap(zero) rows(4)) name(fdiff_fpi_`r', replace) yti
> tle("Log Food Price Index") xtitle("") title("`v'", size(small))
>                                 }
>                                         // visualize per country
>                                         sum i
>                                         forval i=1/198 {
>                                         local v : label (i) `i'
>                                         xtline fpi_diff1 if i == `i', overlay legend(off) name(fpvol_`i', replace) ytitle("Log Food Price Index") xtitle("") t
> itle("`v'", size(small))
>                                 }*/
. 
.                         // Generate volatility measures
.                                 sort ISO year

.                                 egen fpi_sd = sd(fpi_diff1), by(ISO year)

.                                         lab var fpi_sd "Standard Deviation of (first differenced logged) Food Price Index, annual"

.                                         sum fpi_sd

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
      fpi_sd |     52,608    .0074622    .0164221          0   .8072426

.                                 egen fpi_mean = mean(fpi_diff1), by(ISO year)

.                                         lab var fpi_mean "Mean of (first differenced logged) Food Price Index, annual"

.                                         sum fpi_mean

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
    fpi_mean |     52,608    .0104932    .0185655          0   .6424599

.                                 bys ISO year: gen fpi_cv = (fpi_sd / fpi_mean)
(12 missing values generated)

.                                         lab var fpi_cv "Food price volatility (CV of first difference logged food price index), annual"

.                                         sum fpi_cv

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
      fpi_cv |     52,596     .660279    .3592672   .0008129   3.464102

.                                         * Check
.                                         tabstat fpi_diff1, stats(sd mean cv) by(ISO)

Summary for variables: fpi_diff1
Group variable: ISO (ISO-alpha3 code)

             ISO |        SD      Mean        CV
-----------------+------------------------------
             ABW |  .0051678  .0047817  1.080746
             AFG |  .0185553  .0157384  1.178982
             AGO |  .0269899  .0251467  1.073298
             AIA |  .0037292  .0038939  .9577063
             ALA |  .0034222  .0035922  .9526504
             ALB |  .0280271  .0134145  2.089316
             AND |   .002404  .0025133  .9565157
             ARE |  .0063361  .0061453  1.031047
             ARG |  .0150166  .0145078  1.035072
             ARM |  .0149823  .0136707  1.095945
             ATG |  .0064401  .0061382   1.04919
             AUS |  .0027562   .003333  .8269384
             AUT |  .0049123  .0049211  .9981932
             AZE |  .0112007  .0121211  .9240631
             BDI |  .0209624   .022648  .9255711
             BEL |  .0042386  .0050442  .8402994
             BEN |  .0171597  .0222232  .7721533
             BFA |  .0214834  .0215117  .9986832
             BGD |  .0072862  .0085932   .847904
             BGR |  .0111735  .0114454  .9762428
             BHR |  .0119896  .0102981  1.164248
             BHS |  .0071159  .0050729  1.402733
             BIH |  .0061818  .0054563  1.132961
             BLR |  .0219206  .0182733  1.199596
             BLZ |  .0041343  .0045668  .9053095
             BOL |  .0098388  .0095731  1.027751
             BRA |  .0068114  .0074977  .9084617
             BRB |  .0082636  .0077986  1.059626
             BRN |  .0019979  .0017661  1.131236
             BTN |  .0077322  .0065432  1.181718
             BWA |  .0057847  .0059183  .9774269
             CAN |  .0047113  .0062691  .7515143
             CHE |  .0034276  .0045008  .7615509
             CHL |  .0059726  .0071694  .8330728
             CHN |  .0109756   .013384   .820057
             CIV |  .0151434  .0141505  1.070165
             CMR |  .0032824  .0036755  .8930447
             COD |  .0604278  .0211122  2.862216
             COG |  .0130733  .0118345  1.104677
             COK |  .0026292  .0026101  1.007317
             COL |  .0077152  .0080829  .9545131
             COM |  .0201281  .0217612  .9249546
             CPV |  .0057286  .0062032  .9234962
             CRI |  .0074199  .0093554  .7931112
             CUW |  .0021082  .0045774  .4605585
             CYM |  .0026392   .003359  .7857074
             CYP |  .0120529  .0142094  .8482327
             CZE |  .0068217   .007861  .8677889
             DEU |  .0045337   .004854  .9339983
             DJI |  .0127903  .0110256  1.160054
             DMA |  .0039942  .0033866  1.179413
             DNK |   .003685  .0048486  .7600215
             DOM |  .0148287    .01059  1.400254
             DZA |  .0109452   .012635  .8662661
             ECU |  .0132355  .0094708  1.397497
             EGY |  .0131997  .0146065  .9036876
             ESP |   .003116  .0035888  .8682439
             EST |  .0062308  .0074458  .8368248
             ETH |  .0201579  .0185613  1.086021
             FIN |   .006513  .0061914  1.051941
             FJI |  .0126686  .0096757  1.309325
             FRA |  .0034717  .0041423  .8381125
             FSM |  .0052095  .0029375  1.773407
             GAB |  .0099806  .0069795  1.429972
             GBR |  .0042383  .0048469  .8744451
             GEO |  .0144595  .0139584    1.0359
             GHA |  .0161588  .0171653  .9413668
             GIN |  .0295651  .0157971   1.87155
             GLP |  .0026896  .0031993  .8406766
             GMB |  .0060174  .0064563  .9320285
             GNB |  .0119236  .0123394  .9662982
             GNQ |   .004611  .0057697  .7991799
             GRC |  .0070354  .0077218  .9111004
             GRD |  .0046971  .0036996  1.269625
             GRL |  .0015696  .0021293  .7371484
             GTM |  .0052334  .0082464  .6346338
             GUM |  .0031878  .0046017    .69274
             HKG |  .0102047  .0079714  1.280152
             HND |  .0058741   .006358  .9238965
             HRV |  .0057455  .0051745  1.110354
             HTI |  .0106366  .0112736  .9434947
             HUN |  .0078891  .0087609    .90049
             IDN |  .0108213  .0120253  .8998836
             IND |  .0092025  .0129878  .7085468
             IRL |  .0030515  .0033899  .9001715
             IRN |  .0189014  .0206396  .9157862
             IRQ |  .0080761  .0097551  .8278852
             ISL |  .0089746  .0077699  1.155039
             ISR |  .0065709  .0081228  .8089373
             ITA |  .0027944   .003326  .8401548
             JAM |  .0091448  .0104013  .8792012
             JOR |  .0096824  .0101232  .9564532
             JPN |  .0057746  .0069671  .8288432
             KAZ |  .0072796  .0079492  .9157713
             KEN |  .0089618  .0115452  .7762418
             KGZ |  .0148984  .0141772   1.05087
             KHM |  .0124369  .0099155  1.254293
             KIR |  .0166705  .0100551  1.657914
             KNA |  .0096756  .0046939  2.061316
             KOR |  .0105809  .0130632  .8099751
             KWT |  .0059679  .0057226   1.04287
             LAO |  .0070191  .0092594  .7580458
             LBN |  .0512742  .0205887   2.49041
             LBR |  .0195108  .0211894  .9207808
             LBY |  .0365524  .0213012  1.715981
             LCA |   .010856  .0092228   1.17708
             LKA |  .0116944  .0145952  .8012537
             LSO |  .0061032  .0068149  .8955705
             LTU |   .005289  .0071196  .7428694
             LUX |  .0026736  .0030816  .8675962
             LVA |  .0068063  .0094672  .7189361
             MAC |  .0054941  .0052603  1.044448
             MAR |  .0084963  .0074922  1.134024
             MDA |  .0103757  .0145556   .712833
             MDG |  .0134316  .0115287  1.165062
             MDV |  .0282051  .0242534  1.162934
             MEX |  .0060756  .0075682  .8027837
             MKD |  .0075497  .0075908  .9945851
             MLI |  .0134272  .0162299  .8273091
             MLT |  .0058466  .0060937  .9594593
             MMR |  .0112255  .0111628  1.005615
             MNE |  .0040917  .0036878  1.109524
             MNG |  .0156533  .0175614  .8913478
             MOZ |  .0106226  .0117492  .9041075
             MRT |  .0038392  .0057528  .6673525
             MSR |  .0060635  .0054315  1.116362
             MTQ |  .0029504  .0037112  .7950031
             MUS |  .0156198  .0121738  1.283071
             MWI |  .0299488  .0461978  .6482735
             MYS |  .0032346  .0035248  .9176709
             NAM |  .0055824  .0073306  .7615124
             NCL |  .0045129  .0042885  1.052329
             NER |  .0166141  .0180284  .9215535
             NGA |  .0108898  .0127207  .8560691
             NIC |  .0071414  .0087173  .8192206
             NLD |  .0038431  .0046742  .8221826
             NOR |  .0096496  .0089318  1.080362
             NPL |  .0088985    .00977  .9107932
             NZL |  .0051422   .005482  .9380143
             OMN |  .0068517  .0080306  .8531986
             PAK |  .0098563  .0116306  .8474516
             PAN |  .0040957  .0037446  1.093762
             PER |  .0046475   .005262   .883224
             PHL |  .0045387   .004648  .9764956
             PLW |  .0047874  .0050331  .9511831
             PNG |  .0021482  .0030128  .7130279
             POL |  .0056355  .0074909  .7523122
             PRI |   .004144  .0034573  1.198639
             PRT |  .0036577  .0043173  .8472305
             PRY |  .0123605  .0139341  .8870642
             PSE |  .0084044  .0105271  .7983585
             PYF |  .0061091  .0061866  .9874739
             QAT |   .005995  .0057933  1.034804
             REU |  .0048997  .0055078  .8895995
             ROU |  .0090689  .0083236  1.089549
             RUS |  .0073187   .010433  .7014948
             RWA |  .0159188  .0184568  .8624925
             SAU |  .0065035  .0043892  1.481695
             SDN |  .0333493  .0375607  .8878776
             SEN |  .0135466  .0169111  .8010484
             SGP |  .0048007  .0037897  1.266776
             SLB |  .0114557   .012146   .943167
             SLE |  .0094959  .0086455  1.098364
             SLV |  .0041496  .0047422  .8750282
             SMR |   .003755  .0050446    .74435
             SRB |  .0152638  .0151021  1.010707
             SSD |  .0931769  .0789401  1.180348
             STP |  .0109846  .0120968  .9080606
             SUR |  .0203662  .0159746   1.27491
             SVK |  .0062482  .0067455  .9262729
             SVN |  .0064858  .0072558  .8938792
             SWE |  .0038391  .0045479  .8441601
             SWZ |  .0067869  .0073871  .9187504
             SYC |  .0194603  .0079938  2.434424
             SYR |  .0311206  .0240197  1.295626
             TCD |  .0132582  .0143602  .9232663
             TGO |  .0209652  .0235625  .8897705
             THA |  .0034448  .0037111  .9282572
             TJK |  .0087449  .0092716  .9431886
             TLS |  .0066041  .0055383  1.192451
             TON |   .010313  .0122523   .841718
             TTO |  .0137181  .0138457  .9907843
             TUN |  .0044441  .0056783  .7826342
             TUR |  .0197279  .0206091   .957243
             TZA |  .0080379  .0103558  .7761726
             UGA |  .0172367  .0129601  1.329986
             UKR |  .0134823  .0122264  1.102717
             URY |   .007137   .009403  .7590142
             USA |  .0029063  .0031557  .9209765
             UZB |  .0096141  .0133787  .7186157
             VCT |  .0101085  .0070402  1.435828
             VEN |  .2566771  .1184957   2.16613
             VGB |   .004924  .0032625  1.509273
             VNM |  .0107098  .0082128  1.304036
             VUT |  .0061594  .0046603  1.321656
             WSM |  .0147715  .0144827  1.019945
             YEM |  .0105069  .0131906  .7965483
             ZAF |  .0056341  .0062172  .9062151
             ZMB |  .0098684  .0115337  .8556113
             ZWE |  .0573062   .020282  2.825475
-----------------+------------------------------
           Total |  .0253749  .0104966  2.417446
------------------------------------------------

.                                         sum fpi_sd fpi_mean fpi_cv

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
      fpi_sd |     52,608    .0074622    .0164221          0   .8072426
    fpi_mean |     52,608    .0104932    .0185655          0   .6424599
      fpi_cv |     52,596     .660279    .3592672   .0008129   3.464102

.                                 
.                         // Save
.                                 drop flag flagdescription note i countnm 

.                                 order ISO country year wb_region incgrp fpi_sd fpi_cv, first

.                                 save foodpricevolatility, replace
file foodpricevolatility.dta saved

.                                 export delimited using foodpricevolatility, replace
file foodpricevolatility.csv saved

.                                 
.                         // Collapse to yearly dataset to merge with other data
.                                 use foodpricevolatility, clear

.                                         // Save labels
.                                         foreach v of var * {
  2.                                         local l`v' : variable label `v'
  3.                                                 if `"`l`v''"' == "" {
  4.                                                 local l`v' "`v'"
  5.                                                 }
  6.                                         }

.                                         collapse (first) fpi_sd fpi_cv fpi_mean (mean) CPI_food, by(ISO country year wb_region incgrp m49_code UN_continental_
> region UN_subregion UN_intermediary_region UN_contregion_code UN_subregion_code UN_intermedregion_code)

.                                         // Relabel
.                                                 foreach v of var * {
  2.                                                 label var `v' "`l`v''"
  3.                                                         }

.                                                 lab var CPI_food "Mean annual CPI-Food"

.                         
.                         // Save
.                                 save foodpricevolatility_annual, replace
file foodpricevolatility_annual.dta saved

.                                 export delimited using foodpricevolatility_annual, replace
file foodpricevolatility_annual.csv saved

.                         
. **# Food supply variability (FAO)
.                 import delimited using "$datain\FAOSTAT_FoodSupplyVariability.csv", clear
(encoding automatically selected: UTF-8)
(15 vars, 4,488 obs)

.                         ren area country

.                         drop item // variable label "Per capita food supply variability (kcal/cap/day)"

.                         drop domaincode domain areacodem49 elementcode element itemcode item unit flag flagdescription note

.                         ren value foodsupplyvar

.                         lab var foodsupplyvar "Per capita food supply variability (kcal/cap/day)"

.                         drop yearcode

.                         
.                         // Merge in country classification
.                                 replace country = "Côte D'Ivoire" if country == "C?te d'Ivoire"
(0 real changes made)

.                                 replace country = "Gambia (Republic of The)" if country == "Gambia"
(22 real changes made)

.                                 replace country = "Venezuela, Bolivarian Republic of" if country == "Venezuela (Bolivarian Republic of)"
(22 real changes made)

.                                 drop if country == "China" // aggregate - drop to avoid double counting
(22 observations deleted)

.                                 replace country = "Hong Kong" if country == "China, Hong Kong SAR"
(22 real changes made)

.                                 replace country = "Macau" if country == "China, Macao SAR"
(22 real changes made)

.                                 replace country = "Taiwan" if country == "China, Taiwan Province of"
(22 real changes made)

.                                 replace country = "China" if country == "China, mainland"
(22 real changes made)

.                                 replace country = "Palestine, State of" if country == "Palestine"
(22 real changes made)

.                                 replace country = "Türkiye" if country == "T?rkiye"
(0 real changes made)

.                                 replace country = "Dem People's Rep of Korea" if country == "Democratic People's Republic of Korea"
(22 real changes made)

.                         merge m:1 country using iso
(variable country was str52, now str58 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            69
        from master                        22  (_merge==1)
        from using                         47  (_merge==2)

    Matched                             4,444  (_merge==3)
    -----------------------------------------

.                                 drop if _merge!=3
(69 observations deleted)

.                                 drop _merge

.                         merge m:1 country ISO using countryclassification
(variable ISO was str3, now str16 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                            87
        from master                         0  (_merge==1)
        from using                         87  (_merge==2)

    Matched                             4,444  (_merge==3)
    -----------------------------------------

.                         drop if _merge == 2
(87 observations deleted)

.                                 drop _merge

.                                 
.                         // Further clean
.                                 sort country year

.                                 sum foodsupplyvar if year==2021

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
foodsupply~r |          0

.                                 drop if year == 2021 // all missing
(202 observations deleted)

.                                 order ISO country year, first

.                         
.                 // Save
.                         save foodsupplyvariability, replace
file foodsupplyvariability.dta saved

.                         export delimited using foodsupplyvariability, replace
file foodsupplyvariability.csv saved

. 
.                         
. **# COMBINED MASTER DATASET - ALL YEARS ****************************************
. 
. * context and merging variables
.         use countryclassification, clear

.         expand 63
(17,918 observations created)

.         egen year = seq(), from(1960) by(ISO country)

.                 tab year

       year |      Freq.     Percent        Cum.
------------+-----------------------------------
       1960 |        289        1.59        1.59
       1961 |        289        1.59        3.17
       1962 |        289        1.59        4.76
       1963 |        289        1.59        6.35
       1964 |        289        1.59        7.94
       1965 |        289        1.59        9.52
       1966 |        289        1.59       11.11
       1967 |        289        1.59       12.70
       1968 |        289        1.59       14.29
       1969 |        289        1.59       15.87
       1970 |        289        1.59       17.46
       1971 |        289        1.59       19.05
       1972 |        289        1.59       20.63
       1973 |        289        1.59       22.22
       1974 |        289        1.59       23.81
       1975 |        289        1.59       25.40
       1976 |        289        1.59       26.98
       1977 |        289        1.59       28.57
       1978 |        289        1.59       30.16
       1979 |        289        1.59       31.75
       1980 |        289        1.59       33.33
       1981 |        289        1.59       34.92
       1982 |        289        1.59       36.51
       1983 |        289        1.59       38.10
       1984 |        289        1.59       39.68
       1985 |        289        1.59       41.27
       1986 |        289        1.59       42.86
       1987 |        289        1.59       44.44
       1988 |        289        1.59       46.03
       1989 |        289        1.59       47.62
       1990 |        289        1.59       49.21
       1991 |        289        1.59       50.79
       1992 |        289        1.59       52.38
       1993 |        289        1.59       53.97
       1994 |        289        1.59       55.56
       1995 |        289        1.59       57.14
       1996 |        289        1.59       58.73
       1997 |        289        1.59       60.32
       1998 |        289        1.59       61.90
       1999 |        289        1.59       63.49
       2000 |        289        1.59       65.08
       2001 |        289        1.59       66.67
       2002 |        289        1.59       68.25
       2003 |        289        1.59       69.84
       2004 |        289        1.59       71.43
       2005 |        289        1.59       73.02
       2006 |        289        1.59       74.60
       2007 |        289        1.59       76.19
       2008 |        289        1.59       77.78
       2009 |        289        1.59       79.37
       2010 |        289        1.59       80.95
       2011 |        289        1.59       82.54
       2012 |        289        1.59       84.13
       2013 |        289        1.59       85.71
       2014 |        289        1.59       87.30
       2015 |        289        1.59       88.89
       2016 |        289        1.59       90.48
       2017 |        289        1.59       92.06
       2018 |        289        1.59       93.65
       2019 |        289        1.59       95.24
       2020 |        289        1.59       96.83
       2021 |        289        1.59       98.41
       2022 |        289        1.59      100.00
------------+-----------------------------------
      Total |     18,207      100.00

.         merge 1:m ISO country year using population
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         4,753
        from master                     4,753  (_merge==1)
        from using                          0  (_merge==2)

    Matched                            13,454  (_merge==3)
    -----------------------------------------

.                 drop _merge

.         merge 1:1 ISO country year using GDP
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         4,536
        from master                     4,536  (_merge==1)
        from using                          0  (_merge==2)

    Matched                            13,671  (_merge==3)
    -----------------------------------------

.                 drop _merge

.         merge 1:1 ISO country year using landarea
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         4,536
        from master                     4,536  (_merge==1)
        from using                          0  (_merge==2)

    Matched                            13,671  (_merge==3)
    -----------------------------------------

.                 drop _merge

. 
. * Diets, nutrition  & health
.         merge 1:1 ISO country year using fruitveg_availability, nogen
(label status already defined)
(label UN_status_detail already defined)
(label wb_region already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        16,417
        from master                    16,417  
        from using                          0  

    Matched                             1,790  
    -----------------------------------------

.         merge 1:1 ISO country year using UPFretailval, nogen // TO BE REMOVED IF PERMISSION NOT SECURED
(label status already defined)
(label UN_status_detail already defined)
(label wb_region already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        17,598
        from master                    17,598  
        from using                          0  

    Matched                               609  
    -----------------------------------------

.                 drop UPFretailval

.         merge 1:1 ISO country year using safewater, nogen
variable UN_contregion_code is str11 in master but int in using data
    You could specify merge's force option to ignore this string/numeric mismatch.  The using variable would then be treated as if it contained "".
r(106);

end of do-file

r(106);

. do "C:\Users\KATES~1\AppData\Local\Temp\STD62b4_000000.tmp"

.         use countryclassification, clear

.         expand 63
(17,918 observations created)

.         egen year = seq(), from(1960) by(ISO country)

.                 tab year

       year |      Freq.     Percent        Cum.
------------+-----------------------------------
       1960 |        289        1.59        1.59
       1961 |        289        1.59        3.17
       1962 |        289        1.59        4.76
       1963 |        289        1.59        6.35
       1964 |        289        1.59        7.94
       1965 |        289        1.59        9.52
       1966 |        289        1.59       11.11
       1967 |        289        1.59       12.70
       1968 |        289        1.59       14.29
       1969 |        289        1.59       15.87
       1970 |        289        1.59       17.46
       1971 |        289        1.59       19.05
       1972 |        289        1.59       20.63
       1973 |        289        1.59       22.22
       1974 |        289        1.59       23.81
       1975 |        289        1.59       25.40
       1976 |        289        1.59       26.98
       1977 |        289        1.59       28.57
       1978 |        289        1.59       30.16
       1979 |        289        1.59       31.75
       1980 |        289        1.59       33.33
       1981 |        289        1.59       34.92
       1982 |        289        1.59       36.51
       1983 |        289        1.59       38.10
       1984 |        289        1.59       39.68
       1985 |        289        1.59       41.27
       1986 |        289        1.59       42.86
       1987 |        289        1.59       44.44
       1988 |        289        1.59       46.03
       1989 |        289        1.59       47.62
       1990 |        289        1.59       49.21
       1991 |        289        1.59       50.79
       1992 |        289        1.59       52.38
       1993 |        289        1.59       53.97
       1994 |        289        1.59       55.56
       1995 |        289        1.59       57.14
       1996 |        289        1.59       58.73
       1997 |        289        1.59       60.32
       1998 |        289        1.59       61.90
       1999 |        289        1.59       63.49
       2000 |        289        1.59       65.08
       2001 |        289        1.59       66.67
       2002 |        289        1.59       68.25
       2003 |        289        1.59       69.84
       2004 |        289        1.59       71.43
       2005 |        289        1.59       73.02
       2006 |        289        1.59       74.60
       2007 |        289        1.59       76.19
       2008 |        289        1.59       77.78
       2009 |        289        1.59       79.37
       2010 |        289        1.59       80.95
       2011 |        289        1.59       82.54
       2012 |        289        1.59       84.13
       2013 |        289        1.59       85.71
       2014 |        289        1.59       87.30
       2015 |        289        1.59       88.89
       2016 |        289        1.59       90.48
       2017 |        289        1.59       92.06
       2018 |        289        1.59       93.65
       2019 |        289        1.59       95.24
       2020 |        289        1.59       96.83
       2021 |        289        1.59       98.41
       2022 |        289        1.59      100.00
------------+-----------------------------------
      Total |     18,207      100.00

.         merge 1:m ISO country year using population
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         4,753
        from master                     4,753  (_merge==1)
        from using                          0  (_merge==2)

    Matched                            13,454  (_merge==3)
    -----------------------------------------

.                 drop _merge

.         merge 1:1 ISO country year using GDP
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         4,536
        from master                     4,536  (_merge==1)
        from using                          0  (_merge==2)

    Matched                            13,671  (_merge==3)
    -----------------------------------------

.                 drop _merge

.         merge 1:1 ISO country year using landarea
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         4,536
        from master                     4,536  (_merge==1)
        from using                          0  (_merge==2)

    Matched                            13,671  (_merge==3)
    -----------------------------------------

.                 drop _merge

.         destring, replace
country: contains nonnumeric characters; no replace
ISO: contains nonnumeric characters; no replace
incgrp: contains nonnumeric characters; no replace
wb_region already numeric; no replace
disp_area: contains nonnumeric characters; no replace
UN_status_detail already numeric; no replace
UNmemberstate already numeric; no replace
UN_status already numeric; no replace
territoryof: contains nonnumeric characters; no replace
ISO_governing: contains nonnumeric characters; no replace
UN_contregion_code: all characters numeric; replaced as int
(2457 missing values generated)
UN_continental_region: contains nonnumeric characters; no replace
UN_subregion_code: all characters numeric; replaced as int
(2394 missing values generated)
UN_subregion: contains nonnumeric characters; no replace
UN_intermedregion_code: all characters numeric; replaced as int
(11340 missing values generated)
UN_intermediary_region: contains nonnumeric characters; no replace
m49_code: all characters numeric; replaced as int
(2331 missing values generated)
year already numeric; no replace
totalpop already numeric; no replace
GDP already numeric; no replace
GDP_percap already numeric; no replace
landarea already numeric; no replace

. 
end of do-file

. do "C:\Users\KATES~1\AppData\Local\Temp\STD62b4_000000.tmp"

. * Diets, nutrition  & health
.         merge 1:1 ISO country year using fruitveg_availability, nogen
variable UN_contregion_code is int in master but str11 in using data
    You could specify merge's force option to ignore this numeric/string mismatch.  The using variable would then be treated as if it contained numeric
    missing value.
r(106);

end of do-file

r(106);

. do "C:\Users\KATES~1\AppData\Local\Temp\STD62b4_000000.tmp"

.         use countryclassification, clear

.         expand 63
(17,918 observations created)

.         egen year = seq(), from(1960) by(ISO country)

.                 tab year

       year |      Freq.     Percent        Cum.
------------+-----------------------------------
       1960 |        289        1.59        1.59
       1961 |        289        1.59        3.17
       1962 |        289        1.59        4.76
       1963 |        289        1.59        6.35
       1964 |        289        1.59        7.94
       1965 |        289        1.59        9.52
       1966 |        289        1.59       11.11
       1967 |        289        1.59       12.70
       1968 |        289        1.59       14.29
       1969 |        289        1.59       15.87
       1970 |        289        1.59       17.46
       1971 |        289        1.59       19.05
       1972 |        289        1.59       20.63
       1973 |        289        1.59       22.22
       1974 |        289        1.59       23.81
       1975 |        289        1.59       25.40
       1976 |        289        1.59       26.98
       1977 |        289        1.59       28.57
       1978 |        289        1.59       30.16
       1979 |        289        1.59       31.75
       1980 |        289        1.59       33.33
       1981 |        289        1.59       34.92
       1982 |        289        1.59       36.51
       1983 |        289        1.59       38.10
       1984 |        289        1.59       39.68
       1985 |        289        1.59       41.27
       1986 |        289        1.59       42.86
       1987 |        289        1.59       44.44
       1988 |        289        1.59       46.03
       1989 |        289        1.59       47.62
       1990 |        289        1.59       49.21
       1991 |        289        1.59       50.79
       1992 |        289        1.59       52.38
       1993 |        289        1.59       53.97
       1994 |        289        1.59       55.56
       1995 |        289        1.59       57.14
       1996 |        289        1.59       58.73
       1997 |        289        1.59       60.32
       1998 |        289        1.59       61.90
       1999 |        289        1.59       63.49
       2000 |        289        1.59       65.08
       2001 |        289        1.59       66.67
       2002 |        289        1.59       68.25
       2003 |        289        1.59       69.84
       2004 |        289        1.59       71.43
       2005 |        289        1.59       73.02
       2006 |        289        1.59       74.60
       2007 |        289        1.59       76.19
       2008 |        289        1.59       77.78
       2009 |        289        1.59       79.37
       2010 |        289        1.59       80.95
       2011 |        289        1.59       82.54
       2012 |        289        1.59       84.13
       2013 |        289        1.59       85.71
       2014 |        289        1.59       87.30
       2015 |        289        1.59       88.89
       2016 |        289        1.59       90.48
       2017 |        289        1.59       92.06
       2018 |        289        1.59       93.65
       2019 |        289        1.59       95.24
       2020 |        289        1.59       96.83
       2021 |        289        1.59       98.41
       2022 |        289        1.59      100.00
------------+-----------------------------------
      Total |     18,207      100.00

.         merge 1:m ISO country year using population
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         4,753
        from master                     4,753  (_merge==1)
        from using                          0  (_merge==2)

    Matched                            13,454  (_merge==3)
    -----------------------------------------

.                 drop _merge

.         merge 1:1 ISO country year using GDP
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         4,536
        from master                     4,536  (_merge==1)
        from using                          0  (_merge==2)

    Matched                            13,671  (_merge==3)
    -----------------------------------------

.                 drop _merge

.         merge 1:1 ISO country year using landarea
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         4,536
        from master                     4,536  (_merge==1)
        from using                          0  (_merge==2)

    Matched                            13,671  (_merge==3)
    -----------------------------------------

.                 drop _merge

. 
. * Diets, nutrition  & health
.         merge 1:1 ISO country year using fruitveg_availability, nogen
(label status already defined)
(label UN_status_detail already defined)
(label wb_region already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        16,417
        from master                    16,417  
        from using                          0  

    Matched                             1,790  
    -----------------------------------------

.         merge 1:1 ISO country year using UPFretailval, nogen // TO BE REMOVED IF PERMISSION NOT SECURED
(label status already defined)
(label UN_status_detail already defined)
(label wb_region already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        17,598
        from master                    17,598  
        from using                          0  

    Matched                               609  
    -----------------------------------------

.                 drop UPFretailval

. 
end of do-file

. do "C:\Users\KATES~1\AppData\Local\Temp\STD62b4_000000.tmp"

.         merge 1:1 ISO country year using safewater, nogen force
(note: variable UN_contregion_code was int in the using data, but will be str11 now)
(note: variable UN_subregion_code was int in the using data, but will be str15 now)
(note: variable UN_intermedregion_code was byte in the using data, but will be str24 now)
(note: variable m49_code was int in the using data, but will be str20 now)
(label wb_region already defined)
(label UN_status_detail already defined)
(label status already defined)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        13,335
        from master                    13,335  
        from using                          0  

    Matched                             4,872  
    -----------------------------------------

. 
end of do-file

. do "C:\Users\KATES~1\AppData\Local\Temp\STD62b4_000000.tmp"

.         merge 1:1 ISO country year using FIES_modsev, nogen
(variable year was int, now long to accommodate using data's values)
variables ISO country year do not uniquely identify observations in the using data
r(459);

end of do-file

r(459);

. use FIES_modsev, clear

. browse ISO country

. duplicates tag ISO country year, gen(dups)

Duplicates in terms of ISO country year

. tab dups

       dups |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |         86        4.19        4.19
          2 |      1,968       95.81      100.00
------------+-----------------------------------
      Total |      2,054      100.00

. browse if dups == 2

. browse if dups == 2

. log close
      name:  <unnamed>
       log:  C:\Users\Kate S\OneDrive - Johns Hopkins\FSCI\Data team\Data Analysis Workstream\FSCI analysis datasets - Year 2 (2022)\FSCI 2022 Data Management.l
> og
  log type:  text
 closed on:   1 Dec 2022, 20:14:44
----------------------------------------------------------------------------------------------------------------------------------------------------------------
